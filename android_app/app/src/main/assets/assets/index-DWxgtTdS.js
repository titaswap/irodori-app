(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function hw(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Qd={exports:{}},Bl={};var J0;function fw(){if(J0)return Bl;J0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var W0;function dw(){return W0||(W0=1,Qd.exports=fw()),Qd.exports}var E=dw(),Kd={exports:{}},Me={};var Z0;function mw(){if(Z0)return Me;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function L(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Y={};function ne(D,B,se){this.props=D,this.context=B,this.refs=Y,this.updater=se||X}ne.prototype.isReactComponent={},ne.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},ne.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function me(){}me.prototype=ne.prototype;function fe(D,B,se){this.props=D,this.context=B,this.refs=Y,this.updater=se||X}var De=fe.prototype=new me;De.constructor=fe,K(De,ne.prototype),De.isPureReactComponent=!0;var Ee=Array.isArray;function ve(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(D,B,se){var oe=se.ref;return{$$typeof:s,type:D,key:B,ref:oe!==void 0?oe:null,props:se}}function M(D,B){return C(D.type,B,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function V(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return B[se]})}var R=/\/+/g;function tt(D,B){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):B.toString(36)}function je(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ve,ve):(D.status="pending",D.then(function(B){D.status==="pending"&&(D.status="fulfilled",D.value=B)},function(B){D.status==="pending"&&(D.status="rejected",D.reason=B)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,B,se,oe,we){var ue=typeof D;(ue==="undefined"||ue==="boolean")&&(D=null);var ge=!1;if(D===null)ge=!0;else switch(ue){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(D.$$typeof){case s:case e:ge=!0;break;case T:return ge=D._init,F(ge(D._payload),B,se,oe,we)}}if(ge)return we=we(D),ge=oe===""?"."+tt(D,0):oe,Ee(we)?(se="",ge!=null&&(se=ge.replace(R,"$&/")+"/"),F(we,B,se,"",function(Dt){return Dt})):we!=null&&(O(we)&&(we=M(we,se+(we.key==null||D&&D.key===we.key?"":(""+we.key).replace(R,"$&/")+"/")+ge)),B.push(we)),1;ge=0;var Se=oe===""?".":oe+":";if(Ee(D))for(var Ie=0;Ie<D.length;Ie++)oe=D[Ie],ue=Se+tt(oe,Ie),ge+=F(oe,B,se,ue,we);else if(Ie=L(D),typeof Ie=="function")for(D=Ie.call(D),Ie=0;!(oe=D.next()).done;)oe=oe.value,ue=Se+tt(oe,Ie++),ge+=F(oe,B,se,ue,we);else if(ue==="object"){if(typeof D.then=="function")return F(je(D),B,se,oe,we);throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ae(D,B,se){if(D==null)return D;var oe=[],we=0;return F(D,oe,"","",function(ue){return B.call(se,ue,we++)}),oe}function te(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var ce=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},be={map:ae,forEach:function(D,B,se){ae(D,function(){B.apply(this,arguments)},se)},count:function(D){var B=0;return ae(D,function(){B++}),B},toArray:function(D){return ae(D,function(B){return B})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Me.Activity=w,Me.Children=be,Me.Component=ne,Me.Fragment=i,Me.Profiler=l,Me.PureComponent=fe,Me.StrictMode=r,Me.Suspense=g,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Me.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},Me.cache=function(D){return function(){return D.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(D,B,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=K({},D.props),we=D.key;if(B!=null)for(ue in B.key!==void 0&&(we=""+B.key),B)!A.call(B,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&B.ref===void 0||(oe[ue]=B[ue]);var ue=arguments.length-2;if(ue===1)oe.children=se;else if(1<ue){for(var ge=Array(ue),Se=0;Se<ue;Se++)ge[Se]=arguments[Se+2];oe.children=ge}return C(D.type,we,oe)},Me.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Me.createElement=function(D,B,se){var oe,we={},ue=null;if(B!=null)for(oe in B.key!==void 0&&(ue=""+B.key),B)A.call(B,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(we[oe]=B[oe]);var ge=arguments.length-2;if(ge===1)we.children=se;else if(1<ge){for(var Se=Array(ge),Ie=0;Ie<ge;Ie++)Se[Ie]=arguments[Ie+2];we.children=Se}if(D&&D.defaultProps)for(oe in ge=D.defaultProps,ge)we[oe]===void 0&&(we[oe]=ge[oe]);return C(D,ue,we)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(D){return{$$typeof:p,render:D}},Me.isValidElement=O,Me.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:te}},Me.memo=function(D,B){return{$$typeof:y,type:D,compare:B===void 0?null:B}},Me.startTransition=function(D){var B=x.T,se={};x.T=se;try{var oe=D(),we=x.S;we!==null&&we(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,ce)}catch(ue){ce(ue)}finally{B!==null&&se.types!==null&&(B.types=se.types),x.T=B}},Me.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Me.use=function(D){return x.H.use(D)},Me.useActionState=function(D,B,se){return x.H.useActionState(D,B,se)},Me.useCallback=function(D,B){return x.H.useCallback(D,B)},Me.useContext=function(D){return x.H.useContext(D)},Me.useDebugValue=function(){},Me.useDeferredValue=function(D,B){return x.H.useDeferredValue(D,B)},Me.useEffect=function(D,B){return x.H.useEffect(D,B)},Me.useEffectEvent=function(D){return x.H.useEffectEvent(D)},Me.useId=function(){return x.H.useId()},Me.useImperativeHandle=function(D,B,se){return x.H.useImperativeHandle(D,B,se)},Me.useInsertionEffect=function(D,B){return x.H.useInsertionEffect(D,B)},Me.useLayoutEffect=function(D,B){return x.H.useLayoutEffect(D,B)},Me.useMemo=function(D,B){return x.H.useMemo(D,B)},Me.useOptimistic=function(D,B){return x.H.useOptimistic(D,B)},Me.useReducer=function(D,B,se){return x.H.useReducer(D,B,se)},Me.useRef=function(D){return x.H.useRef(D)},Me.useState=function(D){return x.H.useState(D)},Me.useSyncExternalStore=function(D,B,se){return x.H.useSyncExternalStore(D,B,se)},Me.useTransition=function(){return x.H.useTransition()},Me.version="19.2.3",Me}var e_;function jm(){return e_||(e_=1,Kd.exports=mw()),Kd.exports}var Z=jm();const xs=hw(Z);var Yd={exports:{}},ql={},Xd={exports:{}},$d={};var t_;function pw(){return t_||(t_=1,(function(s){function e(F,ae){var te=F.length;F.push(ae);e:for(;0<te;){var ce=te-1>>>1,be=F[ce];if(0<l(be,ae))F[ce]=ae,F[te]=be,te=ce;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ae=F[0],te=F.pop();if(te!==ae){F[0]=te;e:for(var ce=0,be=F.length,D=be>>>1;ce<D;){var B=2*(ce+1)-1,se=F[B],oe=B+1,we=F[oe];if(0>l(se,te))oe<be&&0>l(we,se)?(F[ce]=we,F[oe]=te,ce=oe):(F[ce]=se,F[B]=te,ce=B);else if(oe<be&&0>l(we,te))F[ce]=we,F[oe]=te,ce=oe;else break e}}return ae}function l(F,ae){var te=F.sortIndex-ae.sortIndex;return te!==0?te:F.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,w=null,I=3,L=!1,X=!1,K=!1,Y=!1,ne=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function De(F){for(var ae=i(y);ae!==null;){if(ae.callback===null)r(y);else if(ae.startTime<=F)r(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=i(y)}}function Ee(F){if(K=!1,De(F),!X)if(i(g)!==null)X=!0,ve||(ve=!0,V());else{var ae=i(y);ae!==null&&je(Ee,ae.startTime-F)}}var ve=!1,x=-1,A=5,C=-1;function M(){return Y?!0:!(s.unstable_now()-C<A)}function O(){if(Y=!1,ve){var F=s.unstable_now();C=F;var ae=!0;try{e:{X=!1,K&&(K=!1,me(x),x=-1),L=!0;var te=I;try{t:{for(De(F),w=i(g);w!==null&&!(w.expirationTime>F&&M());){var ce=w.callback;if(typeof ce=="function"){w.callback=null,I=w.priorityLevel;var be=ce(w.expirationTime<=F);if(F=s.unstable_now(),typeof be=="function"){w.callback=be,De(F),ae=!0;break t}w===i(g)&&r(g),De(F)}else r(g);w=i(g)}if(w!==null)ae=!0;else{var D=i(y);D!==null&&je(Ee,D.startTime-F),ae=!1}}break e}finally{w=null,I=te,L=!1}ae=void 0}}finally{ae?V():ve=!1}}}var V;if(typeof fe=="function")V=function(){fe(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,tt=R.port2;R.port1.onmessage=O,V=function(){tt.postMessage(null)}}else V=function(){ne(O,0)};function je(F,ae){x=ne(function(){F(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(F){switch(I){case 1:case 2:case 3:var ae=3;break;default:ae=I}var te=I;I=ae;try{return F()}finally{I=te}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var te=I;I=F;try{return ae()}finally{I=te}},s.unstable_scheduleCallback=function(F,ae,te){var ce=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,F){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=te+be,F={id:T++,callback:ae,priorityLevel:F,startTime:te,expirationTime:be,sortIndex:-1},te>ce?(F.sortIndex=te,e(y,F),i(g)===null&&F===i(y)&&(K?(me(x),x=-1):K=!0,je(Ee,te-ce))):(F.sortIndex=be,e(g,F),X||L||(X=!0,ve||(ve=!0,V()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var ae=I;return function(){var te=I;I=ae;try{return F.apply(this,arguments)}finally{I=te}}}})($d)),$d}var n_;function gw(){return n_||(n_=1,Xd.exports=pw()),Xd.exports}var Jd={exports:{}},sn={};var i_;function yw(){if(i_)return sn;i_=1;var s=jm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},sn.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},sn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},sn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},sn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,w=p(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:L}):T==="script"&&r.d.X(g,{crossOrigin:w,integrity:I,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},sn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},sn.requestFormReset=function(g){r.d.r(g)},sn.unstable_batchedUpdates=function(g,y){return g(y)},sn.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var s_;function qv(){if(s_)return Jd.exports;s_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=yw(),Jd.exports}var r_;function _w(){if(r_)return ql;r_=1;var s=gw(),e=jm(),i=qv();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,o=f;break}if(b===o){_=!0,o=h,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,o=h;break}if(b===o){_=!0,o=f,a=h;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,I=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case ne:return"Profiler";case Y:return"StrictMode";case Ee:return"Suspense";case ve:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case fe:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case De:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var je=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ce=[],be=-1;function D(t){return{current:t}}function B(t){0>be||(t.current=ce[be],ce[be]=null,be--)}function se(t,n){be++,ce[be]=t.current,t.current=n}var oe=D(null),we=D(null),ue=D(null),ge=D(null);function Se(t,n){switch(se(ue,n),se(we,t),se(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?E0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=E0(n),t=b0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(oe),se(oe,t)}function Ie(){B(oe),B(we),B(ue)}function Dt(t){t.memoizedState!==null&&se(ge,t);var n=oe.current,a=b0(n,t.type);n!==a&&(se(we,t),se(oe,a))}function Yi(t){we.current===t&&(B(oe),B(we)),ge.current===t&&(B(ge),Ll._currentValue=te)}var Xi,Si;function Bn(t){if(Xi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xi=n&&n[1]||"",Si=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xi+t+Si}var $i=!1;function Ji(t,n){if(!t||$i)return"";$i=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var q=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){q=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){q=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var N=_.split(`
`),z=b.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var $=`
`+N[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{$i=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Bn(a):""}function Wi(t,n){switch(t.tag){case 26:case 27:case 5:return Bn(t.type);case 16:return Bn("Lazy");case 13:return t.child!==n&&n!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Ji(t.type,!1);case 11:return Ji(t.type.render,!1);case 1:return Ji(t.type,!0);case 31:return Bn("Activity");default:return""}}function ui(t){try{var n="",a=null;do n+=Wi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pt=Object.prototype.hasOwnProperty,At=s.unstable_scheduleCallback,qn=s.unstable_cancelCallback,Lr=s.unstable_shouldYield,Zi=s.unstable_requestPaint,Ut=s.unstable_now,Ai=s.unstable_getCurrentPriorityLevel,Ft=s.unstable_ImmediatePriority,ci=s.unstable_UserBlockingPriority,xi=s.unstable_NormalPriority,Ko=s.unstable_LowPriority,Da=s.unstable_IdlePriority,hi=s.log,jr=s.unstable_setDisableYieldValue,pn=null,vt=null;function tn(t){if(typeof hi=="function"&&jr(t),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(pn,t)}catch{}}var Xe=Math.clz32?Math.clz32:Oa,Ur=Math.log,Ps=Math.LN2;function Oa(t){return t>>>=0,t===0?32:31-(Ur(t)/Ps|0)|0}var nn=256,Cn=262144,ct=4194304;function gn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=gn(o):(_&=b,_!==0?h=gn(_):a||(a=b&~t,a!==0&&(h=gn(a))))):(b=o&~f,b!==0?h=gn(b):_!==0?h=gn(_):a||(a=o&~t,a!==0&&(h=gn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(){var t=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),t}function Rn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function es(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yo(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-Xe(a),W=1<<$;b[$]=0,N[$]=-1;var q=z[$];if(q!==null)for(z[$]=null,$=0;$<q.length;$++){var Q=q[$];Q!==null&&(Q.lane&=-536870913)}a&=~W}o!==0&&ts(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function ts(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Xe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function qr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Xe(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Hr(t,n){var a=n&-n;return a=(a&42)!==0?1:un(a),(a&(t.suspendedLanes|n))!==0?0:a}function un(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function In(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ma(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:F0(t.type))}function Nn(t,n){var a=ae.p;try{return ae.p=t,n()}finally{ae.p=a}}var Dn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Dn,Ot="__reactProps$"+Dn,Fn="__reactContainer$"+Dn,Ls="__reactEvents$"+Dn,Xo="__reactListeners$"+Dn,ka="__reactHandles$"+Dn,Fr="__reactResources$"+Dn,Gn="__reactMarker$"+Dn;function js(t){delete t[Et],delete t[Ot],delete t[Ls],delete t[Xo],delete t[ka]}function Qn(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Fn]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=R0(t);t!==null;){if(a=t[Et])return a;t=R0(t)}return n}t=a,a=t.parentNode}return null}function _n(t){if(t=t[Et]||t[Fn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Kn(t){var n=t[Fr];return n||(n=t[Fr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[Gn]=!0}var Us=new Set,zs={};function On(t,n){Yn(t,n),Yn(t+"Capture",n)}function Yn(t,n){for(zs[t]=n,t=0;t<n.length;t++)Us.add(n[t])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qr={},Bs={};function Va(t){return pt.call(Bs,t)?!0:pt.call(Qr,t)?!1:Gr.test(t)?Bs[t]=!0:(Qr[t]=!0,!1)}function qs(t,n,a){if(Va(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kr(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function H(t){if(!t._valueTracker){var n=fi(t)?"checked":"value";t._valueTracker=Kr(t,n,""+t[n])}}function re(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=fi(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function he(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ne=/[\n"\\]/g;function Ue(t){return t.replace(Ne,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function vn(t,n,a,o,h,f,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+xt(n)):t.value!==""+xt(n)&&(t.value=""+xt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?$o(t,_,xt(n)):a!=null?$o(t,_,xt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+xt(b):t.removeAttribute("name")}function Pa(t,n,a,o,h,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){H(t);return}a=a!=null?""+xt(a):"",n=n!=null?""+xt(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),H(t)}function $o(t,n,a){n==="number"&&he(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Hs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+xt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Au(t,n,a){if(n!=null&&(n=""+xt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+xt(a):""}function Fs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(je(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=xt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),H(t)}function En(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||xu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Wo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Jo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Jo(t,f,n[f])}function La(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return Gs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function di(){}var Zo=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qs=null,Ci=null;function Yr(t){var n=_n(t);if(n&&(t=n.stateNode)){var a=t[Ot]||null;e:switch(t=n.stateNode,n.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ue(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Ot]||null;if(!h)throw Error(r(90));vn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&re(o)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Hs(t,!!a.multiple,n,!1)}}}var Ua=!1;function Ks(t,n,a){if(Ua)return t(n,a);Ua=!0;try{var o=t(n);return o}finally{if(Ua=!1,(Qs!==null||Ci!==null)&&(Ec(),Qs&&(n=Qs,t=Ci,Ci=Qs=null,Yr(n),t)))for(n=0;n<t.length;n++)Yr(t[n])}}function mi(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Ot]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if($n)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Xr=!1}var Ri=null,el=null,$r=null;function tl(){if($r)return $r;var t,n=el,a=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return $r=h.slice(t,1<o?1-o:void 0)}function Jr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function pi(){return!1}function Kt(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ns:pi,this.isPropagationStopped=pi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),n}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Kt(is),Ys=w({},is,{view:0,detail:0}),nl=Kt(Ys),Xs,za,Ni,Ba=w({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Xs=t.screenX-Ni.screenX,za=t.screenY-Ni.screenY):za=Xs=0,Ni=t),Xs)},movementY:function(t){return"movementY"in t?t.movementY:za}}),il=Kt(Ba),Wr=w({},Ba,{dataTransfer:0}),Ru=Kt(Wr),Iu=w({},Ys,{relatedTarget:0}),Zr=Kt(Iu),sl=w({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Kt(sl),qa=w({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Kt(qa),Ou=w({},is,{data:0}),Di=Kt(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vu[t])?!!n[t]:!1}function $s(){return Pu}var fn=w({},Ys,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Jr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(t){return t.type==="keypress"?Jr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=Kt(fn),ju=w({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=Kt(ju),c=w({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),m=Kt(c),v=w({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Kt(v),j=w({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Kt(j),le=w({},is,{newState:0,oldState:0}),Ve=Kt(le),Ct=[9,13,27,32],Ze=$n&&"CompositionEvent"in window,gt=null;$n&&"documentMode"in document&&(gt=document.documentMode);var Jn=$n&&"TextEvent"in window&&!gt,Oi=$n&&(!Ze||gt&&8<gt&&11>=gt),gi=" ",yi=!1;function ea(t,n){switch(t){case"keyup":return Ct.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function Vb(t,n){switch(t){case"compositionend":return Ha(n);case"keypress":return n.which!==32?null:(yi=!0,gi);case"textInput":return t=n.data,t===gi&&yi?null:t;default:return null}}function Pb(t,n){if(Fa)return t==="compositionend"||!Ze&&ea(t,n)?(t=tl(),$r=el=Ri=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Lb[t.type]:n==="textarea"}function Op(t,n,a,o){Qs?Ci?Ci.push(o):Ci=[o]:Qs=o,n=Cc(n,"onChange"),0<n.length&&(a=new Ii("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var rl=null,al=null;function jb(t){m0(t,0)}function Uu(t){var n=cn(t);if(re(n))return t}function Mp(t,n){if(t==="change")return n}var kp=!1;if($n){var Wh;if($n){var Zh="oninput"in document;if(!Zh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Zh=typeof Vp.oninput=="function"}Wh=Zh}else Wh=!1;kp=Wh&&(!document.documentMode||9<document.documentMode)}function Pp(){rl&&(rl.detachEvent("onpropertychange",Lp),al=rl=null)}function Lp(t){if(t.propertyName==="value"&&Uu(al)){var n=[];Op(n,al,t,Xn(t)),Ks(jb,n)}}function Ub(t,n,a){t==="focusin"?(Pp(),rl=n,al=a,rl.attachEvent("onpropertychange",Lp)):t==="focusout"&&Pp()}function zb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(al)}function Bb(t,n){if(t==="click")return Uu(n)}function qb(t,n){if(t==="input"||t==="change")return Uu(n)}function Hb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mn=typeof Object.is=="function"?Object.is:Hb;function ol(t,n){if(Mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!pt.call(n,h)||!Mn(t[h],n[h]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,n){var a=jp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jp(a)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=he(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=he(t.document)}return n}function ef(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Fb=$n&&"documentMode"in document&&11>=document.documentMode,Ga=null,tf=null,ll=null,nf=!1;function qp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||Ga==null||Ga!==he(o)||(o=Ga,"selectionStart"in o&&ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ll&&ol(ll,o)||(ll=o,o=Cc(tf,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ga)))}function ta(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Qa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},sf={},Hp={};$n&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function na(t){if(sf[t])return sf[t];if(!Qa[t])return t;var n=Qa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hp)return sf[t]=n[a];return t}var Fp=na("animationend"),Gp=na("animationiteration"),Qp=na("animationstart"),Gb=na("transitionrun"),Qb=na("transitionstart"),Kb=na("transitioncancel"),Kp=na("transitionend"),Yp=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function _i(t,n){Yp.set(t,n),On(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Wn=[],Ka=0,af=0;function Bu(){for(var t=Ka,n=af=Ka=0;n<t;){var a=Wn[n];Wn[n++]=null;var o=Wn[n];Wn[n++]=null;var h=Wn[n];Wn[n++]=null;var f=Wn[n];if(Wn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Xp(a,h,f)}}function qu(t,n,a,o){Wn[Ka++]=t,Wn[Ka++]=n,Wn[Ka++]=a,Wn[Ka++]=o,af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function of(t,n,a,o){return qu(t,n,a,o),Hu(t)}function ia(t,n){return qu(t,null,null,n),Hu(t)}function Xp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Xe(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<Nl)throw Nl=0,gd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ya={};function Yb(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,a,o){return new Yb(t,n,a,o)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,n){var a=t.alternate;return a===null?(a=kn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $p(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")lf(t)&&(_=1);else if(typeof t=="string")_=ZT(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=kn(31,a,n,h),t.elementType=C,t.lanes=f,t;case K:return sa(a.children,h,f,n);case Y:_=8,h|=24;break;case ne:return t=kn(12,a,n,h|2),t.elementType=ne,t.lanes=f,t;case Ee:return t=kn(13,a,n,h),t.elementType=Ee,t.lanes=f,t;case ve:return t=kn(19,a,n,h),t.elementType=ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:_=10;break e;case me:_=9;break e;case De:_=11;break e;case x:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=kn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function sa(t,n,a,o){return t=kn(7,t,o,n),t.lanes=a,t}function uf(t,n,a){return t=kn(6,t,null,n),t.lanes=a,t}function Jp(t){var n=kn(18,null,null,0);return n.stateNode=t,n}function cf(t,n,a){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wp=new WeakMap;function Zn(t,n){if(typeof t=="object"&&t!==null){var a=Wp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ui(n)},Wp.set(t,n),n)}return{value:t,source:n,stack:ui(n)}}var Xa=[],$a=0,Gu=null,ul=0,ei=[],ti=0,Js=null,Mi=1,ki="";function as(t,n){Xa[$a++]=ul,Xa[$a++]=Gu,Gu=t,ul=n}function Zp(t,n,a){ei[ti++]=Mi,ei[ti++]=ki,ei[ti++]=Js,Js=t;var o=Mi;t=ki;var h=32-Xe(o)-1;o&=~(1<<h),a+=1;var f=32-Xe(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Mi=1<<32-Xe(n)+h|a<<h|o,ki=f+t}else Mi=1<<f|a<<h|o,ki=t}function hf(t){t.return!==null&&(as(t,1),Zp(t,1,0))}function ff(t){for(;t===Gu;)Gu=Xa[--$a],Xa[$a]=null,ul=Xa[--$a],Xa[$a]=null;for(;t===Js;)Js=ei[--ti],ei[ti]=null,ki=ei[--ti],ei[ti]=null,Mi=ei[--ti],ei[ti]=null}function eg(t,n){ei[ti++]=Mi,ei[ti++]=ki,ei[ti++]=Js,Mi=n.id,ki=n.overflow,Js=t}var Yt=null,ht=null,Ke=!1,Ws=null,ni=!1,df=Error(r(519));function Zs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Zn(n,t)),df}function tg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Et]=t,n[Ot]=o,a){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Be(Ol[a],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),Pa(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),Fs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||_0(n.textContent,a)?(o.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),o.onScroll!=null&&Be("scroll",n),o.onScrollEnd!=null&&Be("scrollend",n),o.onClick!=null&&(n.onclick=di),n=!0):n=!1,n||Zs(t,!0)}function ng(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Yt=Yt.return}}function Ja(t){if(t!==Yt)return!1;if(!Ke)return ng(t),Ke=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dd(t.type,t.memoizedProps)),a=!a),a&&ht&&Zs(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=C0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=C0(t)}else n===27?(n=ht,dr(t.type)?(t=Pd,Pd=null,ht=t):ht=n):ht=Yt?si(t.stateNode.nextSibling):null;return!0}function ra(){ht=Yt=null,Ke=!1}function mf(){var t=Ws;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Ws=null),t}function cl(t){Ws===null?Ws=[t]:Ws.push(t)}var pf=D(null),aa=null,os=null;function er(t,n,a){se(pf,n._currentValue),n._currentValue=a}function ls(t){t._currentValue=pf.current,B(pf)}function gf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function yf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var N=0;N<n.length;N++)if(b.context===n[N]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),gf(f.return,a,t),o||(_=null);break e}f=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),gf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Wa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=h.type;Mn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===ge.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&yf(n,t,a,o),n.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){aa=t,os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return ig(aa,t)}function Ku(t,n){return aa===null&&oa(t),ig(t,n)}function ig(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},os===null){if(t===null)throw Error(r(308));os=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else os=os.next=n;return a}var Xb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$b=s.unstable_scheduleCallback,Jb=s.unstable_NormalPriority,Mt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new Xb,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&$b(Jb,function(){t.controller.abort()})}var fl=null,vf=0,Za=0,eo=null;function Wb(t,n){if(fl===null){var a=fl=[];vf=0,Za=Td(),eo={status:"pending",value:void 0,then:function(o){a.push(o)}}}return vf++,n.then(sg,sg),n}function sg(){if(--vf===0&&fl!==null){eo!==null&&(eo.status="fulfilled");var t=fl;fl=null,Za=0,eo=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Zb(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var rg=F.S;F.S=function(t,n){qy=Ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Wb(t,n),rg!==null&&rg(t,n)};var la=D(null);function Ef(){var t=la.current;return t!==null?t:ut.pooledCache}function Yu(t,n){n===null?se(la,la.current):se(la,n.pool)}function ag(){var t=Ef();return t===null?null:{parent:Mt._currentValue,pool:t}}var to=Error(r(460)),bf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(di,di),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(di,di);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw ca=n,to}}function ua(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,to):a}}var ca=null;function ug(){if(ca===null)throw Error(r(459));var t=ca;return ca=null,t}function cg(t){if(t===to||t===Xu)throw Error(r(483))}var no=null,dl=0;function Ju(t){var n=dl;return dl+=1,no===null&&(no=[]),lg(no,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wu(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){function n(P,k){if(t){var U=P.deletions;U===null?(P.deletions=[k],P.flags|=16):U.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)n(P,k),k=k.sibling;return null}function o(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=rs(P,k),P.index=0,P.sibling=null,P}function f(P,k,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<k?(P.flags|=67108866,k):U):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,k,U,J){return k===null||k.tag!==6?(k=uf(U,P.mode,J),k.return=P,k):(k=h(k,U),k.return=P,k)}function N(P,k,U,J){var Te=U.type;return Te===K?$(P,k,U.props.children,J,U.key):k!==null&&(k.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&ua(Te)===k.type)?(k=h(k,U.props),ml(k,U),k.return=P,k):(k=Fu(U.type,U.key,U.props,null,P.mode,J),ml(k,U),k.return=P,k)}function z(P,k,U,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=cf(U,P.mode,J),k.return=P,k):(k=h(k,U.children||[]),k.return=P,k)}function $(P,k,U,J,Te){return k===null||k.tag!==7?(k=sa(U,P.mode,J,Te),k.return=P,k):(k=h(k,U),k.return=P,k)}function W(P,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=uf(""+k,P.mode,U),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return U=Fu(k.type,k.key,k.props,null,P.mode,U),ml(U,k),U.return=P,U;case X:return k=cf(k,P.mode,U),k.return=P,k;case A:return k=ua(k),W(P,k,U)}if(je(k)||V(k))return k=sa(k,P.mode,U,null),k.return=P,k;if(typeof k.then=="function")return W(P,Ju(k),U);if(k.$$typeof===fe)return W(P,Ku(P,k),U);Wu(P,k)}return null}function q(P,k,U,J){var Te=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Te!==null?null:b(P,k,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case L:return U.key===Te?N(P,k,U,J):null;case X:return U.key===Te?z(P,k,U,J):null;case A:return U=ua(U),q(P,k,U,J)}if(je(U)||V(U))return Te!==null?null:$(P,k,U,J,null);if(typeof U.then=="function")return q(P,k,Ju(U),J);if(U.$$typeof===fe)return q(P,k,Ku(P,U),J);Wu(P,U)}return null}function Q(P,k,U,J,Te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(U)||null,b(k,P,""+J,Te);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case L:return P=P.get(J.key===null?U:J.key)||null,N(k,P,J,Te);case X:return P=P.get(J.key===null?U:J.key)||null,z(k,P,J,Te);case A:return J=ua(J),Q(P,k,U,J,Te)}if(je(J)||V(J))return P=P.get(U)||null,$(k,P,J,Te,null);if(typeof J.then=="function")return Q(P,k,U,Ju(J),Te);if(J.$$typeof===fe)return Q(P,k,U,Ku(k,J),Te);Wu(k,J)}return null}function pe(P,k,U,J){for(var Te=null,$e=null,ye=k,Le=k=0,He=null;ye!==null&&Le<U.length;Le++){ye.index>Le?(He=ye,ye=null):He=ye.sibling;var Je=q(P,ye,U[Le],J);if(Je===null){ye===null&&(ye=He);break}t&&ye&&Je.alternate===null&&n(P,ye),k=f(Je,k,Le),$e===null?Te=Je:$e.sibling=Je,$e=Je,ye=He}if(Le===U.length)return a(P,ye),Ke&&as(P,Le),Te;if(ye===null){for(;Le<U.length;Le++)ye=W(P,U[Le],J),ye!==null&&(k=f(ye,k,Le),$e===null?Te=ye:$e.sibling=ye,$e=ye);return Ke&&as(P,Le),Te}for(ye=o(ye);Le<U.length;Le++)He=Q(ye,P,Le,U[Le],J),He!==null&&(t&&He.alternate!==null&&ye.delete(He.key===null?Le:He.key),k=f(He,k,Le),$e===null?Te=He:$e.sibling=He,$e=He);return t&&ye.forEach(function(_r){return n(P,_r)}),Ke&&as(P,Le),Te}function xe(P,k,U,J){if(U==null)throw Error(r(151));for(var Te=null,$e=null,ye=k,Le=k=0,He=null,Je=U.next();ye!==null&&!Je.done;Le++,Je=U.next()){ye.index>Le?(He=ye,ye=null):He=ye.sibling;var _r=q(P,ye,Je.value,J);if(_r===null){ye===null&&(ye=He);break}t&&ye&&_r.alternate===null&&n(P,ye),k=f(_r,k,Le),$e===null?Te=_r:$e.sibling=_r,$e=_r,ye=He}if(Je.done)return a(P,ye),Ke&&as(P,Le),Te;if(ye===null){for(;!Je.done;Le++,Je=U.next())Je=W(P,Je.value,J),Je!==null&&(k=f(Je,k,Le),$e===null?Te=Je:$e.sibling=Je,$e=Je);return Ke&&as(P,Le),Te}for(ye=o(ye);!Je.done;Le++,Je=U.next())Je=Q(ye,P,Le,Je.value,J),Je!==null&&(t&&Je.alternate!==null&&ye.delete(Je.key===null?Le:Je.key),k=f(Je,k,Le),$e===null?Te=Je:$e.sibling=Je,$e=Je);return t&&ye.forEach(function(cw){return n(P,cw)}),Ke&&as(P,Le),Te}function lt(P,k,U,J){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case L:e:{for(var Te=U.key;k!==null;){if(k.key===Te){if(Te=U.type,Te===K){if(k.tag===7){a(P,k.sibling),J=h(k,U.props.children),J.return=P,P=J;break e}}else if(k.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&ua(Te)===k.type){a(P,k.sibling),J=h(k,U.props),ml(J,U),J.return=P,P=J;break e}a(P,k);break}else n(P,k);k=k.sibling}U.type===K?(J=sa(U.props.children,P.mode,J,U.key),J.return=P,P=J):(J=Fu(U.type,U.key,U.props,null,P.mode,J),ml(J,U),J.return=P,P=J)}return _(P);case X:e:{for(Te=U.key;k!==null;){if(k.key===Te)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(P,k.sibling),J=h(k,U.children||[]),J.return=P,P=J;break e}else{a(P,k);break}else n(P,k);k=k.sibling}J=cf(U,P.mode,J),J.return=P,P=J}return _(P);case A:return U=ua(U),lt(P,k,U,J)}if(je(U))return pe(P,k,U,J);if(V(U)){if(Te=V(U),typeof Te!="function")throw Error(r(150));return U=Te.call(U),xe(P,k,U,J)}if(typeof U.then=="function")return lt(P,k,Ju(U),J);if(U.$$typeof===fe)return lt(P,k,Ku(P,U),J);Wu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(P,k.sibling),J=h(k,U),J.return=P,P=J):(a(P,k),J=uf(U,P.mode,J),J.return=P,P=J),_(P)):a(P,k)}return function(P,k,U,J){try{dl=0;var Te=lt(P,k,U,J);return no=null,Te}catch(ye){if(ye===to||ye===Xu)throw ye;var $e=kn(29,ye,null,P.mode);return $e.lanes=J,$e.return=P,$e}finally{}}}var ha=hg(!0),fg=hg(!1),tr=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ir(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Hu(t),Xp(t,null,a),n}return qu(t,o,n,a),Hu(t)}function pl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,qr(t,a)}}function Sf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Af=!1;function gl(){if(Af){var t=eo;if(t!==null)throw t}}function yl(t,n,a,o){Af=!1;var h=t.updateQueue;tr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,z=N.next;N.next=null,_===null?f=z:_.next=z,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=z:b.next=z,$.lastBaseUpdate=N))}if(f!==null){var W=h.baseState;_=0,$=z=N=null,b=f;do{var q=b.lane&-536870913,Q=q!==b.lane;if(Q?(qe&q)===q:(o&q)===q){q!==0&&q===Za&&(Af=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=t,xe=b;q=n;var lt=a;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){W=pe.call(lt,W,q);break e}W=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,q=typeof pe=="function"?pe.call(lt,W,q):pe,q==null)break e;W=w({},W,q);break e;case 2:tr=!0}}q=b.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(z=$=Q,N=W):$=$.next=Q,_|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(N=W),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),lr|=_,t.lanes=_,t.memoizedState=W}}function dg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function mg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dg(a[t],n)}var io=D(null),Zu=D(0);function pg(t,n){t=ys,se(Zu,t),se(io,n),ys=t|n.baseLanes}function xf(){se(Zu,ys),se(io,io.current)}function Cf(){ys=Zu.current,B(io),B(Zu)}var Vn=D(null),ii=null;function sr(t){var n=t.alternate;se(Rt,Rt.current&1),se(Vn,t),ii===null&&(n===null||io.current!==null||n.memoizedState!==null)&&(ii=t)}function Rf(t){se(Rt,Rt.current),se(Vn,t),ii===null&&(ii=t)}function gg(t){t.tag===22?(se(Rt,Rt.current),se(Vn,t),ii===null&&(ii=t)):rr()}function rr(){se(Rt,Rt.current),se(Vn,Vn.current)}function Pn(t){B(Vn),ii===t&&(ii=null),B(Rt)}var Rt=D(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var us=0,Pe=null,at=null,kt=null,tc=!1,so=!1,fa=!1,nc=0,_l=0,ro=null,eT=0;function wt(){throw Error(r(321))}function If(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Mn(t[a],n[a]))return!1;return!0}function Nf(t,n,a,o,h,f){return us=f,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Zg:Gf,fa=!1,f=a(o,h),fa=!1,so&&(f=_g(n,a,o,h)),yg(t),f}function yg(t){F.H=bl;var n=at!==null&&at.next!==null;if(us=0,kt=at=Pe=null,tc=!1,_l=0,ro=null,n)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&Qu(t)&&(Vt=!0))}function _g(t,n,a,o){Pe=t;var h=0;do{if(so&&(ro=null),_l=0,so=!1,25<=h)throw Error(r(301));if(h+=1,kt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ey,f=n(a,o)}while(so);return f}function tT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Pe.flags|=1024),n}function Df(){var t=nc!==0;return nc=0,t}function Of(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Mf(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}us=0,kt=at=Pe=null,so=!1,_l=nc=0,ro=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=t:kt=kt.next=t,kt}function It(){if(at===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=kt===null?Pe.memoizedState:kt.next;if(n!==null)kt=n,at=t;else{if(t===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},kt===null?Pe.memoizedState=kt=t:kt=kt.next=t}return kt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=_l;return _l+=1,ro===null&&(ro=[]),t=lg(ro,t,n),n=Pe,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Zg:Gf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===fe)return Xt(t)}throw Error(r(438,String(t)))}function kf(t){var n=null,a=Pe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Pe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),Pe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function cs(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=It();return Vf(n,at,t)}function Vf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=_=null,N=null,z=n,$=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(qe&W)===W:(us&W)===W){var q=z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Za&&($=!0);else if((us&q)===q){z=z.next,q===Za&&($=!0);continue}else W={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=W,_=f):N=N.next=W,Pe.lanes|=q,lr|=q;W=z.action,fa&&a(f,W),f=z.hasEagerState?z.eagerState:a(f,W)}else q={lane:W,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=q,_=f):N=N.next=q,Pe.lanes|=W,lr|=W;z=z.next}while(z!==null&&z!==n);if(N===null?_=f:N.next=b,!Mn(f,t.memoizedState)&&(Vt=!0,$&&(a=eo,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pf(t){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Mn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function vg(t,n,a){var o=Pe,h=It(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!Mn((at||h).memoizedState,a);if(_&&(h.memoizedState=a,Vt=!0),h=h.queue,Uf(Tg.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,ao(9,{destroy:void 0},bg.bind(null,o,h,a,n),null),ut===null)throw Error(r(349));f||(us&127)!==0||Eg(o,n,a)}return a}function Eg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Pe.updateQueue,n===null?(n=ic(),Pe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function bg(t,n,a,o){n.value=a,n.getSnapshot=o,wg(n)&&Sg(t)}function Tg(t,n,a){return a(function(){wg(n)&&Sg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Mn(t,a)}catch{return!0}}function Sg(t){var n=ia(t,2);n!==null&&An(n,t,2)}function Lf(t){var n=dn();if(typeof t=="function"){var a=t;if(t=a(),fa){tn(!0);try{a()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},n}function Ag(t,n,a,o){return t.baseState=a,Vf(t,at,typeof o=="function"?o:cs)}function nT(t,n,a,o,h){if(lc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,xg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function xg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var b=a(h,o),N=F.S;N!==null&&N(_,b),Cg(t,n,b)}catch(z){jf(t,n,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),Cg(t,n,f)}catch(z){jf(t,n,z)}}function Cg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rg(t,n,o)},function(o){return jf(t,n,o)}):Rg(t,n,a)}function Rg(t,n,a){n.status="fulfilled",n.value=a,Ig(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,xg(t,a)))}function jf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ig(n),n=n.next;while(n!==o)}t.action=null}function Ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function Dg(t,n){if(Ke){var a=ut.formState;if(a!==null){e:{var o=Pe;if(Ke){if(ht){t:{for(var h=ht,f=ni;h.nodeType!==8;){if(!f){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=si(h.nextSibling),o=h.data==="F!";break e}}Zs(o)}o=!1}o&&(n=a[0])}}return a=dn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},a.queue=o,a=$g.bind(null,Pe,o),o.dispatch=a,o=Lf(!1),f=Ff.bind(null,Pe,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=nT.bind(null,Pe,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Og(t){var n=It();return Mg(n,at,t)}function Mg(t,n,a){if(n=Vf(t,n,Ng)[0],t=rc(cs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=vl(n)}catch(_){throw _===to?Xu:_}else o=n;n=It();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Pe.flags|=2048,ao(9,{destroy:void 0},iT.bind(null,h,a),null)),[o,f,t]}function iT(t,n){t.action=n}function kg(t){var n=It(),a=at;if(a!==null)return Mg(n,a,t);It(),n=n.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ao(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Pe.updateQueue,n===null&&(n=ic(),Pe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Vg(){return It().memoizedState}function ac(t,n,a,o){var h=dn();Pe.flags|=t,h.memoizedState=ao(1|n,{destroy:void 0},a,o===void 0?null:o)}function oc(t,n,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&If(o,at.memoizedState.deps)?h.memoizedState=ao(n,f,a,o):(Pe.flags|=t,h.memoizedState=ao(1|n,f,a,o))}function Pg(t,n){ac(8390656,8,t,n)}function Uf(t,n){oc(2048,8,t,n)}function sT(t){Pe.flags|=4;var n=Pe.updateQueue;if(n===null)n=ic(),Pe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lg(t){var n=It().memoizedState;return sT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function jg(t,n){return oc(4,2,t,n)}function Ug(t,n){return oc(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bg(t,n,a){a=a!=null?a.concat([t]):null,oc(4,4,zg.bind(null,n,t),a)}function zf(){}function qg(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&If(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Hg(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&If(n,o[1]))return o[0];if(o=t(),fa){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[o,n],o}function Bf(t,n,a){return a===void 0||(us&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Fy(),Pe.lanes|=t,lr|=t,a)}function Fg(t,n,a,o){return Mn(a,n)?a:io.current!==null?(t=Bf(t,a,o),Mn(t,n)||(Vt=!0),t):(us&42)===0||(us&1073741824)!==0&&(qe&261930)===0?(Vt=!0,t.memoizedState=a):(t=Fy(),Pe.lanes|=t,lr|=t,n)}function Gg(t,n,a,o,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var _=F.T,b={};F.T=b,Ff(t,!1,n,a);try{var N=h(),z=F.S;if(z!==null&&z(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=Zb(N,o);El(t,n,$,Un(t))}else El(t,n,o,Un(t))}catch(W){El(t,n,{then:function(){},status:"rejected",reason:W},Un())}finally{ae.p=f,_!==null&&b.types!==null&&(_.types=b.types),F.T=_}}function rT(){}function qf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Qg(t).queue;Gg(t,h,n,te,a===null?rT:function(){return Kg(t),a(o)})}function Qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:te},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kg(t){var n=Qg(t);n.next===null&&(n=t.alternate.memoizedState),El(t,n.next.queue,{},Un())}function Hf(){return Xt(Ll)}function Yg(){return It().memoizedState}function Xg(){return It().memoizedState}function aT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();t=nr(a);var o=ir(n,t,a);o!==null&&(An(o,n,a),pl(o,n,a)),n={cache:_f()},t.payload=n;return}n=n.return}}function oT(t,n,a){var o=Un();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?Jg(n,a):(a=of(t,n,a,o),a!==null&&(An(a,t,o),Wg(a,n,o)))}function $g(t,n,a){var o=Un();El(t,n,a,o)}function El(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))Jg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,b=f(_,a);if(h.hasEagerState=!0,h.eagerState=b,Mn(b,_))return qu(t,n,h,0),ut===null&&Bu(),!1}catch{}finally{}if(a=of(t,n,h,o),a!==null)return An(a,t,o),Wg(a,n,o),!0}return!1}function Ff(t,n,a,o){if(o={lane:2,revertLane:Td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(n)throw Error(r(479))}else n=of(t,a,o,2),n!==null&&An(n,t,2)}function lc(t){var n=t.alternate;return t===Pe||n!==null&&n===Pe}function Jg(t,n){so=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Wg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,qr(t,a)}}var bl={readContext:Xt,use:sc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};bl.useEffectEvent=wt;var Zg={readContext:Xt,use:sc,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Xt,useEffect:Pg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,zg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=dn();n=n===void 0?null:n;var o=t();if(fa){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=dn();if(a!==void 0){var h=a(n);if(fa){tn(!0);try{a(n)}finally{tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=oT.bind(null,Pe,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Lf(t);var n=t.queue,a=$g.bind(null,Pe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(t,n){var a=dn();return Bf(a,t,n)},useTransition:function(){var t=Lf(!1);return t=Gg.bind(null,Pe,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Pe,h=dn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ut===null)throw Error(r(349));(qe&127)!==0||Eg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Pg(Tg.bind(null,o,f,t),[t]),o.flags|=2048,ao(9,{destroy:void 0},bg.bind(null,o,f,a,n),null),a},useId:function(){var t=dn(),n=ut.identifierPrefix;if(Ke){var a=ki,o=Mi;a=(o&~(1<<32-Xe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=eT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Hf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ff.bind(null,Pe,!0,a),a.dispatch=n,[t,n]},useMemoCache:kf,useCacheRefresh:function(){return dn().memoizedState=aT.bind(null,Pe)},useEffectEvent:function(t){var n=dn(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gf={readContext:Xt,use:sc,useCallback:qg,useContext:Xt,useEffect:Uf,useImperativeHandle:Bg,useInsertionEffect:jg,useLayoutEffect:Ug,useMemo:Hg,useReducer:rc,useRef:Vg,useState:function(){return rc(cs)},useDebugValue:zf,useDeferredValue:function(t,n){var a=It();return Fg(a,at.memoizedState,t,n)},useTransition:function(){var t=rc(cs)[0],n=It().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Hf,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var a=It();return Ag(a,at,t,n)},useMemoCache:kf,useCacheRefresh:Xg};Gf.useEffectEvent=Lg;var ey={readContext:Xt,use:sc,useCallback:qg,useContext:Xt,useEffect:Uf,useImperativeHandle:Bg,useInsertionEffect:jg,useLayoutEffect:Ug,useMemo:Hg,useReducer:Pf,useRef:Vg,useState:function(){return Pf(cs)},useDebugValue:zf,useDeferredValue:function(t,n){var a=It();return at===null?Bf(a,t,n):Fg(a,at.memoizedState,t,n)},useTransition:function(){var t=Pf(cs)[0],n=It().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:Hf,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var a=It();return at!==null?Ag(a,at,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:Xg};ey.useEffectEvent=Lg;function Qf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Un(),h=nr(o);h.payload=n,a!=null&&(h.callback=a),n=ir(t,h,o),n!==null&&(An(n,t,o),pl(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Un(),h=nr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ir(t,h,o),n!==null&&(An(n,t,o),pl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Un(),o=nr(a);o.tag=2,n!=null&&(o.callback=n),n=ir(t,o,a),n!==null&&(An(n,t,a),pl(n,t,a))}};function ty(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!ol(a,o)||!ol(h,f):!0}function ny(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Kf.enqueueReplaceState(n,n.state,null)}function da(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function iy(t){zu(t)}function sy(t){console.error(t)}function ry(t){zu(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,n,a){return a=nr(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function oy(t){return t=nr(t),t.tag=3,t}function ly(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ay(n,a,o),typeof h!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function lT(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Wa(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return ii===null?bc():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),vd(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),vd(t,o,h)),!1}throw Error(r(435,a.tag))}return vd(t,o,h),bc(),!1}if(Ke)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==df&&(t=Error(r(422),{cause:o}),cl(Zn(t,a)))):(o!==df&&(n=Error(r(423),{cause:o}),cl(Zn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Zn(o,a),h=Yf(t.stateNode,o,h),Sf(t,h),St!==4&&(St=2)),!1;var f=Error(r(520),{cause:o});if(f=Zn(f,a),Il===null?Il=[f]:Il.push(f),St!==4&&(St=2),n===null)return!0;o=Zn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yf(a.stateNode,o,t),Sf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,t,a,o),Sf(a,h),!1}a=a.return}while(a!==null);return!1}var Xf=Error(r(461)),Vt=!1;function $t(t,n,a,o){n.child=t===null?fg(n,null,a,o):ha(n,t.child,a,o)}function uy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var b in o)b!=="ref"&&(_[b]=o[b])}else _=o;return oa(n),o=Nf(t,n,a,_,f,h),b=Df(),t!==null&&!Vt?(Of(t,n,h),hs(t,n,h)):(Ke&&b&&hf(n),n.flags|=1,$t(t,n,o,h),n.child)}function cy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!lf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hy(t,n,f,o,h)):(t=Fu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!id(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(_,o)&&t.ref===n.ref)return hs(t,n,h)}return n.flags|=1,t=rs(f,o),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(ol(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,id(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,hs(t,n,h)}return $f(t,n,a,o,h)}function fy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return dy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):xf(),gg(n);else return o=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Yu(n,f.cachePool),pg(n,f),rr(),n.memoizedState=null):(t!==null&&Yu(n,null),xf(),rr());return $t(t,n,h,a),n.child}function Tl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,a,o,h){var f=Ef();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(n,null),xf(),gg(n),t!==null&&Wa(t,n,o,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,a){return ha(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function uT(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=cc(n,o),n.lanes=536870912,Tl(null,t);if(Rf(n),(t=ht)?(t=x0(t,ni),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Js!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Jp(t),a.return=n,n.child=a,Yt=n,ht=null)):t=null,t===null)throw Zs(n);return n.lanes=536870912,null}return cc(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Rf(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Vt||Wa(t,n,a,!1),h=(a&t.childLanes)!==0,Vt||h){if(o=ut,o!==null&&(_=Hr(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,ia(t,_),An(o,t,_),Xf;bc(),n=my(t,n,a)}else t=f.treeContext,ht=si(_.nextSibling),Yt=n,Ke=!0,Ws=null,ni=!1,t!==null&&eg(n,t),n=cc(n,o),n.flags|=4096;return n}return t=rs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function $f(t,n,a,o,h){return oa(n),a=Nf(t,n,a,o,void 0,h),o=Df(),t!==null&&!Vt?(Of(t,n,h),hs(t,n,h)):(Ke&&o&&hf(n),n.flags|=1,$t(t,n,a,h),n.child)}function py(t,n,a,o,h,f){return oa(n),n.updateQueue=null,a=_g(n,o,a,h),yg(t),o=Df(),t!==null&&!Vt?(Of(t,n,f),hs(t,n,f)):(Ke&&o&&hf(n),n.flags|=1,$t(t,n,a,f),n.child)}function gy(t,n,a,o,h){if(oa(n),n.stateNode===null){var f=Ya,_=a.contextType;typeof _=="object"&&_!==null&&(f=Xt(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Tf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Xt(_):Ya,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Kf.enqueueReplaceState(f,f.state,null),yl(n,o,f,h),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,N=da(a,b);f.props=N;var z=f.context,$=a.contextType;_=Ya,typeof $=="object"&&$!==null&&(_=Xt($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==_)&&ny(n,f,o,_),tr=!1;var q=n.memoizedState;f.state=q,yl(n,o,f,h),gl(),z=n.memoizedState,b||q!==z||tr?(typeof W=="function"&&(Qf(n,a,W,o),z=n.memoizedState),(N=tr||ty(n,a,N,o,q,z,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=_,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,wf(t,n),_=n.memoizedProps,$=da(a,_),f.props=$,W=n.pendingProps,q=f.context,z=a.contextType,N=Ya,typeof z=="object"&&z!==null&&(N=Xt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||q!==N)&&ny(n,f,o,N),tr=!1,q=n.memoizedState,f.state=q,yl(n,o,f,h),gl();var Q=n.memoizedState;_!==W||q!==Q||tr||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof b=="function"&&(Qf(n,a,b,o),Q=n.memoizedState),($=tr||ty(n,a,$,o,q,Q,N)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Q,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Q),f.props=o,f.state=Q,f.context=N,o=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,hc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=ha(n,t.child,null,h),n.child=ha(n,null,a,h)):$t(t,n,a,h),n.memoizedState=f.state,t=n.child):t=hs(t,n,h),t}function yy(t,n,a,o){return ra(),n.flags|=256,$t(t,n,a,o),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:ag()}}function Zf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=jn),t}function _y(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?sr(n):rr(),(t=ht)?(t=x0(t,ni),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Js!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Jp(t),a.return=n,n.child=a,Yt=n,ht=null)):t=null,t===null)throw Zs(n);return Vd(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(rr(),h=n.mode,b=fc({mode:"hidden",children:b},h),o=sa(o,h,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Wf(a),o.childLanes=Zf(t,_,a),n.memoizedState=Jf,Tl(null,o)):(sr(n),ed(n,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)n.flags&256?(sr(n),n.flags&=-257,n=td(t,n,a)):n.memoizedState!==null?(rr(),n.child=t.child,n.flags|=128,n=null):(rr(),b=o.fallback,h=n.mode,o=fc({mode:"visible",children:o.children},h),b=sa(b,h,a,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,ha(n,t.child,null,a),o=n.child,o.memoizedState=Wf(a),o.childLanes=Zf(t,_,a),n.memoizedState=Jf,n=Tl(null,o));else if(sr(n),Vd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,cl({value:o,source:null,stack:null}),n=td(t,n,a)}else if(Vt||Wa(t,n,a,!1),_=(a&t.childLanes)!==0,Vt||_){if(_=ut,_!==null&&(o=Hr(_,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,ia(t,o),An(_,t,o),Xf;kd(b)||bc(),n=td(t,n,a)}else kd(b)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ht=si(b.nextSibling),Yt=n,Ke=!0,Ws=null,ni=!1,t!==null&&eg(n,t),n=ed(n,o.children),n.flags|=4096);return n}return h?(rr(),b=o.fallback,h=n.mode,N=t.child,z=N.sibling,o=rs(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?b=rs(z,b):(b=sa(b,h,a,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,Tl(null,o),o=n.child,b=t.child.memoizedState,b===null?b=Wf(a):(h=b.cachePool,h!==null?(N=Mt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ag(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=Zf(t,_,a),n.memoizedState=Jf,Tl(t.child,o)):(sr(n),a=t.child,t=a.sibling,a=rs(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function ed(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=kn(22,t,null,n),t.lanes=0,t}function td(t,n,a){return ha(n,t.child,null,a),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),gf(t.return,n,a)}function nd(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Ey(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=Rt.current,b=(_&2)!==0;if(b?(_=_&1|2,n.flags|=128):_&=1,se(Rt,_),$t(t,n,o,a),o=Ke?ul:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,a,n);else if(t.tag===19)vy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),nd(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nd(n,!0,a,null,f,o);break;case"together":nd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function hs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),lr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Wa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=rs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=rs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function id(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function cT(t,n,a){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),er(n,Mt,t.memoizedState.cache),ra();break;case 27:case 5:Dt(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:er(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_y(t,n,a):(sr(n),t=hs(t,n,a),t!==null?t.sibling:null);sr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Wa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ey(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Rt,Rt.current),o)break;return null;case 22:return n.lanes=0,fy(t,n,a,n.pendingProps);case 24:er(n,Mt,t.memoizedState.cache)}return hs(t,n,a)}function by(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!id(t,a)&&(n.flags&128)===0)return Vt=!1,cT(t,n,a);Vt=(t.flags&131072)!==0}else Vt=!1,Ke&&(n.flags&1048576)!==0&&Zp(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=ua(n.elementType),n.type=t,typeof t=="function")lf(t)?(o=da(t,o),n.tag=1,n=gy(null,n,t,o,a)):(n.tag=0,n=$f(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===De){n.tag=11,n=uy(null,n,t,o,a);break e}else if(h===x){n.tag=14,n=cy(null,n,t,o,a);break e}}throw n=tt(t)||t,Error(r(306,n,""))}}return n;case 0:return $f(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=da(o,n.pendingProps),gy(t,n,o,h,a);case 3:e:{if(Se(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,wf(t,n),yl(n,o,null,a);var _=n.memoizedState;if(o=_.cache,er(n,Mt,o),o!==f.cache&&yf(n,[Mt],a,!0),gl(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,o,a);break e}else if(o!==h){h=Zn(Error(r(424)),n),cl(h),n=yy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=si(t.firstChild),Yt=n,Ke=!0,Ws=null,ni=!0,a=fg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ra(),o===h){n=hs(t,n,a);break e}$t(t,n,o,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=O0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ke||(a=n.type,t=n.pendingProps,o=Rc(ue.current).createElement(a),o[Et]=n,o[Ot]=t,Jt(o,a,t),bt(o),n.stateNode=o):n.memoizedState=O0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Dt(n),t===null&&Ke&&(o=n.stateNode=I0(n.type,n.pendingProps,ue.current),Yt=n,ni=!0,h=ht,dr(n.type)?(Pd=h,ht=si(o.firstChild)):ht=h),$t(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=o=ht)&&(o=zT(o,n.type,n.pendingProps,ni),o!==null?(n.stateNode=o,Yt=n,ht=si(o.firstChild),ni=!1,h=!0):h=!1),h||Zs(n)),Dt(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Dd(h,f)?o=null:_!==null&&Dd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Nf(t,n,tT,null,null,a),Ll._currentValue=h),hc(t,n),$t(t,n,o,a),n.child;case 6:return t===null&&Ke&&((t=a=ht)&&(a=BT(a,n.pendingProps,ni),a!==null?(n.stateNode=a,Yt=n,ht=null,t=!0):t=!1),t||Zs(n)),null;case 13:return _y(t,n,a);case 4:return Se(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ha(n,null,o,a):$t(t,n,o,a),n.child;case 11:return uy(t,n,n.type,n.pendingProps,a);case 7:return $t(t,n,n.pendingProps,a),n.child;case 8:return $t(t,n,n.pendingProps.children,a),n.child;case 12:return $t(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,er(n,n.type,o.value),$t(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,oa(n),h=Xt(h),o=o(h),n.flags|=1,$t(t,n,o,a),n.child;case 14:return cy(t,n,n.type,n.pendingProps,a);case 15:return hy(t,n,n.type,n.pendingProps,a);case 19:return Ey(t,n,a);case 31:return uT(t,n,a);case 22:return fy(t,n,a,n.pendingProps);case 24:return oa(n),o=Xt(Mt),t===null?(h=Ef(),h===null&&(h=ut,f=_f(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Tf(n),er(n,Mt,h)):((t.lanes&a)!==0&&(wf(t,n),yl(n,null,null,a),gl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),er(n,Mt,o)):(o=f.cache,er(n,Mt,o),o!==h.cache&&yf(n,[Mt],a,!0))),$t(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function fs(t){t.flags|=4}function sd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw ca=$u,bf}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(n))if(Yy())t.flags|=8192;else throw ca=$u,bf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Br():536870912,t.lanes|=n,co|=n)}function wl(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function hT(t,n,a){var o=n.pendingProps;switch(ff(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ls(Mt),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(n)?fs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mf())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(fs(n),f!==null?(ft(n),Ty(n,f)):(ft(n),sd(n,h,null,o,a))):f?f!==t.memoizedState?(fs(n),ft(n),Ty(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&fs(n),ft(n),sd(n,h,t,o,a)),null;case 27:if(Yi(n),a=ue.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}t=oe.current,Ja(n)?tg(n):(t=I0(h,o,a),n.stateNode=t,fs(n))}return ft(n),null;case 5:if(Yi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}if(f=oe.current,Ja(n))tg(n);else{var _=Rc(ue.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Et]=n,f[Ot]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Jt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fs(n)}}return ft(n),sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=ue.current,Ja(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||_0(t.nodeValue,a)),t||Zs(n,!0)}else t=Rc(t).createTextNode(o),t[Et]=n,n.stateNode=t}return ft(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ja(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=n}else ra(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else a=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ft(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ja(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=n}else ra(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),ft(n),null);case 4:return Ie(),t===null&&xd(n.stateNode.containerInfo),ft(n),null;case 10:return ls(n.type),ft(n),null;case 19:if(B(Rt),o=n.memoizedState,o===null)return ft(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)wl(o,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,wl(o,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)$p(a,t),a=a.sibling;return se(Rt,Rt.current&1|2),Ke&&as(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ut()>_c&&(n.flags|=128,h=!0,wl(o,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return ft(n),null}else 2*Ut()-o.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,wl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ut(),t.sibling=null,a=Rt.current,se(Rt,h?a&1|2:a&1),Ke&&as(n,o.treeForkCount),t):(ft(n),null);case 22:case 23:return Pn(n),Cf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&B(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ls(Mt),ft(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function fT(t,n){switch(ff(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ls(Mt),Ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Yi(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(r(340));ra()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ra()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return B(Rt),null;case 4:return Ie(),null;case 10:return ls(n.type),null;case 22:case 23:return Pn(n),Cf(),t!==null&&B(la),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ls(Mt),null;case 25:return null;default:return null}}function wy(t,n){switch(ff(n),n.tag){case 3:ls(Mt),Ie();break;case 26:case 27:case 5:Yi(n);break;case 4:Ie();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:B(Rt);break;case 10:ls(n.type);break;case 22:case 23:Pn(n),Cf(),t!==null&&B(la);break;case 24:ls(Mt)}}function Sl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(b){st(n,n.return,b)}}function ar(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=n;var N=a,z=b;try{z()}catch($){st(h,N,$)}}}o=o.next}while(o!==f)}}catch($){st(n,n.return,$)}}function Sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{mg(n,a)}catch(o){st(t,t.return,o)}}}function Ay(t,n,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function Al(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function Vi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function xy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function rd(t,n,a){try{var o=t.stateNode;kT(o,t.type,a,n),o[Ot]=n}catch(h){st(t,t.return,h)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dr(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=di));else if(o!==4&&(o===27&&dr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(od(t,n,a),t=t.sibling;t!==null;)od(t,n,a),t=t.sibling}function mc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function Ry(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,o,a),n[Et]=t,n[Ot]=a}catch(f){st(t,t.return,f)}}var ds=!1,Pt=!1,ld=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function dT(t,n){if(t=t.containerInfo,Id=Vc,t=Bp(t),ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,z=0,$=0,W=t,q=null;t:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(b=_+h),W!==f||o!==0&&W.nodeType!==3||(N=_+o),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)q=W,W=Q;for(;;){if(W===t)break t;if(q===a&&++z===h&&(b=_),q===f&&++$===o&&(N=_),(Q=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:t,selectionRange:a},Vc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var pe=da(a.type,h);t=o.getSnapshotBeforeUpdate(pe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(xe){st(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function Ny(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ps(t,a),o&4&&Sl(5,a);break;case 1:if(ps(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){st(a,a.return,_)}else{var h=da(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}o&64&&Sy(a),o&512&&Al(a,a.return);break;case 3:if(ps(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mg(t,n)}catch(_){st(a,a.return,_)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:ps(t,a),n===null&&o&4&&xy(a),o&512&&Al(a,a.return);break;case 12:ps(t,a);break;case 31:ps(t,a),o&4&&My(t,a);break;case 13:ps(t,a),o&4&&ky(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TT.bind(null,a),qT(t,a))));break;case 22:if(o=a.memoizedState!==null||ds,!o){n=n!==null&&n.memoizedState!==null||Pt,h=ds;var f=Pt;ds=o,(Pt=n)&&!f?gs(t,a,(a.subtreeFlags&8772)!==0):ps(t,a),ds=h,Pt=f}break;case 30:break;default:ps(t,a)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&js(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,bn=!1;function ms(t,n,a){for(a=a.child;a!==null;)Oy(t,n,a),a=a.sibling}function Oy(t,n,a){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(pn,a)}catch{}switch(a.tag){case 26:Pt||Vi(a,n),ms(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||Vi(a,n);var o=yt,h=bn;dr(a.type)&&(yt=a.stateNode,bn=!1),ms(t,n,a),kl(a.stateNode),yt=o,bn=h;break;case 5:Pt||Vi(a,n);case 6:if(o=yt,h=bn,yt=null,ms(t,n,a),yt=o,bn=h,yt!==null)if(bn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{yt.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:yt!==null&&(bn?(t=yt,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),vo(t)):S0(yt,a.stateNode));break;case 4:o=yt,h=bn,yt=a.stateNode.containerInfo,bn=!0,ms(t,n,a),yt=o,bn=h;break;case 0:case 11:case 14:case 15:ar(2,a,n),Pt||ar(4,a,n),ms(t,n,a);break;case 1:Pt||(Vi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ay(a,n,o)),ms(t,n,a);break;case 21:ms(t,n,a);break;case 22:Pt=(o=Pt)||a.memoizedState!==null,ms(t,n,a),Pt=o;break;default:ms(t,n,a)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{vo(t)}catch(a){st(n,n.return,a)}}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{vo(t)}catch(a){st(n,n.return,a)}}function mT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Iy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Iy),n;default:throw Error(r(435,t.tag))}}function pc(t,n){var a=mT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=wT.bind(null,t,o);o.then(h,h)}})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(dr(b.type)){yt=b.stateNode,bn=!1;break e}break;case 5:yt=b.stateNode,bn=!1;break e;case 3:case 4:yt=b.stateNode.containerInfo,bn=!0;break e}b=b.return}if(yt===null)throw Error(r(160));Oy(f,_,h),yt=null,bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vy(n,t),n=n.sibling}var vi=null;function Vy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),wn(t),o&4&&(ar(3,t,t.return),Sl(3,t),ar(5,t,t.return));break;case 1:Tn(n,t),wn(t),o&512&&(Pt||a===null||Vi(a,a.return)),o&64&&ds&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=vi;if(Tn(n,t),wn(t),o&512&&(Pt||a===null||Vi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Gn]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,o,a),f[Et]=t,bt(f),o=f;break e;case"link":var _=V0("link","href",h).get(o+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}f=h.createElement(o),Jt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=V0("meta","content",h).get(o+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}f=h.createElement(o),Jt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Et]=t,bt(f),o=f}t.stateNode=o}else P0(h,t.type,t.stateNode);else t.stateNode=k0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?P0(h,t.type,t.stateNode):k0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),wn(t),o&512&&(Pt||a===null||Vi(a,a.return)),a!==null&&o&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),wn(t),o&512&&(Pt||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(pe){st(t,t.return,pe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ld=!0);break;case 6:if(Tn(n,t),wn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(pe){st(t,t.return,pe)}}break;case 3:if(Dc=null,h=vi,vi=Ic(n.containerInfo),Tn(n,t),vi=h,wn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{vo(n.containerInfo)}catch(pe){st(t,t.return,pe)}ld&&(ld=!1,Py(t));break;case 4:o=vi,vi=Ic(t.stateNode.containerInfo),Tn(n,t),wn(t),vi=o;break;case 12:Tn(n,t),wn(t);break;case 31:Tn(n,t),wn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:Tn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=Ut()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=ds,$=Pt;if(ds=z||h,Pt=$||N,Tn(n,t),Pt=$,ds=z,wn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||ds||Pt||ma(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var W=N.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(pe){st(N,N.return,pe)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(pe){st(N,N.return,pe)}}}else if(n.tag===18){if(a===null){N=n;try{var Q=N.stateNode;h?A0(Q,!0):A0(N.stateNode,!1)}catch(pe){st(N,N.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(t,a))));break;case 19:Tn(n,t),wn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:Tn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Cy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ad(t);mc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var b=ad(t);mc(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=ad(t);od(t,z,N);break;default:throw Error(r(161))}}catch($){st(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ps(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(t,n.alternate,n),n=n.sibling}function ma(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),ma(n);break;case 1:Vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ay(n,n.return,a),ma(n);break;case 27:kl(n.stateNode);case 26:case 5:Vi(n,n.return),ma(n);break;case 22:n.memoizedState===null&&ma(n);break;case 30:ma(n);break;default:ma(n)}t=t.sibling}}function gs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:gs(h,f,a),Sl(4,f);break;case 1:if(gs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)dg(N[h],b)}catch(z){st(o,o.return,z)}}a&&_&64&&Sy(f),Al(f,f.return);break;case 27:Ry(f);case 26:case 5:gs(h,f,a),a&&o===null&&_&4&&xy(f),Al(f,f.return);break;case 12:gs(h,f,a);break;case 31:gs(h,f,a),a&&_&4&&My(h,f);break;case 13:gs(h,f,a),a&&_&4&&ky(h,f);break;case 22:f.memoizedState===null&&gs(h,f,a),Al(f,f.return);break;case 30:break;default:gs(h,f,a)}n=n.sibling}}function ud(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function Ei(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,o),n=n.sibling}function Ly(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ei(t,n,a,o),h&2048&&Sl(9,n);break;case 1:Ei(t,n,a,o);break;case 3:Ei(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(h&2048){Ei(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){st(n,n.return,N)}}else Ei(t,n,a,o);break;case 31:Ei(t,n,a,o);break;case 13:Ei(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Ei(t,n,a,o):xl(t,n):f._visibility&2?Ei(t,n,a,o):(f._visibility|=2,oo(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ud(_,n);break;case 24:Ei(t,n,a,o),h&2048&&cd(n.alternate,n);break;default:Ei(t,n,a,o)}}function oo(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,b=a,N=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:oo(f,_,b,N,h),Sl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?oo(f,_,b,N,h):xl(f,_):($._visibility|=2,oo(f,_,b,N,h)),h&&z&2048&&ud(_.alternate,_);break;case 24:oo(f,_,b,N,h),h&&z&2048&&cd(_.alternate,_);break;default:oo(f,_,b,N,h)}n=n.sibling}}function xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:xl(a,o),h&2048&&ud(o.alternate,o);break;case 24:xl(a,o),h&2048&&cd(o.alternate,o);break;default:xl(a,o)}n=n.sibling}}var Cl=8192;function lo(t,n,a){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)jy(t,n,a),t=t.sibling}function jy(t,n,a){switch(t.tag){case 26:lo(t,n,a),t.flags&Cl&&t.memoizedState!==null&&ew(a,vi,t.memoizedState,t.memoizedProps);break;case 5:lo(t,n,a);break;case 3:case 4:var o=vi;vi=Ic(t.stateNode.containerInfo),lo(t,n,a),vi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Cl,Cl=16777216,lo(t,n,a),Cl=o):lo(t,n,a));break;default:lo(t,n,a)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Gt=o,By(o,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&ar(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):Rl(t);break;default:Rl(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Gt=o,By(o,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ar(8,n,n.return),gc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function By(t,n){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:ar(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:hl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Gt=o;else e:for(a=t;Gt!==null;){o=Gt;var h=o.sibling,f=o.return;if(Dy(o),o===a){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var pT={getCacheForType:function(t){var n=Xt(Mt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Xt(Mt).controller.signal}},gT=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,ze=null,qe=0,it=0,Ln=null,or=!1,uo=!1,hd=!1,ys=0,St=0,lr=0,pa=0,fd=0,jn=0,co=0,Il=null,Sn=null,dd=!1,yc=0,qy=0,_c=1/0,vc=null,ur=null,zt=0,cr=null,ho=null,_s=0,md=0,pd=null,Hy=null,Nl=0,gd=null;function Un(){return(et&2)!==0&&qe!==0?qe&-qe:F.T!==null?Td():Ma()}function Fy(){if(jn===0)if((qe&536870912)===0||Ke){var t=Cn;Cn<<=1,(Cn&3932160)===0&&(Cn=262144),jn=t}else jn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),jn}function An(t,n,a){(t===ut&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(fo(t,0),hr(t,qe,jn,!1)),es(t,a),((et&2)===0||t!==ut)&&(t===ut&&((et&2)===0&&(pa|=a),St===4&&hr(t,qe,jn,!1)),Pi(t))}function Gy(t,n,a){if((et&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||yn(t,n),h=o?vT(t,n):_d(t,n,!0),f=o;do{if(h===0){uo&&!o&&hr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!yT(a)){h=_d(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var b=t;h=Il;var N=b.current.memoizedState.isDehydrated;if(N&&(fo(b,_).flags|=256),_=_d(b,_,!1),_!==2){if(hd&&!N){b.errorRecoveryDisabledLanes|=f,pa|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){fo(t,0),hr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:hr(o,n,jn,!or);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-Ut(),10<h)){if(hr(o,n,jn,!or),Hn(o,0,!0)!==0)break e;_s=n,o.timeoutHandle=T0(Qy.bind(null,o,a,Sn,vc,dd,n,jn,pa,co,or,f,"Throttled",-0,0),h);break e}Qy(o,a,Sn,vc,dd,n,jn,pa,co,or,f,null,-0,0)}}break}while(!0);Pi(t)}function Qy(t,n,a,o,h,f,_,b,N,z,$,W,q,Q){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},jy(n,f,W);var pe=(f&62914560)===f?yc-Ut():(f&4194048)===f?qy-Ut():0;if(pe=tw(W,pe),pe!==null){_s=f,t.cancelPendingCommit=pe(e0.bind(null,t,n,f,a,o,h,_,b,N,$,W,null,q,Q)),hr(t,f,_,!z);return}}e0(t,n,f,a,o,h,_,b,N)}function yT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Mn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(t,n,a,o){n&=~fd,n&=~pa,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Xe(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&ts(t,a,n)}function Ec(){return(et&6)===0?(Dl(0),!1):!0}function yd(){if(ze!==null){if(it===0)var t=ze.return;else t=ze,os=aa=null,Mf(t),no=null,dl=0,t=ze;for(;t!==null;)wy(t.alternate,t),t=t.return;ze=null}}function fo(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,LT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_s=0,yd(),ut=t,ze=a=rs(t.current,null),qe=n,it=0,Ln=null,or=!1,uo=yn(t,n),hd=!1,co=jn=fd=pa=lr=St=0,Sn=Il=null,dd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Xe(o),f=1<<h;n|=t[h],o&=~f}return ys=n,Bu(),a}function Ky(t,n){Pe=null,F.H=bl,n===to||n===Xu?(n=ug(),it=3):n===bf?(n=ug(),it=4):it=n===Xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,ze===null&&(St=1,uc(t,Zn(n,t.current)))}function Yy(){var t=Vn.current;return t===null?!0:(qe&4194048)===qe?ii===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ii:!1}function Xy(){var t=F.H;return F.H=bl,t===null?bl:t}function $y(){var t=F.A;return F.A=pT,t}function bc(){St=4,or||(qe&4194048)!==qe&&Vn.current!==null||(uo=!0),(lr&134217727)===0&&(pa&134217727)===0||ut===null||hr(ut,qe,jn,!1)}function _d(t,n,a){var o=et;et|=2;var h=Xy(),f=$y();(ut!==t||qe!==n)&&(vc=null,fo(t,n)),n=!1;var _=St;e:do try{if(it!==0&&ze!==null){var b=ze,N=Ln;switch(it){case 8:yd(),_=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=it;if(it=0,Ln=null,mo(t,b,N,z),a&&uo){_=0;break e}break;default:z=it,it=0,Ln=null,mo(t,b,N,z)}}_T(),_=St;break}catch($){Ky(t,$)}while(!0);return n&&t.shellSuspendCounter++,os=aa=null,et=o,F.H=h,F.A=f,ze===null&&(ut=null,qe=0,Bu()),_}function _T(){for(;ze!==null;)Jy(ze)}function vT(t,n){var a=et;et|=2;var o=Xy(),h=$y();ut!==t||qe!==n?(vc=null,_c=Ut()+500,fo(t,n)):uo=yn(t,n);e:do try{if(it!==0&&ze!==null){n=ze;var f=Ln;t:switch(it){case 1:it=0,Ln=null,mo(t,n,f,1);break;case 2:case 9:if(og(f)){it=0,Ln=null,Wy(n);break}n=function(){it!==2&&it!==9||ut!==t||(it=7),Pi(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:og(f)?(it=0,Ln=null,Wy(n)):(it=0,Ln=null,mo(t,n,f,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var b=ze;if(_?L0(_):b.stateNode.complete){it=0,Ln=null;var N=b.sibling;if(N!==null)ze=N;else{var z=b.return;z!==null?(ze=z,Tc(z)):ze=null}break t}}it=0,Ln=null,mo(t,n,f,5);break;case 6:it=0,Ln=null,mo(t,n,f,6);break;case 8:yd(),St=6;break e;default:throw Error(r(462))}}ET();break}catch($){Ky(t,$)}while(!0);return os=aa=null,F.H=o,F.A=h,et=a,ze!==null?0:(ut=null,qe=0,Bu(),St)}function ET(){for(;ze!==null&&!Lr();)Jy(ze)}function Jy(t){var n=by(t.alternate,t,ys);t.memoizedProps=t.pendingProps,n===null?Tc(t):ze=n}function Wy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=py(a,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=py(a,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:Mf(n);default:wy(a,n),n=ze=$p(n,ys),n=by(a,n,ys)}t.memoizedProps=t.pendingProps,n===null?Tc(t):ze=n}function mo(t,n,a,o){os=aa=null,Mf(n),no=null,dl=0;var h=n.return;try{if(lT(t,h,n,a,qe)){St=1,uc(t,Zn(a,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;St=1,uc(t,Zn(a,t.current)),ze=null;return}n.flags&32768?(Ke||o===1?t=!0:uo||(qe&536870912)!==0?t=!1:(or=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zy(n,t)):Tc(n)}function Tc(t){var n=t;do{if((n.flags&32768)!==0){Zy(n,or);return}t=n.return;var a=hT(n.alternate,n,ys);if(a!==null){ze=a;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);St===0&&(St=5)}function Zy(t,n){do{var a=fT(t.alternate,t);if(a!==null){a.flags&=32767,ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=a}while(t!==null);St=6,ze=null}function e0(t,n,a,o,h,f,_,b,N){t.cancelPendingCommit=null;do wc();while(zt!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=af,Yo(t,a,f,_,b,N),t===ut&&(ze=ut=null,qe=0),ho=n,cr=t,_s=a,md=f,pd=h,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ST(xi,function(){return r0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ae.p,ae.p=2,_=et,et|=4;try{dT(t,n,a)}finally{et=_,ae.p=h,F.T=o}}zt=1,t0(),n0(),i0()}}function t0(){if(zt===1){zt=0;var t=cr,n=ho,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=ae.p;ae.p=2;var h=et;et|=4;try{Vy(n,t);var f=Nd,_=Bp(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&zp(b.ownerDocument.documentElement,b)){if(N!==null&&ef(b)){var z=N.start,$=N.end;if($===void 0&&($=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min($,b.value.length);else{var W=b.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var Q=q.getSelection(),pe=b.textContent.length,xe=Math.min(N.start,pe),lt=N.end===void 0?xe:Math.min(N.end,pe);!Q.extend&&xe>lt&&(_=lt,lt=xe,xe=_);var P=Up(b,xe),k=Up(b,lt);if(P&&k&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var U=W.createRange();U.setStart(P.node,P.offset),Q.removeAllRanges(),xe>lt?(Q.addRange(U),Q.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),Q.addRange(U))}}}}for(W=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var J=W[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Vc=!!Id,Nd=Id=null}finally{et=h,ae.p=o,F.T=a}}t.current=n,zt=2}}function n0(){if(zt===2){zt=0;var t=cr,n=ho,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=ae.p;ae.p=2;var h=et;et|=4;try{Ny(t,n.alternate,n)}finally{et=h,ae.p=o,F.T=a}}zt=3}}function i0(){if(zt===4||zt===3){zt=0,Zi();var t=cr,n=ho,a=_s,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,ho=cr=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ur=null),In(a),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=ae.p,ae.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var b=o[_];f(b.value,{componentStack:b.stack})}}finally{F.T=n,ae.p=h}}(_s&3)!==0&&wc(),Pi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===gd?Nl++:(Nl=0,gd=t):Nl=0,Dl(0)}}function s0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function wc(){return t0(),n0(),i0(),r0()}function r0(){if(zt!==5)return!1;var t=cr,n=md;md=0;var a=In(_s),o=F.T,h=ae.p;try{ae.p=32>a?32:a,F.T=null,a=pd,pd=null;var f=cr,_=_s;if(zt=0,ho=cr=null,_s=0,(et&6)!==0)throw Error(r(331));var b=et;if(et|=4,zy(f.current),Ly(f,f.current,_,a),et=b,Dl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(pn,f)}catch{}return!0}finally{ae.p=h,F.T=o,s0(t,n)}}function a0(t,n,a){n=Zn(a,n),n=Yf(t.stateNode,n,2),t=ir(t,n,2),t!==null&&(es(t,2),Pi(t))}function st(t,n,a){if(t.tag===3)a0(t,t,a);else for(;n!==null;){if(n.tag===3){a0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){t=Zn(a,t),a=oy(2),o=ir(n,a,2),o!==null&&(ly(a,o,n,t),es(o,2),Pi(o));break}}n=n.return}}function vd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new gT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(hd=!0,h.add(a),t=bT.bind(null,t,n,a),n.then(t,t))}function bT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ut===t&&(qe&a)===a&&(St===4||St===3&&(qe&62914560)===qe&&300>Ut()-yc?(et&2)===0&&fo(t,0):fd|=a,co===qe&&(co=0)),Pi(t)}function o0(t,n){n===0&&(n=Br()),t=ia(t,n),t!==null&&(es(t,n),Pi(t))}function TT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),o0(t,a)}function wT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),o0(t,a)}function ST(t,n){return At(t,n)}var Sc=null,po=null,Ed=!1,Ac=!1,bd=!1,fr=0;function Pi(t){t!==po&&t.next===null&&(po===null?Sc=po=t:po=po.next=t),Ac=!0,Ed||(Ed=!0,xT())}function Dl(t,n){if(!bd&&Ac){bd=!0;do for(var a=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=h&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h0(o,f))}else f=qe,f=Hn(o,o===ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||yn(o,f)||(a=!0,h0(o,f));o=o.next}while(a);bd=!1}}function AT(){l0()}function l0(){Ac=Ed=!1;var t=0;fr!==0&&PT()&&(t=fr);for(var n=Ut(),a=null,o=Sc;o!==null;){var h=o.next,f=u0(o,n);f===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(po=a)):(a=o,(t!==0||(f&3)!==0)&&(Ac=!0)),o=h}zt!==0&&zt!==5||Dl(t),fr!==0&&(fr=0)}function u0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Xe(f),b=1<<_,N=h[_];N===-1?((b&a)===0||(b&o)!==0)&&(h[_]=zr(b,n)):N<=n&&(t.expiredLanes|=b),f&=~b}if(n=ut,a=qe,a=Hn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&qn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||yn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&qn(o),In(a)){case 2:case 8:a=ci;break;case 32:a=xi;break;case 268435456:a=Da;break;default:a=xi}return o=c0.bind(null,t),a=At(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&qn(o),t.callbackPriority=2,t.callbackNode=null,2}function c0(t,n){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var o=qe;return o=Hn(t,t===ut?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,n),u0(t,Ut()),t.callbackNode!=null&&t.callbackNode===a?c0.bind(null,t):null)}function h0(t,n){if(wc())return null;Gy(t,n,!0)}function xT(){jT(function(){(et&6)!==0?At(Ft,AT):l0()})}function Td(){if(fr===0){var t=Za;t===0&&(t=nn,nn<<=1,(nn&261888)===0&&(nn=256)),fr=t}return fr}function f0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function d0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function CT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=f0((h[Ot]||null).action),_=o.submitter;_&&(n=(n=_[Ot]||null)?f0(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var b=new Ii("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(fr!==0){var N=_?d0(h,_):new FormData(h);qf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=_?d0(h,_):new FormData(h),qf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var wd=0;wd<rf.length;wd++){var Sd=rf[wd],RT=Sd.toLowerCase(),IT=Sd[0].toUpperCase()+Sd.slice(1);_i(RT,"on"+IT)}_i(Fp,"onAnimationEnd"),_i(Gp,"onAnimationIteration"),_i(Qp,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Gb,"onTransitionRun"),_i(Qb,"onTransitionStart"),_i(Kb,"onTransitionCancel"),_i(Kp,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function m0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var b=o[_],N=b.instance,z=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch($){zu($)}h.currentTarget=null,f=N}else for(_=0;_<o.length;_++){if(b=o[_],N=b.instance,z=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch($){zu($)}h.currentTarget=null,f=N}}}}function Be(t,n){var a=n[Ls];a===void 0&&(a=n[Ls]=new Set);var o=t+"__bubble";a.has(o)||(p0(n,t,2,!1),a.add(o))}function Ad(t,n,a){var o=0;n&&(o|=4),p0(a,t,o,n)}var xc="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[xc]){t[xc]=!0,Us.forEach(function(a){a!=="selectionchange"&&(NT.has(a)||Ad(a,!1,t),Ad(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xc]||(n[xc]=!0,Ad("selectionchange",!1,n))}}function p0(t,n,a,o){switch(F0(n)){case 2:var h=sw;break;case 8:h=rw;break;default:h=Bd}a=h.bind(null,n,a,t),h=void 0,!Xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Cd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var b=o.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Qn(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=f=_;continue e}b=b.parentNode}}o=o.return}Ks(function(){var z=f,$=Xn(a),W=[];e:{var q=Yp.get(t);if(q!==void 0){var Q=Ii,pe=t;switch(t){case"keypress":if(Jr(a)===0)break e;case"keydown":case"keyup":Q=Lu;break;case"focusin":pe="focus",Q=Zr;break;case"focusout":pe="blur",Q=Zr;break;case"beforeblur":case"afterblur":Q=Zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case Fp:case Gp:case Qp:Q=Nu;break;case Kp:Q=S;break;case"scroll":case"scrollend":Q=nl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ss;break;case"toggle":case"beforetoggle":Q=Ve}var xe=(n&4)!==0,lt=!xe&&(t==="scroll"||t==="scrollend"),P=xe?q!==null?q+"Capture":null:q;xe=[];for(var k=z,U;k!==null;){var J=k;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||P===null||(J=mi(k,P),J!=null&&xe.push(Ml(k,J,U))),lt)break;k=k.return}0<xe.length&&(q=new Q(q,pe,null,a,$),W.push({event:q,listeners:xe}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==Zo&&(pe=a.relatedTarget||a.fromElement)&&(Qn(pe)||pe[Fn]))break e;if((Q||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=z,pe=pe?Qn(pe):null,pe!==null&&(lt=u(pe),xe=pe.tag,pe!==lt||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):(Q=null,pe=z),Q!==pe)){if(xe=il,J="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(xe=ss,J="onPointerLeave",P="onPointerEnter",k="pointer"),lt=Q==null?q:cn(Q),U=pe==null?q:cn(pe),q=new xe(J,k+"leave",Q,a,$),q.target=lt,q.relatedTarget=U,J=null,Qn($)===z&&(xe=new xe(P,k+"enter",pe,a,$),xe.target=U,xe.relatedTarget=lt,J=xe),lt=J,Q&&pe)t:{for(xe=DT,P=Q,k=pe,U=0,J=P;J;J=xe(J))U++;J=0;for(var Te=k;Te;Te=xe(Te))J++;for(;0<U-J;)P=xe(P),U--;for(;0<J-U;)k=xe(k),J--;for(;U--;){if(P===k||k!==null&&P===k.alternate){xe=P;break t}P=xe(P),k=xe(k)}xe=null}else xe=null;Q!==null&&g0(W,q,Q,xe,!1),pe!==null&&lt!==null&&g0(W,lt,pe,xe,!0)}}e:{if(q=z?cn(z):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var $e=Mp;else if(Dp(q))if(kp)$e=qb;else{$e=zb;var ye=Ub}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&La(z.elementType)&&($e=Mp):$e=Bb;if($e&&($e=$e(t,z))){Op(W,$e,a,$);break e}ye&&ye(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&$o(q,"number",q.value)}switch(ye=z?cn(z):window,t){case"focusin":(Dp(ye)||ye.contentEditable==="true")&&(Ga=ye,tf=z,ll=null);break;case"focusout":ll=tf=Ga=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,qp(W,a,$);break;case"selectionchange":if(Fb)break;case"keydown":case"keyup":qp(W,a,$)}var Le;if(Ze)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Fa?ea(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Oi&&a.locale!=="ko"&&(Fa||He!=="onCompositionStart"?He==="onCompositionEnd"&&Fa&&(Le=tl()):(Ri=$,el="value"in Ri?Ri.value:Ri.textContent,Fa=!0)),ye=Cc(z,He),0<ye.length&&(He=new Di(He,t,null,a,$),W.push({event:He,listeners:ye}),Le?He.data=Le:(Le=Ha(a),Le!==null&&(He.data=Le)))),(Le=Jn?Vb(t,a):Pb(t,a))&&(He=Cc(z,"onBeforeInput"),0<He.length&&(ye=new Di("onBeforeInput","beforeinput",null,a,$),W.push({event:ye,listeners:He}),ye.data=Le)),CT(W,t,z,a,$)}m0(W,n)})}function Ml(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Cc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=mi(t,a),h!=null&&o.unshift(Ml(t,h,f)),h=mi(t,n),h!=null&&o.push(Ml(t,h,f))),t.tag===3)return o;t=t.return}return[]}function DT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g0(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var b=a,N=b.alternate,z=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||z===null||(N=z,h?(z=mi(a,f),z!=null&&_.unshift(Ml(a,z,N))):h||(z=mi(a,f),z!=null&&_.push(Ml(a,z,N)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var OT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(OT,`
`).replace(MT,"")}function _0(t,n){return n=y0(n),y0(t)===n}function ot(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||En(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&En(t,""+o);break;case"className":hn(t,"class",o);break;case"tabIndex":hn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,o);break;case"style":Wo(t,o,f);break;case"data":if(n!=="object"){hn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ja(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ot(t,n,"name",h.name,h,null),ot(t,n,"formEncType",h.formEncType,h,null),ot(t,n,"formMethod",h.formMethod,h,null),ot(t,n,"formTarget",h.formTarget,h,null)):(ot(t,n,"encType",h.encType,h,null),ot(t,n,"method",h.method,h,null),ot(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ja(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=di);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),qs(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":qs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,qs(t,a,o))}}function Rd(t,n,a,o,h,f){switch(a){case"style":Wo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?En(t,o):(typeof o=="number"||typeof o=="bigint")&&En(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ot]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):qs(t,a,o)}}}function Jt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ot(t,n,f,_,a,null)}}h&&ot(t,n,"srcSet",a.srcSet,a,null),o&&ot(t,n,"src",a.src,a,null);return;case"input":Be("invalid",t);var b=f=_=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":z=$;break;case"value":f=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,n));break;default:ot(t,n,o,$,a,null)}}Pa(t,f,b,N,z,_,h,!1);return;case"select":Be("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":o=b;default:ot(t,n,h,b,a,null)}n=f,a=_,t.multiple=!!o,n!=null?Hs(t,!!o,n,!1):a!=null&&Hs(t,!!o,a,!0);return;case"textarea":Be("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ot(t,n,_,b,a,null)}Fs(t,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ot(t,n,N,o,a,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<Ol.length;o++)Be(Ol[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ot(t,n,z,o,a,null)}return;default:if(La(n)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Rd(t,n,$,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&ot(t,n,b,o,a,null))}function kT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,b=null,N=null,z=null,$=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=W;default:o.hasOwnProperty(Q)||ot(t,n,Q,null,o,W)}}for(var q in o){var Q=o[q];if(W=a[q],o.hasOwnProperty(q)&&(Q!=null||W!=null))switch(q){case"type":f=Q;break;case"name":h=Q;break;case"checked":z=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==W&&ot(t,n,q,Q,o,W)}}vn(t,_,b,N,z,$,f,h);return;case"select":Q=_=b=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":Q=N;default:o.hasOwnProperty(f)||ot(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==N&&ot(t,n,h,f,o,N)}n=b,a=_,o=Q,q!=null?Hs(t,!!a,q,!1):!!o!=!!a&&(n!=null?Hs(t,!!a,n,!0):Hs(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ot(t,n,b,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ot(t,n,_,h,o,f)}Au(t,q,Q);return;case"option":for(var pe in a)if(q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:ot(t,n,pe,null,o,q)}for(N in o)if(q=o[N],Q=a[N],o.hasOwnProperty(N)&&q!==Q&&(q!=null||Q!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ot(t,n,N,q,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)q=a[xe],a.hasOwnProperty(xe)&&q!=null&&!o.hasOwnProperty(xe)&&ot(t,n,xe,null,o,q);for(z in o)if(q=o[z],Q=a[z],o.hasOwnProperty(z)&&q!==Q&&(q!=null||Q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ot(t,n,z,q,o,Q)}return;default:if(La(n)){for(var lt in a)q=a[lt],a.hasOwnProperty(lt)&&q!==void 0&&!o.hasOwnProperty(lt)&&Rd(t,n,lt,void 0,o,q);for($ in o)q=o[$],Q=a[$],!o.hasOwnProperty($)||q===Q||q===void 0&&Q===void 0||Rd(t,n,$,q,o,Q);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!o.hasOwnProperty(P)&&ot(t,n,P,null,o,q);for(W in o)q=o[W],Q=a[W],!o.hasOwnProperty(W)||q===Q||q==null&&Q==null||ot(t,n,W,q,o,Q)}function v0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,b=h.duration;if(f&&b&&v0(_)){for(_=0,b=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>b)break;var $=N.transferSize,W=N.initiatorType;$&&v0(W)&&(N=N.responseEnd,_+=$*(N<b?1:(b-z)/(N-z)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Id=null,Nd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function E0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function PT(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var T0=typeof setTimeout=="function"?setTimeout:void 0,LT=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,jT=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(UT)}:T0;function UT(t){setTimeout(function(){throw t})}function dr(t){return t==="head"}function S0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),vo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[Gn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&kl(t.ownerDocument.body);a=h}while(a);vo(n)}function A0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),js(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Gn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=si(t.nextSibling),t===null)break}return null}function BT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=si(t.nextSibling),t===null))return null;return t}function x0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=si(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function si(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pd=null;function C0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return si(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function R0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function I0(t,n,a){switch(n=Rc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);js(t)}var ri=new Map,N0=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=ae.d;ae.d={f:HT,r:FT,D:GT,C:QT,L:KT,m:YT,X:$T,S:XT,M:JT};function HT(){var t=vs.f(),n=Ec();return t||n}function FT(t){var n=_n(t);n!==null&&n.tag===5&&n.type==="form"?Kg(n):vs.r(t)}var go=typeof document>"u"?null:document;function D0(t,n,a){var o=go;if(o&&typeof n=="string"&&n){var h=Ue(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N0.has(h)||(N0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Jt(n,"link",t),bt(n),o.head.appendChild(n)))}}function GT(t){vs.D(t),D0("dns-prefetch",t,null)}function QT(t,n){vs.C(t,n),D0("preconnect",t,n)}function KT(t,n,a){vs.L(t,n,a);var o=go;if(o&&t&&n){var h='link[rel="preload"][as="'+Ue(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ue(a.imageSizes)+'"]')):h+='[href="'+Ue(t)+'"]';var f=h;switch(n){case"style":f=yo(t);break;case"script":f=_o(t)}ri.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ri.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Vl(f))||n==="script"&&o.querySelector(Pl(f))||(n=o.createElement("link"),Jt(n,"link",t),bt(n),o.head.appendChild(n)))}}function YT(t,n){vs.m(t,n);var a=go;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ue(o)+'"][href="'+Ue(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_o(t)}if(!ri.has(f)&&(t=w({rel:"modulepreload",href:t},n),ri.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}o=a.createElement("link"),Jt(o,"link",t),bt(o),a.head.appendChild(o)}}}function XT(t,n,a){vs.S(t,n,a);var o=go;if(o&&t){var h=Kn(o).hoistableStyles,f=yo(t);n=n||"default";var _=h.get(f);if(!_){var b={loading:0,preload:null};if(_=o.querySelector(Vl(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ri.get(f))&&Ld(t,a);var N=_=o.createElement("link");bt(N),Jt(N,"link",t),N._p=new Promise(function(z,$){N.onload=z,N.onerror=$}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Nc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(f,_)}}}function $T(t,n){vs.X(t,n);var a=go;if(a&&t){var o=Kn(a).hoistableScripts,h=_o(t),f=o.get(h);f||(f=a.querySelector(Pl(h)),f||(t=w({src:t,async:!0},n),(n=ri.get(h))&&jd(t,n),f=a.createElement("script"),bt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function JT(t,n){vs.M(t,n);var a=go;if(a&&t){var o=Kn(a).hoistableScripts,h=_o(t),f=o.get(h);f||(f=a.querySelector(Pl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ri.get(h))&&jd(t,n),f=a.createElement("script"),bt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O0(t,n,a,o){var h=(h=ue.current)?Ic(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=yo(a.href),a=Kn(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=yo(a.href);var f=Kn(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Vl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),ri.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ri.set(t,a),f||WT(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_o(a),a=Kn(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function yo(t){return'href="'+Ue(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function WT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Jt(n,"link",a),bt(n),t.head.appendChild(n))}function _o(t){return'[src="'+Ue(t)+'"]'}function Pl(t){return"script[async]"+t}function k0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Ue(a.href)+'"]');if(o)return n.instance=o,bt(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),bt(o),Jt(o,"style",h),Nc(o,a.precedence,t),n.instance=o;case"stylesheet":h=yo(a.href);var f=t.querySelector(Vl(h));if(f)return n.state.loading|=4,n.instance=f,bt(f),f;o=M0(a),(h=ri.get(h))&&Ld(o,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var _=f;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Jt(f,"link",o),n.state.loading|=4,Nc(f,a.precedence,t),n.instance=f;case"script":return f=_o(a.src),(h=t.querySelector(Pl(f)))?(n.instance=h,bt(h),h):(o=a,(h=ri.get(f))&&(o=w({},a),jd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Jt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,a.precedence,t));return n.instance}function Nc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var b=o[_];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ld(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function V0(t,n,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Gn]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var b=o.get(_);b?b.push(f):o.set(_,[f])}}return o}function P0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function ZT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ew(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=yo(o.href),f=n.querySelector(Vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Oc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,bt(f);return}f=n.ownerDocument||n,o=M0(o),(h=ri.get(h))&&Ld(o,h),f=f.createElement("link"),bt(f);var _=f;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Jt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ud=0;function tw(t,n){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ud===0&&(Ud=62500*VT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ud?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function kc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,n.forEach(nw,t),Mc=null,Oc.call(t))}function nw(t,n){if(!(n.state.loading&4)){var a=Mc.get(t);if(a)var o=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:fe,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function iw(t,n,a,o,h,f,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function j0(t,n,a,o,h,f,_,b,N,z,$,W){return t=new iw(t,n,a,_,N,z,$,W,b),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=_f(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Tf(f),t}function U0(t){return t?(t=Ya,t):Ya}function z0(t,n,a,o,h,f){h=U0(h),o.context===null?o.context=h:o.pendingContext=h,o=nr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ir(t,o,n),a!==null&&(An(a,t,n),pl(a,t,n))}function B0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function zd(t,n){B0(t,n),(t=t.alternate)&&B0(t,n)}function q0(t){if(t.tag===13||t.tag===31){var n=ia(t,67108864);n!==null&&An(n,t,67108864),zd(t,67108864)}}function H0(t){if(t.tag===13||t.tag===31){var n=Un();n=un(n);var a=ia(t,n);a!==null&&An(a,t,n),zd(t,n)}}var Vc=!0;function sw(t,n,a,o){var h=F.T;F.T=null;var f=ae.p;try{ae.p=2,Bd(t,n,a,o)}finally{ae.p=f,F.T=h}}function rw(t,n,a,o){var h=F.T;F.T=null;var f=ae.p;try{ae.p=8,Bd(t,n,a,o)}finally{ae.p=f,F.T=h}}function Bd(t,n,a,o){if(Vc){var h=qd(o);if(h===null)Cd(t,n,o,Pc,a),G0(t,o);else if(ow(h,t,n,a,o))o.stopPropagation();else if(G0(t,o),n&4&&-1<aw.indexOf(t)){for(;h!==null;){var f=_n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=gn(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-Xe(_);b.entanglements[1]|=N,_&=~N}Pi(f),(et&6)===0&&(_c=Ut()+500,Dl(0))}}break;case 31:case 13:b=ia(f,2),b!==null&&An(b,f,2),Ec(),zd(f,2)}if(f=qd(o),f===null&&Cd(t,n,o,Pc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Cd(t,n,o,null,a)}}function qd(t){return t=Xn(t),Hd(t)}var Pc=null;function Hd(t){if(Pc=null,t=Qn(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pc=t,null}function F0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ai()){case Ft:return 2;case ci:return 8;case xi:case Ko:return 32;case Da:return 268435456;default:return 32}default:return 32}}var Fd=!1,mr=null,pr=null,gr=null,jl=new Map,Ul=new Map,yr=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(t,n){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function zl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=_n(n),n!==null&&q0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ow(t,n,a,o,h){switch(n){case"focusin":return mr=zl(mr,t,n,a,o,h),!0;case"dragenter":return pr=zl(pr,t,n,a,o,h),!0;case"mouseover":return gr=zl(gr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return jl.set(f,zl(jl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ul.set(f,zl(Ul.get(f)||null,t,n,a,o,h)),!0}return!1}function Q0(t){var n=Qn(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Nn(t.priority,function(){H0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Nn(t.priority,function(){H0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Zo=o,a.target.dispatchEvent(o),Zo=null}else return n=_n(a),n!==null&&q0(n),t.blockedOn=a,!1;n.shift()}return!0}function K0(t,n,a){Lc(t)&&a.delete(n)}function lw(){Fd=!1,mr!==null&&Lc(mr)&&(mr=null),pr!==null&&Lc(pr)&&(pr=null),gr!==null&&Lc(gr)&&(gr=null),jl.forEach(K0),Ul.forEach(K0)}function jc(t,n){t.blockedOn===n&&(t.blockedOn=null,Fd||(Fd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lw)))}var Uc=null;function Y0(t){Uc!==t&&(Uc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Hd(o||a)===null)continue;break}var f=_n(a);f!==null&&(t.splice(n,3),n-=3,qf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function vo(t){function n(N){return jc(N,t)}mr!==null&&jc(mr,t),pr!==null&&jc(pr,t),gr!==null&&jc(gr,t),jl.forEach(n),Ul.forEach(n);for(var a=0;a<yr.length;a++){var o=yr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<yr.length&&(a=yr[0],a.blockedOn===null);)Q0(a),a.blockedOn===null&&yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Ot]||null;if(typeof f=="function")_||Y0(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ot]||null)b=_.formAction;else if(Hd(h)!==null)continue}else b=_.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),Y0(a)}}}function X0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Gd(t){this._internalRoot=t}zc.prototype.render=Gd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Un();z0(a,o,t,n,null,null)},zc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z0(t.current,2,null,t,null,null),Ec(),n[Fn]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ma();t={blockedOn:null,target:t,priority:n};for(var a=0;a<yr.length&&n!==0&&n<yr[a].priority;a++);yr.splice(a,0,t),a===0&&Q0(t)}};var $0=e.version;if($0!=="19.2.3")throw Error(r(527,$0,"19.2.3"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var uw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{pn=Bc.inject(uw),vt=Bc}catch{}}return ql.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=iy,f=sy,_=ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=j0(t,1,!1,null,null,a,o,null,h,f,_,X0),t[Fn]=n.current,xd(t),new Gd(n)},ql.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=iy,_=sy,b=ry,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=j0(t,1,!0,n,a??null,o,h,N,f,_,b,X0),n.context=U0(null),a=n.current,o=Un(),o=un(o),h=nr(o),h.callback=null,ir(a,h,o),a=o,n.current.lanes=a,es(n,a),Pi(n),t[Fn]=n.current,xd(t),new zc(n)},ql.version="19.2.3",ql}var a_;function vw(){if(a_)return Yd.exports;a_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=_w(),Yd.exports}var Ew=vw();const bw="modulepreload",Tw=function(s,e){return new URL(s,e).href},o_={},l_=function(e,i,r){let l=Promise.resolve();if(i&&i.length>0){let y=function(T){return Promise.all(T.map(w=>Promise.resolve(w).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};const d=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=y(i.map(T=>{if(T=Tw(T,r),T in o_)return;o_[T]=!0;const w=T.endsWith(".css"),I=w?'[rel="stylesheet"]':"";if(r)for(let X=d.length-1;X>=0;X--){const K=d[X];if(K.href===T&&(!w||K.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${T}"]${I}`))return;const L=document.createElement("link");if(L.rel=w?"stylesheet":bw,w||(L.as="script"),L.crossOrigin="",L.href=T,g&&L.setAttribute("nonce",g),document.head.appendChild(L),w)return new Promise((X,K)=>{L.addEventListener("load",X),L.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${T}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})},ww=()=>{};var u_={};const Hv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Sw=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=u>>2,w=(u&3)<<4|p>>4;let I=(p&15)<<2|y>>6,L=y&63;g||(L=64,d||(I=64)),r.push(i[T],i[w],i[I],i[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Hv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Sw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||w==null)throw new Aw;const I=u<<2|p>>4;if(r.push(I),y!==64){const L=p<<4&240|y>>2;if(r.push(L),w!==64){const X=y<<6&192|w;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xw=function(s){const e=Hv(s);return Fv.encodeByteArray(e,!0)},lh=function(s){return xw(s).replace(/\./g,"")},Gv=function(s){try{return Fv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rw=()=>Cw().__FIREBASE_DEFAULTS__,Iw=()=>{if(typeof process>"u"||typeof u_>"u")return;const s=u_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Nw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Gv(s[1]);return e&&JSON.parse(e)},Ih=()=>{try{return ww()||Rw()||Iw()||Nw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Qv=s=>Ih()?.emulatorHosts?.[s],Dw=s=>{const e=Qv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Kv=()=>Ih()?.config,Yv=s=>Ih()?.[`_${s}`];class Ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Bo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(s){return(await fetch(s,{credentials:"include"})).ok}function Mw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lh(JSON.stringify(i)),lh(JSON.stringify(d)),""].join(".")}const Jl={};function kw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?s.emulator.push(e):s.prod.push(e);return s}function Vw(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let c_=!1;function $v(s,e){if(typeof window>"u"||typeof document>"u"||!Bo(window.location.host)||Jl[s]===e||Jl[s]||c_)return;Jl[s]=e;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=kw().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,L){I.setAttribute("width","24"),I.setAttribute("id",L),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{c_=!0,d()},I}function T(I,L){I.setAttribute("id",L),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=Vw(r),L=i("text"),X=document.getElementById(L)||document.createElement("span"),K=i("learnmore"),Y=document.getElementById(K)||document.createElement("a"),ne=i("preprendIcon"),me=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const fe=I.element;p(fe),T(Y,K);const De=y();g(me,ne),fe.append(me,X,Y,De),document.body.appendChild(fe)}u?(X.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Lw(){const s=Ih()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Uw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bw(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qw(){return!Lw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hw(){try{return typeof indexedDB=="object"}catch{return!1}}function Fw(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const Gw="FirebaseError";class ks extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Gw,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Qw(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ks(l,p,r)}}function Qw(s,e){return s.replace(Kw,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const Kw=/\{\$([^}]+)}/g;function Yw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ea(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(h_(u)&&h_(d)){if(!Ea(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function h_(s){return s!==null&&typeof s=="object"}function pu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ql(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function Xw(s,e){const i=new $w(s,e);return i.subscribe.bind(i)}class $w{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Jw(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jw(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wd(){}function mn(s){return s&&s._delegate?s._delegate:s}class ba{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ga="[DEFAULT]";class Ww{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Ow;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eS(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zw(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zw(s){return s===ga?void 0:s}function eS(s){return s.instantiationMode==="EAGER"}class tS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Ww(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const nS={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},iS=Fe.INFO,sS={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},rS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=sS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=iS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const aS=(s,e)=>e.some(i=>s instanceof i);let f_,d_;function oS(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,hm=new WeakMap,Wv=new WeakMap,Zd=new WeakMap,zm=new WeakMap;function uS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(wr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Jv.set(i,s)}).catch(()=>{}),zm.set(e,s),e}function cS(s){if(hm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});hm.set(s,e)}let fm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return hm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Wv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function hS(s){fm=s(fm)}function fS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(em(this),e,...i);return Wv.set(r,e.sort?e.sort():[e]),wr(r)}:lS().includes(s)?function(...e){return s.apply(em(this),e),wr(Jv.get(this))}:function(...e){return wr(s.apply(em(this),e))}}function dS(s){return typeof s=="function"?fS(s):(s instanceof IDBTransaction&&cS(s),aS(s,oS())?new Proxy(s,fm):s)}function wr(s){if(s instanceof IDBRequest)return uS(s);if(Zd.has(s))return Zd.get(s);const e=dS(s);return e!==s&&(Zd.set(s,e),zm.set(e,s)),e}const em=s=>zm.get(s);function mS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=wr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(wr(d.result),g.oldVersion,g.newVersion,wr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const pS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],tm=new Map;function m_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=gS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||pS.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return tm.set(e,u),u}hS(s=>({...s,get:(e,i,r)=>m_(e,i)||s.get(e,i,r),has:(e,i)=>!!m_(e,i)||s.has(e,i)}));class yS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_S(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _S(s){return s.getComponent()?.type==="VERSION"}const dm="@firebase/app",p_="0.14.6";const Ns=new Um("@firebase/app"),vS="@firebase/app-compat",ES="@firebase/analytics-compat",bS="@firebase/analytics",TS="@firebase/app-check-compat",wS="@firebase/app-check",SS="@firebase/auth",AS="@firebase/auth-compat",xS="@firebase/database",CS="@firebase/data-connect",RS="@firebase/database-compat",IS="@firebase/functions",NS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",kS="@firebase/messaging-compat",VS="@firebase/performance",PS="@firebase/performance-compat",LS="@firebase/remote-config",jS="@firebase/remote-config-compat",US="@firebase/storage",zS="@firebase/storage-compat",BS="@firebase/firestore",qS="@firebase/ai",HS="@firebase/firestore-compat",FS="firebase",GS="12.6.0";const mm="[DEFAULT]",QS={[dm]:"fire-core",[vS]:"fire-core-compat",[bS]:"fire-analytics",[ES]:"fire-analytics-compat",[wS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[AS]:"fire-auth-compat",[xS]:"fire-rtdb",[CS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[IS]:"fire-fn",[NS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[kS]:"fire-fcm-compat",[VS]:"fire-perf",[PS]:"fire-perf-compat",[LS]:"fire-rc",[jS]:"fire-rc-compat",[US]:"fire-gcs",[zS]:"fire-gcs-compat",[BS]:"fire-fst",[HS]:"fire-fst-compat",[qS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};const su=new Map,KS=new Map,pm=new Map;function g_(s,e){try{s.container.addComponent(e)}catch(i){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Do(s){const e=s.name;if(pm.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,s);for(const i of su.values())g_(i,s);for(const i of KS.values())g_(i,s);return!0}function Bm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function zn(s){return s==null?!1:s.settings!==void 0}const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new mu("app","Firebase",YS);class XS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const qo=GS;function Zv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:mm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Sr.create("bad-app-name",{appName:String(l)});if(i||(i=Kv()),!i)throw Sr.create("no-options");const u=su.get(l);if(u){if(Ea(i,u.options)&&Ea(r,u.config))return u;throw Sr.create("duplicate-app",{appName:l})}const d=new tS(l);for(const g of pm.values())d.addComponent(g);const p=new XS(i,r,d);return su.set(l,p),p}function qm(s=mm){const e=su.get(s);if(!e&&s===mm&&Kv())return Zv();if(!e)throw Sr.create("no-app",{appName:s});return e}function $S(){return Array.from(su.values())}function Ar(s,e,i){let r=QS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(d.join(" "));return}Do(new ba(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const JS="firebase-heartbeat-database",WS=1,ru="firebase-heartbeat-store";let nm=null;function e1(){return nm||(nm=mS(JS,WS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ru)}catch(i){console.warn(i)}}}}).catch(s=>{throw Sr.create("idb-open",{originalErrorMessage:s.message})})),nm}async function ZS(s){try{const i=(await e1()).transaction(ru),r=await i.objectStore(ru).get(t1(s));return await i.done,r}catch(e){if(e instanceof ks)Ns.warn(e.message);else{const i=Sr.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(i.message)}}}async function y_(s,e){try{const r=(await e1()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,t1(s)),await r.done}catch(i){if(i instanceof ks)Ns.warn(i.message);else{const r=Sr.create("idb-set",{originalErrorMessage:i?.message});Ns.warn(r.message)}}}function t1(s){return`${s.name}!${s.options.appId}`}const eA=1024,tA=30;class nA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=__();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tA){const l=rA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=__(),{heartbeatsToSend:i,unsentEntries:r}=iA(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ns.warn(e),""}}}function __(){return new Date().toISOString().substring(0,10)}function iA(s,e=eA){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),v_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),v_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class sA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hw()?Fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function v_(s){return lh(JSON.stringify({version:2,heartbeats:s})).length}function rA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function aA(s){Do(new ba("platform-logger",e=>new yS(e),"PRIVATE")),Do(new ba("heartbeat",e=>new nA(e),"PRIVATE")),Ar(dm,p_,s),Ar(dm,p_,"esm2020"),Ar("fire-js","")}aA("");var oA="firebase",lA="12.7.0";Ar(oA,lA,"app");function n1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i1=n1,s1=new mu("auth","Firebase",n1());const uh=new Um("@firebase/auth");function uA(s,...e){uh.logLevel<=Fe.WARN&&uh.warn(`Auth (${qo}): ${s}`,...e)}function Jc(s,...e){uh.logLevel<=Fe.ERROR&&uh.error(`Auth (${qo}): ${s}`,...e)}function li(s,...e){throw Fm(s,...e)}function wi(s,...e){return Fm(s,...e)}function Hm(s,e,i){const r={...i1(),[e]:i};return new mu("auth","Firebase",r).create(e,{appName:s.name})}function Cs(s){return Hm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cA(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&li(s,"argument-error"),Hm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return s1.create(s,...e)}function Ce(s,e,...i){if(!s)throw Fm(e,...i)}function Ss(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Jc(e),new Error(e)}function Ds(s,e){s||Ss(e)}function gm(){return typeof self<"u"&&self.location?.href||""}function hA(){return E_()==="http:"||E_()==="https:"}function E_(){return typeof self<"u"&&self.location?.protocol||null}function fA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hA()||Uw()||"connection"in navigator)?navigator.onLine:!0}function dA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class gu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ds(i>e,"Short delay should be less than long delay!"),this.isMobile=Pw()||zw()}get(){return fA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gm(s,e){Ds(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class r1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gA=new gu(3e4,6e4);function Vr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Vs(s,e,i,r,l={}){return a1(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=pu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return jw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Bo(s.emulatorConfig.host)&&(y.credentials="include"),r1.fetch()(await o1(s,s.config.apiHost,i,p),y)})}async function a1(s,e,i){s._canInitEmulator=!1;const r={...mA,...e};try{const l=new _A(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw qc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw qc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Hm(s,T,y);li(s,T)}}catch(l){if(l instanceof ks)throw l;li(s,"network-request-failed",{message:String(l)})}}async function yu(s,e,i,r,l={}){const u=await Vs(s,e,i,r,l);return"mfaPendingCredential"in u&&li(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function o1(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?Gm(s.config,l):`${s.config.apiScheme}://${l}`;return pA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function yA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _A{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),gA.get())})}}function qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=wi(s,e,r);return l.customData._tokenResponse=i,l}function b_(s){return s!==void 0&&s.enterprise!==void 0}class vA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return yA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EA(s,e){return Vs(s,"GET","/v2/recaptchaConfig",Vr(s,e))}async function bA(s,e){return Vs(s,"POST","/v1/accounts:delete",e)}async function ch(s,e){return Vs(s,"POST","/v1/accounts:lookup",e)}function Wl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l1(s,e=!1){const i=mn(s),r=await i.getIdToken(e),l=Qm(r);Ce(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Wl(im(l.auth_time)),issuedAtTime:Wl(im(l.iat)),expirationTime:Wl(im(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function im(s){return Number(s)*1e3}function Qm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Gv(i);return l?JSON.parse(l):(Jc("Failed to decode base64 JWT payload"),null)}catch(l){return Jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function T_(s){const e=Qm(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ks&&TA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function TA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class wA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(s){const e=s.auth,i=await s.getIdToken(),r=await Oo(s,ch(e,{idToken:i}));Ce(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?c1(l.providerUserInfo):[],d=SA(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function u1(s){const e=mn(s);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SA(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function c1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function AA(s,e){const i=await a1(s,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await o1(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Bo(s.emulatorConfig.host)&&(g.credentials="include"),r1.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function xA(s,e){return Vs(s,"POST","/v2/accounts:revokeToken",Vr(s,e))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const i=T_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await AA(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new Ao;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Ce(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Ce(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function vr(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new wA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return l1(this,e)}reload(){return u1(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Oo(this,bA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:w,emailVerified:I,isAnonymous:L,providerData:X,stsTokenManager:K}=i;Ce(w&&K,e,"internal-error");const Y=Ao.fromJSON(this.name,K);Ce(typeof w=="string",e,"internal-error"),vr(r,e.name),vr(l,e.name),Ce(typeof I=="boolean",e,"internal-error"),Ce(typeof L=="boolean",e,"internal-error"),vr(u,e.name),vr(d,e.name),vr(p,e.name),vr(g,e.name),vr(y,e.name),vr(T,e.name);const ne=new bi({uid:w,auth:e,email:l,emailVerified:I,displayName:r,isAnonymous:L,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:Y,createdAt:y,lastLoginAt:T});return X&&Array.isArray(X)&&(ne.providerData=X.map(me=>({...me}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,i,r=!1){const l=new Ao;l.updateFromServerResponse(i);const u=new bi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await hh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Ce(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?c1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new Ao;p.updateFromIdToken(r);const g=new bi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const w_=new Map;function As(s){Ds(s instanceof Function,"Expected a class definition");let e=w_.get(s);return e?(Ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,w_.set(s,e),e)}class h1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}h1.type="NONE";const _m=h1;function Wc(s,e,i){return`firebase:${s}:${e}:${i}`}class xo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Wc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ch(this.auth,{idToken:e}).catch(()=>{});return i?bi._fromGetAccountInfoResponse(this.auth,i,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new xo(As(_m),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||As(_m);const d=Wc(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let w;if(typeof T=="string"){const I=await ch(e,{idToken:T}).catch(()=>{});if(!I)break;w=await bi._fromGetAccountInfoResponse(e,I,T)}else w=bi._fromJSON(e,T);y!==u&&(p=w),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new xo(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new xo(u,e,r))}}function S_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(_1(e))return"Webos";if(d1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function f1(s=ln()){return/firefox\//i.test(s)}function d1(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(s=ln()){return/crios\//i.test(s)}function p1(s=ln()){return/iemobile/i.test(s)}function g1(s=ln()){return/android/i.test(s)}function y1(s=ln()){return/blackberry/i.test(s)}function _1(s=ln()){return/webos/i.test(s)}function Km(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function CA(s=ln()){return Km(s)&&!!window.navigator?.standalone}function RA(){return Bw()&&document.documentMode===10}function v1(s=ln()){return Km(s)||g1(s)||_1(s)||y1(s)||/windows phone/i.test(s)||p1(s)}function E1(s,e=[]){let i;switch(s){case"Browser":i=S_(ln());break;case"Worker":i=`${S_(ln())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${qo}/${r}`}class IA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function NA(s,e={}){return Vs(s,"GET","/v2/passwordPolicy",Vr(s,e))}const DA=6;class OA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??DA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class MA{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A_(this),this.idTokenSubscription=new A_(this),this.beforeStateQueue=new IA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=As(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ch(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Cs(this));const i=e?mn(e):null;return i&&Ce(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NA(this),i=new OA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await xA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&As(e)||this._popupRedirectResolver;Ce(i,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[As(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pr(s){return mn(s)}class A_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xw(i=>this.observer=i)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kA(s){Nh=s}function b1(s){return Nh.loadJS(s)}function VA(){return Nh.recaptchaEnterpriseScript}function PA(){return Nh.gapiScript}function LA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class jA{constructor(){this.enterprise=new UA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class UA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const zA="recaptcha-enterprise",T1="NO_RECAPTCHA";class BA{constructor(e){this.type=zA,this.auth=Pr(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{EA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new vA(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;b_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(T1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&b_(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=VA();g.length!==0&&(g+=p),b1(g).then(()=>{l(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function x_(s,e,i,r=!1,l=!1){const u=new BA(s);let d;if(l)d=T1;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function vm(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await x_(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await x_(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function w1(s,e){const i=Bm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Ea(u,e??{}))return l;li(l,"already-initialized")}return i.initialize({options:e})}function qA(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(As);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function S1(s,e,i){const r=Pr(s);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=A1(e),{host:d,port:p}=HA(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Ea(y,r.config.emulator)&&Ea(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Bo(d)?(Xv(`${u}//${d}${g}`),$v("Auth",!0)):FA()}function A1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function HA(s){const e=A1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:C_(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:C_(d)}}}function C_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function FA(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Dh{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,i){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function GA(s,e){return Vs(s,"POST","/v1/accounts:signUp",e)}async function QA(s,e){return yu(s,"POST","/v1/accounts:signInWithPassword",Vr(s,e))}async function KA(s,e){return yu(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}async function YA(s,e){return yu(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}class Mo extends Dh{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Mo(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Mo(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,i,"signInWithPassword",QA);case"emailLink":return KA(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(e,r,"signUpPassword",GA);case"emailLink":return YA(e,{idToken:i,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Co(s,e){return yu(s,"POST","/v1/accounts:signInWithIdp",Vr(s,e))}const XA="http://localhost";class Rr extends Dh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):li("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new Rr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Co(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Co(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Co(e,i)}buildRequest(){const e={requestUri:XA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=pu(i)}return e}}function $A(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JA(s){const e=Gl(Ql(s)).link,i=e?Gl(Ql(e)).deep_link_id:null,r=Gl(Ql(s)).deep_link_id;return(r?Gl(Ql(r)).link:null)||r||i||e||s}class Oh{constructor(e){const i=Gl(Ql(e)),r=i.apiKey??null,l=i.oobCode??null,u=$A(i.mode??null);Ce(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=JA(e);try{return new Oh(i)}catch{return null}}}class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,i){return Mo._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Oh.parseLink(i);return Ce(r,"argument-error"),Mo._fromEmailAndCode(e,r.code,r.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ym{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends Ym{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bs extends _u{constructor(){super("facebook.com")}static credential(e){return Rr._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";class zi extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Rr._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return zi.credential(i,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";class Ts extends _u{constructor(){super("github.com")}static credential(e){return Rr._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";class ws extends _u{constructor(){super("twitter.com")}static credential(e,i){return Rr._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ws.credential(i,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";async function WA(s,e){return yu(s,"POST","/v1/accounts:signUp",Vr(s,e))}class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await bi._fromIdTokenResponse(e,r,l),d=R_(r);return new Ta({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=R_(r);return new Ta({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function R_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class fh extends ks{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new fh(e,i,r,l)}}function x1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,u,e,r):u})}async function ZA(s,e,i=!1){const r=await Oo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ta._forOperation(s,"link",r)}async function e2(s,e,i=!1){const{auth:r}=s;if(zn(r.app))return Promise.reject(Cs(r));const l="reauthenticate";try{const u=await Oo(s,x1(r,l,e,s),i);Ce(u.idToken,r,"internal-error");const d=Qm(u.idToken);Ce(d,r,"internal-error");const{sub:p}=d;return Ce(s.uid===p,r,"user-mismatch"),Ta._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&li(r,"user-mismatch"),u}}async function C1(s,e,i=!1){if(zn(s.app))return Promise.reject(Cs(s));const r="signIn",l=await x1(s,r,e),u=await Ta._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function R1(s,e){return C1(Pr(s),e)}async function I1(s){const e=Pr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t2(s,e,i){if(zn(s.app))return Promise.reject(Cs(s));const r=Pr(s),d=await vm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&I1(s),g}),p=await Ta._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function n2(s,e,i){return zn(s.app)?Promise.reject(Cs(s)):R1(mn(s),xa.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&I1(s),r})}async function i2(s,e){return Vs(s,"POST","/v1/accounts:update",e)}async function s2(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=mn(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await Oo(r,i2(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function N1(s,e,i,r){return mn(s).onIdTokenChanged(e,i,r)}function D1(s,e,i){return mn(s).beforeAuthStateChanged(e,i)}function O1(s,e,i,r){return mn(s).onAuthStateChanged(e,i,r)}function M1(s){return mn(s).signOut()}const dh="__sak";class k1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const r2=1e3,a2=10;class V1 extends k1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);RA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,a2):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}V1.type="LOCAL";const P1=V1;class L1 extends k1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}L1.type="SESSION";const Xm=L1;function o2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,u)),g=await o2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function $m(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class l2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=$m("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function u2(s){Bi().location.href=s}function j1(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function c2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h2(){return navigator?.serviceWorker?.controller||null}function f2(){return j1()?self:null}const U1="firebaseLocalStorageDb",d2=1,mh="firebaseLocalStorage",z1="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(s,e){return s.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function m2(){const s=indexedDB.deleteDatabase(U1);return new vu(s).toPromise()}function Em(){const s=indexedDB.open(U1,d2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(mh,{keyPath:z1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await m2(),e(await Em()))})})}async function I_(s,e,i){const r=kh(s,!0).put({[z1]:e,value:i});return new vu(r).toPromise()}async function p2(s,e){const i=kh(s,!1).get(e),r=await new vu(i).toPromise();return r===void 0?null:r.value}function N_(s,e){const i=kh(s,!0).delete(e);return new vu(i).toPromise()}const g2=800,y2=3;class B1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>y2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(f2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await c2(),!this.activeServiceWorker)return;this.sender=new l2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await I_(e,dh,"1"),await N_(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>I_(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>p2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>N_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=kh(l,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B1.type="LOCAL";const q1=B1;new gu(3e4,6e4);function H1(s,e){return e?As(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Jm extends Dh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Co(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function _2(s){return C1(s.auth,new Jm(s),s.bypassAuthState)}function v2(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),e2(i,new Jm(s),s.bypassAuthState)}async function E2(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),ZA(i,new Jm(s),s.bypassAuthState)}class F1{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _2;case"linkViaPopup":case"linkViaRedirect":return E2;case"reauthViaPopup":case"reauthViaRedirect":return v2;default:li(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const b2=new gu(2e3,1e4);async function G1(s,e,i){if(zn(s.app))return Promise.reject(wi(s,"operation-not-supported-in-this-environment"));const r=Pr(s);cA(s,e,Ym);const l=H1(r,i);return new ya(r,"signInViaPopup",e,l).executeNotNull()}class ya extends F1{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b2.get())};e()}}ya.currentPopupAction=null;const T2="pendingRedirect",Zc=new Map;class w2 extends F1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await S2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S2(s,e){const i=C2(e),r=x2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function A2(s,e){Zc.set(s._key(),e)}function x2(s){return As(s._redirectPersistence)}function C2(s){return Wc(T2,s.config.apiKey,s.name)}async function R2(s,e,i=!1){if(zn(s.app))return Promise.reject(Cs(s));const r=Pr(s),l=H1(r,e),d=await new w2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const I2=600*1e3;class N2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Q1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I2&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Q1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function D2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q1(s);default:return!1}}async function O2(s,e={}){return Vs(s,"GET","/v1/projects",e)}const M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function V2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await O2(s);for(const i of e)try{if(P2(i))return}catch{}li(s,"unauthorized-domain")}function P2(s){const e=gm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!k2.test(i))return!1;if(M2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const L2=new gu(3e4,6e4);function O_(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function j2(s){return new Promise((e,i)=>{function r(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),i(wi(s,"network-request-failed"))},timeout:L2.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)r();else{const l=LA("iframefcb");return Bi()[l]=()=>{gapi.load?r():i(wi(s,"network-request-failed"))},b1(`${PA()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function U2(s){return eh=eh||j2(s),eh}const z2=new gu(5e3,15e3),B2="__/auth/iframe",q2="emulator/auth/iframe",H2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G2(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Gm(e,q2):`https://${s.config.authDomain}/${B2}`,r={apiKey:e.apiKey,appName:s.name,v:qo},l=F2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${pu(r).slice(1)}`}async function Q2(s){const e=await U2(s),i=Bi().gapi;return Ce(i,s,"internal-error"),e.open({where:document.body,url:G2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=wi(s,"network-request-failed"),p=Bi().setTimeout(()=>{u(d)},z2.get());function g(){Bi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const K2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y2=500,X2=600,$2="_blank",J2="http://localhost";class M_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W2(s,e,i,r=Y2,l=X2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...K2,width:r.toString(),height:l.toString(),top:u,left:d},y=ln().toLowerCase();i&&(p=m1(y)?$2:i),f1(y)&&(e=e||J2,g.scrollbars="yes");const T=Object.entries(g).reduce((I,[L,X])=>`${I}${L}=${X},`,"");if(CA(y)&&p!=="_self")return Z2(e||"",p),new M_(null);const w=window.open(e||"",p,T);Ce(w,s,"popup-blocked");try{w.focus()}catch{}return new M_(w)}function Z2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const ex="__/auth/handler",tx="emulator/auth/handler",nx=encodeURIComponent("fac");async function k_(s,e,i,r,l,u){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:qo,eventId:l};if(e instanceof Ym){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Yw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof _u){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${nx}=${encodeURIComponent(g)}`:"";return`${ix(s)}?${pu(p).slice(1)}${y}`}function ix({config:s}){return s.emulator?Gm(s,tx):`https://${s.authDomain}/${ex}`}const sm="webStorageSupport";class sx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xm,this._completeRedirectFn=R2,this._overrideRedirectResult=A2}async _openPopup(e,i,r,l){Ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await k_(e,i,r,gm(),l);return W2(e,u,$m())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await k_(e,i,r,gm(),l);return u2(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(Ds(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Q2(e),r=new N2(e);return i.register("authEvent",l=>(Ce(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(sm,{type:sm},l=>{const u=l?.[0]?.[sm];u!==void 0&&i(!!u),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=V2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return v1()||d1()||Km()}}const K1=sx;var V_="@firebase/auth",P_="1.12.0";class rx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ax(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ox(s){Do(new ba("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(s)},y=new MA(r,l,u,g);return qA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Do(new ba("auth-internal",e=>{const i=Pr(e.getProvider("auth").getImmediate());return(r=>new rx(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(V_,P_,ax(s)),Ar(V_,P_,"esm2020")}const lx=300,ux=Yv("authIdTokenMaxAge")||lx;let L_=null;const cx=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>ux)return;const l=i?.token;L_!==l&&(L_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Y1(s=qm()){const e=Bm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=w1(s,{popupRedirectResolver:K1,persistence:[q1,P1,Xm]}),r=Yv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=cx(u.toString());D1(i,d,()=>d(i.currentUser)),N1(i,p=>d(p))}}const l=Qv("auth");return l&&S1(i,`http://${l}`),i}function hx(){return document.getElementsByTagName("head")?.[0]??document}kA({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=wi("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",hx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ox("Browser");const j_=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Oh,AuthCredential:Dh,EmailAuthCredential:Mo,EmailAuthProvider:xa,FacebookAuthProvider:bs,GithubAuthProvider:Ts,GoogleAuthProvider:zi,OAuthCredential:Rr,TwitterAuthProvider:ws,beforeAuthStateChanged:D1,browserLocalPersistence:P1,browserPopupRedirectResolver:K1,browserSessionPersistence:Xm,connectAuthEmulator:S1,createUserWithEmailAndPassword:t2,getAuth:Y1,getIdTokenResult:l1,inMemoryPersistence:_m,indexedDBLocalPersistence:q1,initializeAuth:w1,onAuthStateChanged:O1,onIdTokenChanged:N1,prodErrorMap:i1,reload:u1,signInWithCredential:R1,signInWithEmailAndPassword:n2,signInWithPopup:G1,signOut:M1,updateProfile:s2},Symbol.toStringTag,{value:"Module"}));var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xr,X1;(function(){var s;function e(x,A){function C(){}C.prototype=A.prototype,x.F=A.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,O,V){for(var R=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)R[tt-2]=arguments[tt];return A.prototype[O].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)M[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=x.g[0],C=x.g[1],O=x.g[2];let V=x.g[3],R;R=A+(V^C&(O^V))+M[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=V+(O^A&(C^O))+M[1]+3905402710&4294967295,V=A+(R<<12&4294967295|R>>>20),R=O+(C^V&(A^C))+M[2]+606105819&4294967295,O=V+(R<<17&4294967295|R>>>15),R=C+(A^O&(V^A))+M[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(V^C&(O^V))+M[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=V+(O^A&(C^O))+M[5]+1200080426&4294967295,V=A+(R<<12&4294967295|R>>>20),R=O+(C^V&(A^C))+M[6]+2821735955&4294967295,O=V+(R<<17&4294967295|R>>>15),R=C+(A^O&(V^A))+M[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(V^C&(O^V))+M[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=V+(O^A&(C^O))+M[9]+2336552879&4294967295,V=A+(R<<12&4294967295|R>>>20),R=O+(C^V&(A^C))+M[10]+4294925233&4294967295,O=V+(R<<17&4294967295|R>>>15),R=C+(A^O&(V^A))+M[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(V^C&(O^V))+M[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=V+(O^A&(C^O))+M[13]+4254626195&4294967295,V=A+(R<<12&4294967295|R>>>20),R=O+(C^V&(A^C))+M[14]+2792965006&4294967295,O=V+(R<<17&4294967295|R>>>15),R=C+(A^O&(V^A))+M[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(O^V&(C^O))+M[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=V+(C^O&(A^C))+M[6]+3225465664&4294967295,V=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(V^A))+M[11]+643717713&4294967295,O=V+(R<<14&4294967295|R>>>18),R=C+(V^A&(O^V))+M[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^V&(C^O))+M[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=V+(C^O&(A^C))+M[10]+38016083&4294967295,V=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(V^A))+M[15]+3634488961&4294967295,O=V+(R<<14&4294967295|R>>>18),R=C+(V^A&(O^V))+M[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^V&(C^O))+M[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=V+(C^O&(A^C))+M[14]+3275163606&4294967295,V=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(V^A))+M[3]+4107603335&4294967295,O=V+(R<<14&4294967295|R>>>18),R=C+(V^A&(O^V))+M[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^V&(C^O))+M[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=V+(C^O&(A^C))+M[2]+4243563512&4294967295,V=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(V^A))+M[7]+1735328473&4294967295,O=V+(R<<14&4294967295|R>>>18),R=C+(V^A&(O^V))+M[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(C^O^V)+M[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=V+(A^C^O)+M[8]+2272392833&4294967295,V=A+(R<<11&4294967295|R>>>21),R=O+(V^A^C)+M[11]+1839030562&4294967295,O=V+(R<<16&4294967295|R>>>16),R=C+(O^V^A)+M[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^V)+M[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=V+(A^C^O)+M[4]+1272893353&4294967295,V=A+(R<<11&4294967295|R>>>21),R=O+(V^A^C)+M[7]+4139469664&4294967295,O=V+(R<<16&4294967295|R>>>16),R=C+(O^V^A)+M[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^V)+M[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=V+(A^C^O)+M[0]+3936430074&4294967295,V=A+(R<<11&4294967295|R>>>21),R=O+(V^A^C)+M[3]+3572445317&4294967295,O=V+(R<<16&4294967295|R>>>16),R=C+(O^V^A)+M[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^V)+M[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=V+(A^C^O)+M[12]+3873151461&4294967295,V=A+(R<<11&4294967295|R>>>21),R=O+(V^A^C)+M[15]+530742520&4294967295,O=V+(R<<16&4294967295|R>>>16),R=C+(O^V^A)+M[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(O^(C|~V))+M[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=V+(C^(A|~O))+M[7]+1126891415&4294967295,V=A+(R<<10&4294967295|R>>>22),R=O+(A^(V|~C))+M[14]+2878612391&4294967295,O=V+(R<<15&4294967295|R>>>17),R=C+(V^(O|~A))+M[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~V))+M[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=V+(C^(A|~O))+M[3]+2399980690&4294967295,V=A+(R<<10&4294967295|R>>>22),R=O+(A^(V|~C))+M[10]+4293915773&4294967295,O=V+(R<<15&4294967295|R>>>17),R=C+(V^(O|~A))+M[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~V))+M[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=V+(C^(A|~O))+M[15]+4264355552&4294967295,V=A+(R<<10&4294967295|R>>>22),R=O+(A^(V|~C))+M[6]+2734768916&4294967295,O=V+(R<<15&4294967295|R>>>17),R=C+(V^(O|~A))+M[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~V))+M[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=V+(C^(A|~O))+M[11]+3174756917&4294967295,V=A+(R<<10&4294967295|R>>>22),R=O+(A^(V|~C))+M[2]+718787259&4294967295,O=V+(R<<15&4294967295|R>>>17),R=C+(V^(O|~A))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+V&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const C=A-this.blockSize,M=this.C;let O=this.h,V=0;for(;V<A;){if(O==0)for(;V<=C;)l(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<A;)if(M[O++]=x.charCodeAt(V++),O==this.blockSize){l(this,M),O=0;break}}else for(;V<A;)if(M[O++]=x[V++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[A++]=this.g[C]>>>M&255;return x};function u(x,A){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=A(x)}function d(x,A){this.h=A;const C=[];let M=!0;for(let O=x.length-1;O>=0;O--){const V=x[O]|0;M&&V==A||(C[O]=V,M=!1)}this.g=C}var p={};function g(x){return-128<=x&&x<128?u(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return Y(y(-x));const A=[];let C=1;for(let M=0;x>=C;M++)A[M]=x/C|0,C*=4294967296;return new d(A,0)}function T(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Y(T(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let M=w;for(let V=0;V<x.length;V+=8){var O=Math.min(8,x.length-V);const R=parseInt(x.substring(V,V+O),A);O<8?(O=y(Math.pow(A,O)),M=M.j(O).add(y(R))):(M=M.j(C),M=M.add(y(R)))}return M}var w=g(0),I=g(1),L=g(16777216);s=d.prototype,s.m=function(){if(K(this))return-Y(this).m();let x=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*A,A*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(X(this))return"0";if(K(this))return"-"+Y(this).toString(x);const A=y(Math.pow(x,6));var C=this;let M="";for(;;){const O=De(C,A).g;C=ne(C,O.j(A));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=O,X(C))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function X(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function K(x){return x.h==-1}s.l=function(x){return x=ne(this,x),K(x)?-1:X(x)?0:1};function Y(x){const A=x.g.length,C=[];for(let M=0;M<A;M++)C[M]=~x.g[M];return new d(C,~x.h).add(I)}s.abs=function(){return K(this)?Y(this):this},s.add=function(x){const A=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let O=0;O<=A;O++){let V=M+(this.i(O)&65535)+(x.i(O)&65535),R=(V>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);M=R>>>16,V&=65535,R&=65535,C[O]=R<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ne(x,A){return x.add(Y(A))}s.j=function(x){if(X(this)||X(x))return w;if(K(this))return K(x)?Y(this).j(Y(x)):Y(Y(this).j(x));if(K(x))return Y(this.j(Y(x)));if(this.l(L)<0&&x.l(L)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<x.g.length;O++){const V=this.i(M)>>>16,R=this.i(M)&65535,tt=x.i(O)>>>16,je=x.i(O)&65535;C[2*M+2*O]+=R*je,me(C,2*M+2*O),C[2*M+2*O+1]+=V*je,me(C,2*M+2*O+1),C[2*M+2*O+1]+=R*tt,me(C,2*M+2*O+1),C[2*M+2*O+2]+=V*tt,me(C,2*M+2*O+2)}for(x=0;x<A;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=A;x<2*A;x++)C[x]=0;return new d(C,0)};function me(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function fe(x,A){this.g=x,this.h=A}function De(x,A){if(X(A))throw Error("division by zero");if(X(x))return new fe(w,w);if(K(x))return A=De(Y(x),A),new fe(Y(A.g),Y(A.h));if(K(A))return A=De(x,Y(A)),new fe(Y(A.g),A.h);if(x.g.length>30){if(K(x)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var C=I,M=A;M.l(x)<=0;)C=Ee(C),M=Ee(M);var O=ve(C,1),V=ve(M,1);for(M=ve(M,2),C=ve(C,2);!X(M);){var R=V.add(M);R.l(x)<=0&&(O=O.add(C),V=R),M=ve(M,1),C=ve(C,1)}return A=ne(x,O.j(A)),new fe(O,A)}for(O=w;x.l(A)>=0;){for(C=Math.max(1,Math.floor(x.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(C),R=V.j(A);K(R)||R.l(x)>0;)C-=M,V=y(C),R=V.j(A);X(V)&&(V=I),O=O.add(V),x=ne(x,R)}return new fe(O,x)}s.B=function(x){return De(this,x).h},s.and=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&x.i(M);return new d(C,this.h&x.h)},s.or=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|x.i(M);return new d(C,this.h|x.h)},s.xor=function(x){const A=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^x.i(M);return new d(C,this.h^x.h)};function Ee(x){const A=x.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(C,x.h)}function ve(x,A){const C=A>>5;A%=32;const M=x.g.length-C,O=[];for(let V=0;V<M;V++)O[V]=A>0?x.i(V+C)>>>A|x.i(V+C+1)<<32-A:x.i(V+C);return new d(O,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,X1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,xr=d}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $1,Kl,J1,th,bm,W1,Z1,eE;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,j,G){for(var le=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)le[Ve-2]=arguments[Ve];return m.prototype[j].apply(S,le)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function X(c,m){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let le=0;le<G;le++)c[v+le]=j[le]}else c.push(j)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(c){d.setTimeout(()=>{throw c},0)}function ne(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const S=fe.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var fe=new K(()=>new De,c=>c.reset());class De{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ve=!1,x=new me,A=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){Y(v)}var m=fe;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}ve=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function tt(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(tt,O),tt.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(c,m,v,S,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=j,this.key=++F,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function be(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function D(c){const m={};for(const v in c)m[v]=c[v];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,m){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let G=0;G<B.length;G++)v=B[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,m,v,S,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const le=ue(c,m,S,j);return le>-1?(m=c[le],v||(m.fa=!1)):(m=new ae(m,this.src,G,!!S,j),m.fa=v,c.push(m)),m};function we(c,m){const v=m.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,m,void 0),G;(G=j>=0)&&Array.prototype.splice.call(S,j,1),G&&(te(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ue(c,m,v,S){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==S)return j}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Se={};function Ie(c,m,v,S,j){if(Array.isArray(m)){for(let G=0;G<m.length;G++)Ie(c,m[G],v,S,j);return null}return v=ui(v),c&&c[je]?c.J(m,v,p(S)?!!S.capture:!1,j):Dt(c,m,v,!1,S,j)}function Dt(c,m,v,S,j,G){if(!m)throw Error("Invalid event type");const le=p(j)?!!j.capture:!!j;let Ve=Ji(c);if(Ve||(c[ge]=Ve=new oe(c)),v=Ve.add(m,v,S,le,G),v.proxy)return v;if(S=Yi(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)V||(j=le),j===void 0&&(j=!1),c.addEventListener(m.toString(),S,j);else if(c.attachEvent)c.attachEvent(Bn(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yi(){function c(v){return m.call(c.src,c.listener,v)}const m=$i;return c}function Xi(c,m,v,S,j){if(Array.isArray(m))for(var G=0;G<m.length;G++)Xi(c,m[G],v,S,j);else S=p(S)?!!S.capture:!!S,v=ui(v),c&&c[je]?(c=c.i,G=String(m).toString(),G in c.g&&(m=c.g[G],v=ue(m,v,S,j),v>-1&&(te(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[G],c.h--)))):c&&(c=Ji(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ue(m,v,S,j)),(v=c>-1?m[c]:null)&&Si(v))}function Si(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[je])we(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(Bn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Ji(m))?(we(v,c),v.h==0&&(v.src=null,m[ge]=null)):te(c)}}}function Bn(c){return c in Se?Se[c]:Se[c]="on"+c}function $i(c,m){if(c.da)c=!0;else{m=new tt(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&Si(c),c=v.call(S,m)}return c}function Ji(c){return c=c[ge],c instanceof oe?c:null}var Wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ui(c){return typeof c=="function"?c:(c[Wi]||(c[Wi]=function(m){return c.handleEvent(m)}),c[Wi])}function pt(){M.call(this),this.i=new oe(this),this.M=this,this.G=null}w(pt,M),pt.prototype[je]=!0,pt.prototype.removeEventListener=function(c,m,v,S){Xi(this,c,m,v,S)};function At(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var j=m;m=new O(S,c),se(m,j)}j=!0;let G,le;if(v)for(le=v.length-1;le>=0;le--)G=m.g=v[le],j=qn(G,S,!0,m)&&j;if(G=m.g=c,j=qn(G,S,!0,m)&&j,j=qn(G,S,!1,m)&&j,v)for(le=0;le<v.length;le++)G=m.g=v[le],j=qn(G,S,!1,m)&&j}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)te(v[S]);delete c.g[m],c.h--}}this.G=null},pt.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},pt.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function qn(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let G=0;G<m.length;++G){const le=m[G];if(le&&!le.da&&le.capture==v){const Ve=le.listener,Ct=le.ha||le.src;le.fa&&we(c.i,le),j=Ve.call(Ct,S)!==!1&&j}}return j&&!S.defaultPrevented}function Lr(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Zi(c){c.g=Lr(()=>{c.g=null,c.i&&(c.i=!1,Zi(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Ut extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(c){M.call(this),this.h=c,this.g={}}w(Ai,M);var Ft=[];function ci(c){ce(c.g,function(m,v){this.g.hasOwnProperty(v)&&Si(m)},c),c.g={}}Ai.prototype.N=function(){Ai.Z.N.call(this),ci(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=d.JSON.stringify,Ko=d.JSON.parse,Da=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function hi(){}function jr(){}var pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vt(){O.call(this,"d")}w(vt,O);function tn(){O.call(this,"c")}w(tn,O);var Xe={},Ur=null;function Ps(){return Ur=Ur||new pt}Xe.Ia="serverreachability";function Oa(c){O.call(this,Xe.Ia,c)}w(Oa,O);function nn(c){const m=Ps();At(m,new Oa(m))}Xe.STAT_EVENT="statevent";function Cn(c,m){O.call(this,Xe.STAT_EVENT,c),this.stat=m}w(Cn,O);function ct(c){const m=Ps();At(m,new Cn(m,c))}Xe.Ja="timingevent";function gn(c,m){O.call(this,Xe.Ja,c),this.size=m}w(gn,O);function Hn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function yn(){this.g=!0}yn.prototype.ua=function(){this.g=!1};function zr(c,m,v,S,j,G){c.info(function(){if(c.g)if(G){var le="",Ve=G.split("&");for(let Ze=0;Ze<Ve.length;Ze++){var Ct=Ve[Ze].split("=");if(Ct.length>1){const gt=Ct[0];Ct=Ct[1];const Jn=gt.split("_");le=Jn.length>=2&&Jn[1]=="type"?le+(gt+"="+Ct+"&"):le+(gt+"=redacted&")}}}else le=null;else le=G;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+v+`
`+le})}function Br(c,m,v,S,j,G,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+v+`
`+G+" "+le})}function Rn(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yo(c,v)+(S?" "+S:"")})}function es(c,m){c.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Yo(c,m){if(!c.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return xi(G)}catch{return m}}var ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hr;function un(){}w(un,hi),un.prototype.g=function(){return new XMLHttpRequest},Hr=new un;function In(c){return encodeURIComponent(String(c))}function Ma(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Nn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new Ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dn}function Dn(){this.i=null,this.g="",this.h=!1}var Et={},Ot={};function Fn(c,m,v){c.M=1,c.A=re(Tt(m)),c.u=v,c.R=!0,Ls(c,null)}function Ls(c,m){c.F=Date.now(),Gn(c),c.B=Tt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),La(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Dn,c.g=Vu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new Ut(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ft[0]=j.toString()),j=Ft);for(let G=0;G<j.length;G++){const le=Ie(v,j[G],S||m.handleEvent,!1,m.h||m);if(!le)break;m.g[le.key]=le}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),nn(),zr(c.i,c.v,c.B,c.l,c.S,c.u)}Nn.prototype.ba=function(c){c=c.target;const m=this.O;m&&pi(c)==3?m.j():this.Y(c)},Nn.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=pi(this.g),Ct=this.g.ya(),Ze=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ve!=4||Ct==7||(Ct==8||Ze<=0?nn(3):nn(2)),Qn(this);var m=this.g.ca();this.X=m;var v=Xo(this);if(this.o=m==200,Br(this.i,this.v,this.B,this.l,this.S,Ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var G=S;break t}}G=null}if(c=G)Rn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kn(this,c);else{this.o=!1,this.m=3,ct(12),cn(this),_n(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<v.length;)if(gt=Fr(this,v),gt==Ot){Ve==4&&(this.m=4,ct(14),c=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Et){this.m=4,ct(15),Rn(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Rn(this.i,this.l,gt,null),Kn(this,gt);if(ka(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||v.length!=0||this.h.h||(this.m=1,ct(16),c=!1),this.o=this.o&&c,!c)Rn(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),_n(this);else if(v.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),sl(le),le.P=!0,ct(11))}}else Rn(this.i,this.l,v,null),Kn(this,v);Ve==4&&cn(this),this.o&&!this.K&&(Ve==4?Du(this.j,this):(this.o=!1,Gn(this)))}else is(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),cn(this),_n(this)}}}catch{}finally{}};function Xo(c){if(!ka(c))return c.g.la();const m=Kt(c.g);if(m==="")return"";let v="";const S=m.length,j=pi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return cn(c),_n(c),"";c.h.i=new d.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(m[G],{stream:!(j&&G==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function ka(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Fr(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Ot:(v=Number(m.substring(v,S)),isNaN(v)?Et:(S+=1,S+v>m.length?Ot:(m=m.slice(S,S+v),c.C=S+v,m)))}Nn.prototype.cancel=function(){this.K=!0,cn(this)};function Gn(c){c.T=Date.now()+c.H,js(c,c.H)}function js(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Hn(y(c.aa,c),m)}function Qn(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Nn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(es(this.i,this.B),this.M!=2&&(nn(),ct(17)),cn(this),this.m=2,_n(this)):js(this,this.T-c)};function _n(c){c.j.I==0||c.K||Du(c.j,c)}function cn(c){Qn(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,ci(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Kn(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Yn(v.h,c))){if(!c.L&&Yn(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)qa(v),Xs(v);else break e;Zr(v),ct(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Hn(y(v.Va,v),6e3));On(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((c.L||v.g==c)&&qa(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Ze=j[m];const gt=Ze[0];if(!(gt<=v.K))if(v.K=gt,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const Jn=Ze[3];Jn!=null&&(v.ka=Jn,v.j.info("VER="+v.ka));const Oi=Ze[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const gi=Ze[5];gi!=null&&typeof gi=="number"&&gi>0&&(S=1.5*gi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const yi=c.g;if(yi){const ea=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var G=S.h;G.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Gr(G,G.h),G.h=null))}if(S.G){const Ha=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(S.wa=Ha,H(S.J,S.G,Ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var le=c;if(S.na=ku(S,S.L?S.ba:null,S.W),le.L){Qr(S.h,le);var Ve=le,Ct=S.O;Ct&&(Ve.H=Ct),Ve.D&&(Qn(Ve),Gn(Ve)),S.g=le}else Iu(S);v.i.length>0&&Ni(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Di(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Di(v,7):nl(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}nn(4)}catch{}}var bt=class{constructor(c,m){this.g=c,this.map=m}};function Us(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function On(c){return c.h?1:c.g?c.g.size:0}function Yn(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Gr(c,m){c.g?c.g.add(m):c.h=m}function Qr(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Us.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bs(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return L(c.i)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let j,G=null;S>=0?(j=c[v].substring(0,S),G=c[v].substring(S+1)):j=c[v],m(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function hn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof hn?(this.l=c.l,xt(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.u),this.h=c.h,Kr(this,Cu(c.i)),this.m=c.m):c&&(m=String(c).match(Va))?(this.l=!1,xt(this,m[1]||"",!0),this.o=he(m[2]||""),this.g=he(m[3]||"",!0),fi(this,m[4]),this.h=he(m[5]||"",!0),Kr(this,m[6]||"",!0),this.m=he(m[7]||"")):(this.l=!1,this.i=new Fs(null,this.l))}hn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ne(m,vn,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ne(m,vn,!0),"@"),c.push(In(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ne(v,v.charAt(0)=="/"?$o:Pa,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ne(v,Au)),c.join("")},hn.prototype.resolve=function(c){const m=Tt(this);let v=!!c.j;v?xt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)fi(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=m.h.lastIndexOf("/");j!=-1&&(S=m.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let le=0;le<j.length;){const Ve=j[le++];Ve=="."?S&&le==j.length&&G.push(""):Ve==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&le==j.length&&G.push("")):(G.push(Ve),S=!0)}S=G.join("/")}else S=j}return v?m.h=S:v=c.i.toString()!=="",v?Kr(m,Cu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Tt(c){return new hn(c)}function xt(c,m,v){c.j=v?he(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Kr(c,m,v){m instanceof Fs?(c.i=m,ja(c.i,c.l)):(v||(m=Ne(m,Hs)),c.i=new Fs(m,c.l))}function H(c,m,v){c.i.set(m,v)}function re(c){return H(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function he(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ne(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Ue),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ue(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vn=/[#\/\?@]/g,Pa=/[#\?:]/g,$o=/[#\?]/g,Hs=/[#\?@]/g,Au=/#/g;function Fs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&qs(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Fs.prototype,s.add=function(c,m){En(this),this.i=null,c=Gs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function xu(c,m){En(c),m=Gs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Jo(c,m){return En(c),m=Gs(c,m),c.g.has(m)}s.forEach=function(c,m){En(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(m,j,S,this)},this)},this)};function Wo(c,m){En(c);let v=[];if(typeof m=="string")Jo(c,m)&&(v=v.concat(c.g.get(Gs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return En(this),this.i=null,c=Gs(this,c),Jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Wo(this,c),c.length>0?String(c[0]):m):m};function La(c,m,v){xu(c,m),v.length>0&&(c.i=null,c.g.set(Gs(c,m),L(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const j=In(v);v=Wo(this,v);for(let G=0;G<v.length;G++){let le=j;v[G]!==""&&(le+="="+In(v[G])),c.push(le)}}return this.i=c.join("&")};function Cu(c){const m=new Fs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Gs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ja(c,m){m&&!c.j&&(En(c),c.i=null,c.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(xu(this,S),La(this,j,v))},c)),c.j=m}function di(c,m){const v=new yn;if(d.Image){const S=new Image;S.onload=T(Xn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Xn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Xn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Xn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Zo(c,m){const v=new yn,S=new AbortController,j=setTimeout(()=>{S.abort(),Xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(j),G.ok?Xn(v,"TestPingServer: ok",!0,m):Xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Xn(v,"TestPingServer: error",!1,m)})}function Xn(c,m,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Qs(){this.g=new Da}function Ci(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Ci,hi),Ci.prototype.g=function(){return new Yr(this.i,this.h)};function Yr(c,m){pt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Yr,pt),s=Yr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,mi(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ks(this):mi(this),this.readyState==3&&Ua(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ks(this))},s.Na=function(c){this.g&&(this.response=c,Ks(this))},s.ga=function(){this.g&&Ks(this)};function Ks(c){c.readyState=4,c.l=null,c.j=null,c.B=null,mi(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $n(c){let m="";return ce(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Xr(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=$n(v),typeof c=="string"?v!=null&&In(v):H(c,m,v))}function rt(c){pt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(rt,pt);var Ri=/^https?$/i,el=["POST","PUT"];s=rt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hr.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(G){$r(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of v)this.g.setRequestHeader(G,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){$r(this,G)}};function $r(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,tl(c),ns(c)}function tl(c){c.A||(c.A=!0,At(c,"complete"),At(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,At(this,"complete"),At(this,"abort"),ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Jr(this):this.Xa())},s.Xa=function(){Jr(this)};function Jr(c){if(c.h&&typeof u<"u"){if(c.v&&pi(c)==4)setTimeout(c.Ca.bind(c),0);else if(At(c,"readystatechange"),pi(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=G===0){let le=String(c.D).match(Va)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),S=!Ri.test(le?le.toLowerCase():"")}v=S}if(v)At(c,"complete"),At(c,"success");else{c.o=6;try{var j=pi(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",tl(c)}}finally{ns(c)}}}}function ns(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||At(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function pi(c){return c.g?c.g.readyState:0}s.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Ko(m)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function is(c){const m={};c=(c.g&&pi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(R(c[S]))continue;var v=Ma(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[j]||[];m[j]=G,G.push(v)}be(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ys(c){this.za=0,this.i=[],this.j=new yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Us(c&&c.concurrentRequestLimit),this.Ba=new Qs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ys.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){ct(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=ku(this,null,this.W),Ni(this)};function nl(c){if(za(c),c.I==3){var m=c.V++,v=Tt(c.J);if(H(v,"SID",c.M),H(v,"RID",m),H(v,"TYPE","terminate"),Wr(c,v),m=new Nn(c,c.j,m),m.M=2,m.A=re(Tt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Gn(m)}Mu(c)}function Xs(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function za(c){Xs(c),c.v&&(d.clearTimeout(c.v),c.v=null),qa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ni(c){if(!zs(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ee||A(),ve||(Ee(),ve=!0),x.add(m,c),c.D=0}}function Ba(c,m){return On(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Hn(y(c.Ea,c,m),Ou(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Nn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=D(G),se(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ru(this,j,m),v=Tt(this.J),H(v,"RID",c),H(v,"CVER",22),this.G&&H(v,"X-HTTP-Session-Id",this.G),Wr(this,v),G&&(this.R?m="headers="+In($n(G))+"&"+m:this.u&&Xr(v,this.u,G)),Gr(this.h,j),this.Ra&&H(v,"TYPE","init"),this.S?(H(v,"$req",m),H(v,"SID","null"),j.U=!0,Fn(j,v,null)):Fn(j,v,m),this.I=2}}else this.I==3&&(c?il(this,c):this.i.length==0||zs(this.h)||il(this))};function il(c,m){var v;m?v=m.l:v=c.V++;const S=Tt(c.J);H(S,"SID",c.M),H(S,"RID",v),H(S,"AID",c.K),Wr(c,S),c.u&&c.o&&Xr(S,c.u,c.o),v=new Nn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ru(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Gr(c.h,v),Fn(v,S,m)}function Wr(c,m){c.H&&ce(c.H,function(v,S){H(m,S,v)}),c.l&&ce({},function(v,S){H(m,S,v)})}function Ru(c,m,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ve=-1;for(;;){const Ct=["count="+v];Ve==-1?v>0?(Ve=j[0].g,Ct.push("ofs="+Ve)):Ve=0:Ct.push("ofs="+Ve);let Ze=!0;for(let gt=0;gt<v;gt++){var G=j[gt].g;const Jn=j[gt].map;if(G-=Ve,G<0)Ve=Math.max(0,j[gt].g-100),Ze=!1;else try{G="req"+G+"_"||"";try{var le=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Oi,gi]of le){let yi=gi;p(gi)&&(yi=xi(gi)),Ct.push(G+Oi+"="+encodeURIComponent(yi))}}catch(Oi){throw Ct.push(G+"type="+encodeURIComponent("_badmap")),Oi}}catch{S&&S(Jn)}}if(Ze){le=Ct.join("&");break e}}le=void 0}return c=c.i.splice(0,v),m.G=c,le}function Iu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ee||A(),ve||(Ee(),ve=!0),x.add(m,c),c.A=0}}function Zr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Hn(y(c.Da,c),Ou(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Hn(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),Xs(this),Nu(this))};function sl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Nn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Tt(c.na);H(m,"RID","rpc"),H(m,"SID",c.M),H(m,"AID",c.K),H(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&H(m,"TO",c.ia),H(m,"TYPE","xmlhttp"),Wr(c,m),c.u&&c.o&&Xr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=re(Tt(m)),v.u=null,v.R=!0,Ls(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Xs(this),Zr(this),ct(19))};function qa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Du(c,m){var v=null;if(c.g==m){qa(c),sl(c),c.g=null;var S=2}else if(Yn(c.h,m))v=m.G,Qr(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;S=Ps(),At(S,new gn(S,v)),Ni(c)}else Iu(c);else if(j=m.m,j==3||j==0&&m.X>0||!(S==1&&Ba(c,m)||S==2&&Zr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),j){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function Ou(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Di(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),S=c.Ua;const j=!S;S=new hn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xt(S,"https"),re(S),j?di(S.toString(),v):Zo(S.toString(),v)}else ct(2);c.I=0,c.l&&c.l.pa(m),Mu(c),za(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Mu(c){if(c.I=0,c.ja=[],c.l){const m=Bs(c.h);(m.length!=0||c.i.length!=0)&&(X(c.ja,m),X(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function ku(c,m,v){var S=v instanceof hn?Tt(v):new hn(v);if(S.g!="")m&&(S.g=m+"."+S.g),fi(S,S.u);else{var j=d.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const G=new hn(null);S&&xt(G,S),m&&(G.g=m),j&&fi(G,j),v&&(G.h=v),S=G}return v=c.G,m=c.wa,v&&m&&H(S,v,m),H(S,"VER",c.ka),Wr(c,S),S}function Vu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new rt(new Ci({ab:v})):new rt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}s=Pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function $s(){}$s.prototype.g=function(c,m){return new fn(c,m)};function fn(c,m){pt.call(this),this.g=new Ys(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ss(this)}w(fn,pt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){nl(this.g)},fn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=xi(c),c=v);m.i.push(new bt(m.Ya++,c)),m.I==3&&Ni(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,fn.Z.N.call(this)};function Lu(c){vt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Lu,vt);function ju(){tn.call(this),this.status=1}w(ju,tn);function ss(c){this.g=c}w(ss,Pu),ss.prototype.ra=function(){At(this.g,"a")},ss.prototype.qa=function(c){At(this.g,new Lu(c))},ss.prototype.pa=function(c){At(this.g,new ju)},ss.prototype.oa=function(){At(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,eE=function(){return new $s},Z1=function(){return Ps()},W1=Xe,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,th=ts,qr.COMPLETE="complete",J1=qr,jr.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Kl=jr,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,$1=rt}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",B_="4.9.3";class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Ho="12.7.0";const wa=new Um("@firebase/firestore");function bo(){return wa.logLevel}function de(s,...e){if(wa.logLevel<=Fe.DEBUG){const i=e.map(Wm);wa.debug(`Firestore (${Ho}): ${s}`,...i)}}function Os(s,...e){if(wa.logLevel<=Fe.ERROR){const i=e.map(Wm);wa.error(`Firestore (${Ho}): ${s}`,...i)}}function ko(s,...e){if(wa.logLevel<=Fe.WARN){const i=e.map(Wm);wa.warn(`Firestore (${Ho}): ${s}`,...i)}}function Wm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Re(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,tE(s,r,i)}function tE(s,e,i){let r=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Os(r),new Error(r)}function nt(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||tE(e,l,r)}function ke(s,e){return s}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class nE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class dx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class mx{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Rs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Rs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new nE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class px{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gx{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new px(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const r=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new q_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _x(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=_x(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function Tm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return rm(l)===rm(u)?Ge(l,u):rm(l)?1:-1}return Ge(s.length,e.length)}const vx=55296,Ex=57343;function rm(s){const e=s.charCodeAt(0);return e>=vx&&e<=Ex}function Vo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const H_="__name__";class Ui{constructor(e,i,r){i===void 0?i=0:i>e.length&&Re(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Re(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Ui.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Ge(e.length,i.length)}static compareSegments(e,i){const r=Ui.isNumericId(e),l=Ui.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):Tm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class dt extends Ui{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ui{construct(e,i,r){return new Zt(e,i,r)}static isValidIdentifier(e){return bx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new Zt([H_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(i)}static emptyPath(){return new Zt([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(dt.fromString(e))}static fromName(e){return new Ae(dt.fromString(e).popFirst(5))}static empty(){return new Ae(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new dt(e.slice()))}}function iE(s,e,i){if(!i)throw new _e(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Tx(s,e,i,r){if(e===!0&&r===!0)throw new _e(ie.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function F_(s){if(!Ae.isDocumentKey(s))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function G_(s){if(Ae.isDocumentKey(s))throw new _e(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function sE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ep(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function Sa(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ep(s);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Eu(s,e){if(!sE(s))throw new _e(ie.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new _e(ie.INVALID_ARGUMENT,i);return!0}const Q_=-62135596800,K_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*K_);return new mt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Q_)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new mt(0,0))}static max(){return new Oe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function wx(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Oe.fromTimestamp(r===1e9?new mt(i+1,0):new mt(i,r));return new Ir(l,Ae.empty(),e)}function Sx(s){return new Ir(s.readTime,s.key,au)}class Ir{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ir(Oe.min(),Ae.empty(),au)}static max(){return new Ir(Oe.max(),Ae.empty(),au)}}function Ax(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Ae.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const xx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fo(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==xx)throw s;de("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ee(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ee?i:ee.resolve(i)}catch(i){return ee.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ee.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ee.reject(i)}static resolve(e){return new ee(((i,r)=>{i(e)}))}static reject(e){return new ee(((i,r)=>{r(e)}))}static waitFor(e){return new ee(((i,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(g=>r(g)))})),d=!0,u===l&&i()}))}static or(e){let i=ee.resolve(!1);for(const r of e)i=i.next((l=>l?ee.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new ee(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;i(e[y]).next((T=>{d[y]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new ee(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function Rx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Go(s){return s.name==="IndexedDbTransactionError"}class Vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;const tp=-1;function Ph(s){return s==null}function ph(s){return s===0&&1/s==-1/0}function Ix(s){return typeof s=="number"&&Number.isInteger(s)&&!ph(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const rE="";function Nx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Y_(e)),e=Dx(s.get(i),e);return Y_(e)}function Dx(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case rE:i+="";break;default:i+=u}}return i}function Y_(s){return s+rE+""}function X_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ca(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function aE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??Wt.RED,this.left=l??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new Wt(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ht(this.comparator);return i.data=e,i}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ti{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Ti([])}unionWith(e){let i=new Ht(Zt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Ti(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new oE("Invalid base64 string: "+u):u}})(e);return new en(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const Ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const i=Ox.exec(s);if(nt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(s.seconds),nanos:Nt(s.nanos)}}function Nt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const lE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function np(s){return(s?.mapValue?.fields||{})[uE]?.stringValue===lE}function Lh(s){const e=s.mapValue.fields[cE];return np(e)?Lh(e):e}function ou(s){const e=Nr(s.mapValue.fields[hE].timestampValue);return new mt(e.seconds,e.nanos)}class Mx{constructor(e,i,r,l,u,d,p,g,y,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const gh="(default)";class lu{constructor(e,i){this.projectId=e,this.database=i||gh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}const fE="__type__",kx="__max__",Gc={mapValue:{}},dE="__vector__",yh="value";function Or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?np(s)?4:Px(s)?9007199254740991:Vx(s)?10:11:Re(28295,{value:s})}function Qi(s,e){if(s===e)return!0;const i=Or(s);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ou(s).isEqual(ou(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Nr(l.timestampValue),p=Nr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return Dr(l.bytesValue).isEqual(Dr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Nt(l.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(l.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Nt(l.integerValue)===Nt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Nt(l.doubleValue),p=Nt(u.doubleValue);return d===p?ph(d)===ph(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Vo(s.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(X_(d)!==X_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Qi(d[g],p[g])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function uu(s,e){return(s.values||[]).find((i=>Qi(i,e)))!==void 0}function Po(s,e){if(s===e)return 0;const i=Or(s),r=Or(e);if(i!==r)return Ge(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Nt(u.integerValue||u.doubleValue),g=Nt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return J_(s.timestampValue,e.timestampValue);case 4:return J_(ou(s),ou(e));case 5:return Tm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=Dr(u),g=Dr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Ge(p[y],g[y]);if(T!==0)return T}return Ge(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ge(Nt(u.latitude),Nt(d.latitude));return p!==0?p:Ge(Nt(u.longitude),Nt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return W_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[yh]?.arrayValue,T=g[yh]?.arrayValue,w=Ge(y?.values?.length||0,T?.values?.length||0);return w!==0?w:W_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Gc.mapValue&&d===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(d===Gc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let w=0;w<g.length&&w<T.length;++w){const I=Tm(g[w],T[w]);if(I!==0)return I;const L=Po(p[g[w]],y[T[w]]);if(L!==0)return L}return Ge(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:i})}}function J_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=Nr(s),r=Nr(e),l=Ge(i.seconds,r.seconds);return l!==0?l:Ge(i.nanos,r.nanos)}function W_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=Po(i[l],r[l]);if(u)return u}return Ge(i.length,r.length)}function Lo(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Nr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ae.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=wm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${wm(i.fields[d])}`;return l+"}"})(s.mapValue):Re(61005,{value:s})}function nh(s){switch(Or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(s);return e?16+nh(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+nh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Ca(r.fields,((u,d)=>{l+=u.length+nh(d)})),l})(s.mapValue);default:throw Re(13486,{value:s})}}function Sm(s){return!!s&&"integerValue"in s}function ip(s){return!!s&&"arrayValue"in s}function Z_(s){return!!s&&"nullValue"in s}function ev(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ih(s){return!!s&&"mapValue"in s}function Vx(s){return(s?.mapValue?.fields||{})[fE]?.stringValue===dE}function Zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ca(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Zl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(s.arrayValue.values[i]);return e}return{...s}}function Px(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===kx}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ih(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=Zt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Zl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());ih(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];ih(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Ca(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new ai(Zl(this.value))}}function mE(s){const e=[];return Ca(s.fields,((i,r)=>{const l=new Zt([i]);if(ih(r)){const u=mE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Ti(e)}class on{constructor(e,i,r,l,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new on(e,0,Oe.min(),Oe.min(),Oe.min(),ai.empty(),0)}static newFoundDocument(e,i,r,l){return new on(e,1,i,Oe.min(),r,l,0)}static newNoDocument(e,i){return new on(e,2,i,Oe.min(),Oe.min(),ai.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,Oe.min(),Oe.min(),ai.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(e,i){this.position=e,this.inclusive=i}}function tv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=Ae.comparator(Ae.fromName(d.referenceValue),i.key):r=Po(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function nv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Qi(s.position[i],e.position[i]))return!1;return!0}class vh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Lx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class pE{}class Bt extends pE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Ux(e,i,r):i==="array-contains"?new qx(e,r):i==="in"?new Hx(e,r):i==="not-in"?new Fx(e,r):i==="array-contains-any"?new Gx(e,r):new Bt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new zx(e,r):new Bx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Po(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(Po(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends pE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return gE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(s){return s.op==="and"}function yE(s){return jx(s)&&gE(s)}function jx(s){for(const e of s.filters)if(e instanceof Ki)return!1;return!0}function Am(s){if(s instanceof Bt)return s.field.canonicalString()+s.op.toString()+Lo(s.value);if(yE(s))return s.filters.map((e=>Am(e))).join(",");{const e=s.filters.map((i=>Am(i))).join(",");return`${s.op}(${e})`}}function _E(s,e){return s instanceof Bt?(function(r,l){return l instanceof Bt&&r.op===l.op&&r.field.isEqual(l.field)&&Qi(r.value,l.value)})(s,e):s instanceof Ki?(function(r,l){return l instanceof Ki&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&_E(d,l.filters[p])),!0):!1})(s,e):void Re(19439)}function vE(s){return s instanceof Bt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Lo(i.value)}`})(s):s instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(vE).join(" ,")+"}"})(s):"Filter"}class Ux extends Bt{constructor(e,i,r){super(e,i,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const i=Ae.comparator(e.key,this.key);return this.matchesComparison(i)}}class zx extends Bt{constructor(e,i){super(e,"in",i),this.keys=EE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Bx extends Bt{constructor(e,i){super(e,"not-in",i),this.keys=EE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function EE(s,e){return(e.arrayValue?.values||[]).map((i=>Ae.fromName(i.referenceValue)))}class qx extends Bt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ip(i)&&uu(i.arrayValue,this.value)}}class Hx extends Bt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&uu(this.value.arrayValue,i)}}class Fx extends Bt{constructor(e,i){super(e,"not-in",i)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!uu(this.value.arrayValue,i)}}class Gx extends Bt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ip(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>uu(this.value.arrayValue,r)))}}class Qx{constructor(e,i=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function iv(s,e=null,i=[],r=[],l=null,u=null,d=null){return new Qx(s,e,i,r,l,u,d)}function sp(s){const e=ke(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Am(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Lo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Lo(r))).join(",")),e.Te=i}return e.Te}function rp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Lx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!_E(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!nv(s.startAt,e.startAt)&&nv(s.endAt,e.endAt)}function xm(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class jh{constructor(e,i=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Kx(s,e,i,r,l,u,d,p){return new jh(s,e,i,r,l,u,d,p)}function ap(s){return new jh(s)}function sv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Yx(s){return s.collectionGroup!==null}function eu(s){const e=ke(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ht(Zt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new vh(u,r))})),i.has(Zt.keyField().canonicalString())||e.Ie.push(new vh(Zt.keyField(),r))}return e.Ie}function qi(s){const e=ke(s);return e.Ee||(e.Ee=Xx(e,eu(s))),e.Ee}function Xx(s,e){if(s.limitType==="F")return iv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new vh(l.field,u)}));const i=s.endAt?new _h(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new _h(s.startAt.position,s.startAt.inclusive):null;return iv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Cm(s,e,i){return new jh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Uh(s,e){return rp(qi(s),qi(e))&&s.limitType===e.limitType}function bE(s){return`${sp(qi(s))}|lt:${s.limitType}`}function To(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>vE(l))).join(", ")}]`),Ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Lo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Lo(l))).join(",")),`Target(${r})`})(qi(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ae.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of eu(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=tv(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,eu(r),l)||r.endAt&&!(function(d,p,g){const y=tv(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,eu(r),l))})(s,e)}function $x(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function TE(s){return(e,i)=>{let r=!1;for(const l of eu(s)){const u=Jx(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function Jx(s,e,i){const r=s.field.isKeyField()?Ae.comparator(e.key,i.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Po(g,y):Re(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:s.dir})}}class Ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}const Wx=new _t(Ae.comparator);function Ms(){return Wx}const wE=new _t(Ae.comparator);function Yl(...s){let e=wE;for(const i of s)e=e.insert(i.key,i);return e}function SE(s){let e=wE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function _a(){return tu()}function AE(){return tu()}function tu(){return new Ra((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Zx=new _t(Ae.comparator),eC=new Ht(Ae.comparator);function Qe(...s){let e=eC;for(const i of s)e=e.add(i);return e}const tC=new Ht(Ge);function nC(){return tC}function op(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function xE(s){return{integerValue:""+s}}function iC(s,e){return Ix(e)?xE(e):op(s,e)}class Bh{constructor(){this._=void 0}}function sC(s,e,i){return s instanceof cu?(function(l,u){const d={fields:{[uE]:{stringValue:lE},[hE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&np(u)&&(u=Lh(u)),u&&(d.fields[cE]=u),{mapValue:d}})(i,e):s instanceof hu?RE(s,e):s instanceof fu?IE(s,e):(function(l,u){const d=CE(l,u),p=rv(d)+rv(l.Ae);return Sm(d)&&Sm(l.Ae)?xE(p):op(l.serializer,p)})(s,e)}function rC(s,e,i){return s instanceof hu?RE(s,e):s instanceof fu?IE(s,e):i}function CE(s,e){return s instanceof Eh?(function(r){return Sm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class cu extends Bh{}class hu extends Bh{constructor(e){super(),this.elements=e}}function RE(s,e){const i=NE(e);for(const r of s.elements)i.some((l=>Qi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class fu extends Bh{constructor(e){super(),this.elements=e}}function IE(s,e){let i=NE(e);for(const r of s.elements)i=i.filter((l=>!Qi(l,r)));return{arrayValue:{values:i}}}class Eh extends Bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function rv(s){return Nt(s.integerValue||s.doubleValue)}function NE(s){return ip(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class aC{constructor(e,i){this.field=e,this.transform=i}}function oC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof hu&&l instanceof hu||r instanceof fu&&l instanceof fu?Vo(r.elements,l.elements,Qi):r instanceof Eh&&l instanceof Eh?Qi(r.Ae,l.Ae):r instanceof cu&&l instanceof cu})(s.transform,e.transform)}class lC{constructor(e,i){this.version=e,this.transformResults=i}}class Is{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Is}static exists(e){return new Is(void 0,e)}static updateTime(e){return new Is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function DE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ME(s.key,Is.none()):new bu(s.key,s.data,Is.none());{const i=s.data,r=ai.empty();let l=new Ht(Zt.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new Ia(s.key,r,new Ti(l.toArray()),Is.none())}}function uC(s,e,i){s instanceof bu?(function(l,u,d){const p=l.value.clone(),g=ov(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Ia?(function(l,u,d){if(!sh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=ov(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(OE(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function nu(s,e,i,r){return s instanceof bu?(function(u,d,p,g){if(!sh(u.precondition,d))return p;const y=u.value.clone(),T=lv(u.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ia?(function(u,d,p,g){if(!sh(u.precondition,d))return p;const y=lv(u.fieldTransforms,g,d),T=d.data;return T.setAll(OE(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(u,d,p){return sh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function cC(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=CE(r.transform,l||null);u!=null&&(i===null&&(i=ai.empty()),i.set(r.field,u))}return i||null}function av(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Vo(r,l,((u,d)=>oC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class bu extends qh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ia extends qh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function ov(s,e,i){const r=new Map;nt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,rC(d,p,i[l]))}return r}function lv(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,sC(u,d,e))}return r}class ME extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hC extends qh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fC{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&uC(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=nu(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=nu(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=AE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const g=DE(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,((i,r)=>av(i,r)))&&Vo(this.baseMutations,e.baseMutations,((i,r)=>av(i,r)))}}class lp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Zx})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new lp(e,i,r,l)}}class dC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mC{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Ye;function pC(s){switch(s){case ie.OK:return Re(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function kE(s){if(s===void 0)return Os("GRPC error has no .code"),ie.UNKNOWN;switch(s){case Lt.OK:return ie.OK;case Lt.CANCELLED:return ie.CANCELLED;case Lt.UNKNOWN:return ie.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ie.INTERNAL;case Lt.UNAVAILABLE:return ie.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ie.NOT_FOUND;case Lt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Lt.ABORTED:return ie.ABORTED;case Lt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Lt.DATA_LOSS:return ie.DATA_LOSS;default:return Re(39323,{code:s})}}(Ye=Lt||(Lt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function gC(){return new TextEncoder}const yC=new xr([4294967295,4294967295],0);function uv(s){const e=gC().encode(s),i=new X1;return i.update(e),new Uint8Array(i.digest())}function cv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xr([i,r],0),new xr([l,u],0)]}class up{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Xl(`Invalid padding: ${i}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=xr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(xr.fromNumber(r)));return l.compare(yC)===1&&(l=new xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=uv(e),[r,l]=cv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new up(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=uv(e),[r,l]=cv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Hh(Oe.min(),l,new _t(Ge),Ms(),Qe())}}class Tu{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Tu(r,i,Qe(),Qe(),Qe())}}class rh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class VE{constructor(e,i){this.targetId=e,this.Ce=i}}class PE{constructor(e,i,r=en.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class hv{constructor(){this.ve=0,this.Fe=fv(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),r=Qe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Re(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=fv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _C{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=Qc(),this.He=Qc(),this.Ye=new _t(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(xm(u))if(r===0){const d=new Ae(u.path);this.et(i,d,on.newNoDocument(d,Oe.min()))}else nt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=Dr(r).toUint8Array()}catch(g){if(g instanceof oE)return ko("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new up(d,l,u)}catch(g){return ko(g instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&xm(p.target)){const g=new Ae(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,on.newNoDocument(g,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=Qe();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Hh(e,i,this.Ye,this.je,r);return this.je=Ms(),this.Je=Qc(),this.He=Qc(),this.Ye=new _t(Ge),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new hv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ht(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ht(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qc(){return new _t(Ae.comparator)}function fv(){return new _t(Ae.comparator)}const vC={asc:"ASCENDING",desc:"DESCENDING"},EC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class TC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Rm(s,e){return s.useProto3Json||Ph(e)?e:{value:e}}function bh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function wC(s,e){return bh(s,e.toTimestamp())}function Hi(s){return nt(!!s,49232),Oe.fromTimestamp((function(i){const r=Nr(i);return new mt(r.seconds,r.nanos)})(s))}function cp(s,e){return Im(s,e).canonicalString()}function Im(s,e){const i=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function jE(s){const e=dt.fromString(s);return nt(HE(e),10190,{key:e.toString()}),e}function Nm(s,e){return cp(s.databaseId,e.path)}function am(s,e){const i=jE(e);if(i.get(1)!==s.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ae(zE(i))}function UE(s,e){return cp(s.databaseId,e)}function SC(s){const e=jE(s);return e.length===4?dt.emptyPath():zE(e)}function Dm(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function zE(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function dv(s,e,i){return{name:Nm(s,e),fields:i.value.mapValue.fields}}function AC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(nt(T===void 0||typeof T=="string",58123),en.fromBase64String(T||"")):(nt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),en.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?ie.UNKNOWN:kE(y.code);return new _e(T,y.message||"")})(d);i=new PE(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=am(s,r.document.name),u=Hi(r.document.updateTime),d=r.document.createTime?Hi(r.document.createTime):Oe.min(),p=new ai({mapValue:{fields:r.document.fields}}),g=on.newFoundDocument(l,u,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new rh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=am(s,r.document),u=r.readTime?Hi(r.readTime):Oe.min(),d=on.newNoDocument(l,u),p=r.removedTargetIds||[];i=new rh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=am(s,r.document),u=r.removedTargetIds||[];i=new rh([],u,l,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new mC(l,u),p=r.targetId;i=new VE(p,d)}}return i}function xC(s,e){let i;if(e instanceof bu)i={update:dv(s,e.key,e.value)};else if(e instanceof ME)i={delete:Nm(s,e.key)};else if(e instanceof Ia)i={update:dv(s,e.key,e.data),updateMask:VC(e.fieldMask)};else{if(!(e instanceof hC))return Re(16599,{Vt:e.type});i={verify:Nm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof cu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof hu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof fu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Re(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:wC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re(27497)})(s,e.precondition)),i}function CC(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Hi(l.updateTime):Hi(u);return d.isEqual(Oe.min())&&(d=Hi(u)),new lC(d,l.transformResults||[])})(i,e)))):[]}function RC(s,e){return{documents:[UE(s,e.path)]}}function IC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=UE(s,l);const u=(function(y){if(y.length!==0)return qE(Ki.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(I){return{field:wo(I.field),direction:OC(I.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Rm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function NC(s){let e=SC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){nt(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(w){const I=BE(w);return I instanceof Ki&&yE(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((I=>(function(X){return new vh(So(X.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(I)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let I;return I=typeof w=="object"?w.value:w,Ph(I)?null:I})(i.limit));let g=null;i.startAt&&(g=(function(w){const I=!!w.before,L=w.values||[];return new _h(L,I)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const I=!w.before,L=w.values||[];return new _h(L,I)})(i.endAt)),Kx(e,l,d,u,p,"F",g,y)}function DC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function BE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=So(i.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=So(i.unaryFilter.field);return Bt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(i.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=So(i.unaryFilter.field);return Bt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Bt.create(So(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((r=>BE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(i.compositeFilter.op))})(s):Re(30097,{filter:s})}function OC(s){return vC[s]}function MC(s){return EC[s]}function kC(s){return bC[s]}function wo(s){return{fieldPath:s.canonicalString()}}function So(s){return Zt.fromServerFormat(s.fieldPath)}function qE(s){return s instanceof Bt?(function(i){if(i.op==="=="){if(ev(i.value))return{unaryFilter:{field:wo(i.field),op:"IS_NAN"}};if(Z_(i.value))return{unaryFilter:{field:wo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ev(i.value))return{unaryFilter:{field:wo(i.field),op:"IS_NOT_NAN"}};if(Z_(i.value))return{unaryFilter:{field:wo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(i.field),op:MC(i.op),value:i.value}}})(s):s instanceof Ki?(function(i){const r=i.getFilters().map((l=>qE(l)));return r.length===1?r[0]:{compositeFilter:{op:kC(i.op),filters:r}}})(s):Re(54877,{filter:s})}function VC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function HE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Er{constructor(e,i,r,l,u=Oe.min(),d=Oe.min(),p=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PC{constructor(e){this.yt=e}}function LC(s){const e=NC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Cm(e,e.limit,"L"):e}class jC{constructor(){this.Cn=new UC}addToCollectionParentIndex(e,i){return this.Cn.add(i),ee.resolve()}getCollectionParents(e,i){return ee.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ee.resolve()}deleteFieldIndex(e,i){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,i){return ee.resolve()}getDocumentsMatchingTarget(e,i){return ee.resolve(null)}getIndexType(e,i){return ee.resolve(0)}getFieldIndexes(e,i){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,i){return ee.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,i){return ee.resolve(Ir.min())}updateCollectionGroup(e,i,r){return ee.resolve()}updateIndexEntries(e,i){return ee.resolve()}}class UC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Ht(dt.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ht(dt.comparator)).toArray()}}const mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(FE,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}const pv="LruGarbageCollector",zC=1048576;function gv([s,e],[i,r]){const l=Ge(s,i);return l===0?Ge(e,r):l}class BC{constructor(e){this.Ir=e,this.buffer=new Ht(gv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();gv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(pv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Go(i)?de(pv,"Ignoring IndexedDB error during garbage collection: ",i):await Fo(i)}await this.Vr(3e5)}))}}class HC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return ee.resolve(Vh.ce);const r=new BC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(mv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,i)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),bo()<=Fe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function FC(s,e){return new HC(s,e)}class GC{constructor(){this.changes=new Ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ee.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class KC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&nu(r.mutation,l,Ti.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Qe()){const l=_a();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=Yl();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=_a();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Qe())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let u=Ms();const d=tu(),p=(function(){return tu()})();return i.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Ia)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),nu(T.mutation,y,T.mutation.getFieldMask(),mt.now())):d.set(y.key,Ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new QC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=tu();let l=new _t(((d,p)=>d-p)),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let T=r.get(g)||Ti.empty();T=p.applyToLocalView(y,T),r.set(g,T);const w=(l.get(p.batchId)||Qe()).add(g);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,w=AE();T.forEach((I=>{if(!u.has(I)){const L=DE(i.get(I),r.get(I));L!==null&&w.set(I,L),u=u.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ee.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Yx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):ee.resolve(_a());let p=au,g=u;return d.next((y=>ee.forEach(y,((T,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((I=>{g=g.insert(T,I)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Qe()))).next((T=>({batchId:p,changes:SE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ae(i)).next((r=>{let l=Yl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,u).next((p=>ee.forEach(p,(g=>{const y=(function(w,I){return new jh(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((w,I)=>{d=d.insert(w,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,on.newInvalidDocument(T)))}));let p=Yl();return d.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&nu(T.mutation,y,Ti.empty(),mt.now()),zh(i,y)&&(p=p.insert(g,y))})),p}))}}class YC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ee.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Hi(l.createTime)}})(i)),ee.resolve()}getNamedQuery(e,i){return ee.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:LC(l.bundledQuery),readTime:Hi(l.readTime)}})(i)),ee.resolve()}}class XC{constructor(){this.overlays=new _t(Ae.comparator),this.qr=new Map}getOverlay(e,i){return ee.resolve(this.overlays.get(i))}getOverlays(e,i){const r=_a();return ee.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),ee.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,i,r){const l=_a(),u=i.length+1,d=new Ae(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new _t(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=_a(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=_a(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return ee.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new dC(i,r));let u=this.qr.get(i);u===void 0&&(u=Qe(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class $C{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ee.resolve()}}class hp{constructor(){this.Qr=new Ht(Qt.$r),this.Ur=new Ht(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Qt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Qt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Ae(new dt([])),r=new Qt(i,e),l=new Qt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ae(new dt([])),r=new Qt(i,e),l=new Qt(i,e+1);let u=Qe();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Qt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ae.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||Ae.comparator(e.key,i.key)}}class JC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Qt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fC(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Qt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,i){return ee.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?tp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ht(Ge);return i.forEach((l=>{const u=new Qt(l,0),d=new Qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;Ae.isDocumentKey(u)||(u=u.child(""));const d=new Qt(new Ae(u),0);let p=new Ht(Ge);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),ee.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){nt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(i.mutations,(l=>{const u=new Qt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Qt(i,0),l=this.Zr.firstAfterOrEqual(r);return ee.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class WC{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ee.resolve(r?r.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let r=Ms();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():on.newInvalidDocument(l))})),ee.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=Ms();const d=i.path,p=new Ae(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Ax(Sx(T),r)<=0||(l.has(T.key)||zh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,i,r,l){Re(9500)}ii(e,i){return ee.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new ZC(this)}getSize(e){return ee.resolve(this.size)}}class ZC extends GC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ee.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class eR{constructor(e){this.persistence=e,this.si=new Ra((i=>sp(i)),rp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new hp,this.targetCount=0,this.ai=jo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ee.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new jo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ee.resolve()}updateTargetData(e,i){return this.Pr(i),ee.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ee.waitFor(u).next((()=>l))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return ee.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),ee.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ee.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return ee.resolve(r)}containsKey(e,i){return ee.resolve(this._i.containsKey(i))}}class GE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new $C,this.referenceDelegate=e(this),this.Pi=new eR(this),this.indexManager=new jC,this.remoteDocumentCache=(function(l){return new WC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PC(i),this.Ii=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new XC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new JC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){de("MemoryPersistence","Starting transaction:",e);const l=new tR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class tR extends Cx{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Ri=new hp,this.Vi=null}static mi(e){return new fp(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ee.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const l=Ae.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,Oe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ee.or([()=>ee.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Th{constructor(e,i){this.persistence=e,this.pi=new Ra((r=>Nx(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=FC(this,i)}static mi(e,i){return new Th(e,i)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return ee.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?ee.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,u.removeEntry(d,Oe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=nh(e.data.value)),i}br(e,i,r){return ee.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ee.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Qe(),l=Qe();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new dp(e,i.fromCache,r,l)}}class nR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qw()?8:Rx(ln())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new nR;return this.Ss(e,i,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(bo()<=Fe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",To(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(bo()<=Fe.DEBUG&&de("QueryEngine","Query:",To(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(bo()<=Fe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",To(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):ee.resolve())}ys(e,i){if(sv(i))return ee.resolve(null);let r=qi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Cm(i,null,"F"),r=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Qe(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,Cm(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,r,l){return sv(i)||l.isEqual(Oe.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?ee.resolve(null):(bo()<=Fe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),To(i)),this.vs(e,d,i,wx(l,au)).next((p=>p)))}))}Ds(e,i){let r=new Ht(TE(e));return i.forEach(((l,u)=>{zh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return bo()<=Fe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",To(i)),this.ps.getDocumentsMatchingQuery(e,i,Ir.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const mp="LocalStore",sR=3e8;class rR{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new _t(Ge),this.xs=new Ra((u=>sp(u)),rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function aR(s,e,i,r){return new rR(s,e,i,r)}async function QE(s,e){const i=ke(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Qe();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function oR(s,e){const i=ke(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const w=y.batch,I=w.keys();let L=ee.resolve();return I.forEach((X=>{L=L.next((()=>T.getEntry(g,X))).next((K=>{const Y=y.docVersions.get(X);nt(Y!==null,48541),K.version.compareTo(Y)<0&&(w.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Qe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function KE(s){const e=ke(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lR(s,e){const i=ke(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,w)=>{const I=l.get(w);if(!I)return;p.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,w))));let L=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(en.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),l=l.insert(w,L),(function(K,Y,ne){return K.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=sR?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(I,L,T)&&p.push(i.Pi.updateTargetData(u,L))}));let g=Ms(),y=Qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(uR(u,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(Oe.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((w=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return ee.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=l,u)))}function uR(s,e,i){let r=Qe(),l=Qe();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=Ms();return i.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Oe.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):de(mp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function cR(s,e){const i=ke(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hR(s,e){const i=ke(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,ee.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Er(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Om(s,e,i){const r=ke(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Go(d))throw d;de(mp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function yv(s,e,i){const r=ke(s);let l=Oe.min(),u=Qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const w=ke(g),I=w.xs.get(T);return I!==void 0?ee.resolve(w.Ms.get(I)):w.Pi.getTargetData(y,T)})(r,d,qi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Oe.min(),i?u:Qe()))).next((p=>(fR(r,$x(e),p),{documents:p,Qs:u})))))}function fR(s,e,i){let r=s.Os.get(e)||Oe.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class _v{constructor(){this.activeTargetIds=nC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dR{constructor(){this.Mo=new _v,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _v,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mR{Oo(e){}shutdown(){}}const vv="ConnectivityMonitor";class Ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(vv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kc=null;function Mm(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}const om="RestConnection",pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Mm(),p=this.zo(e,i.toUriEncodedString());de(om,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),T=Bo(y);return this.Jo(e,p,g,r,T).then((w=>(de(om,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ko(om,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=pR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class yR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class _R extends gR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Mm();return new Promise(((p,g)=>{const y=new $1;y.setWithCredentials(!0),y.listenOnce(J1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case th.NO_ERROR:const w=y.getResponseJson();de(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case th.TIMEOUT:de(rn,`RPC '${e}' ${d} timed out`),g(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const I=y.getStatus();if(de(rn,`RPC '${e}' ${d} failed with status:`,I,"response text:",y.getResponseText()),I>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const X=L?.error;if(X&&X.status&&X.message){const K=(function(ne){const me=ne.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(me)>=0?me:ie.UNKNOWN})(X.status);g(new _e(K,X.message))}else g(new _e(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(rn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);de(rn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Mm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=eE(),p=Z1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const T=u.join("");de(rn,`Creating RPC '${e}' stream ${l}: ${T}`,g);const w=d.createWebChannel(T,g);this.I_(w);let I=!1,L=!1;const X=new yR({Yo:Y=>{L?de(rn,`Not sending because RPC '${e}' stream ${l} is closed:`,Y):(I||(de(rn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),I=!0),de(rn,`RPC '${e}' stream ${l} sending:`,Y),w.send(Y))},Zo:()=>w.close()}),K=(Y,ne,me)=>{Y.listen(ne,(fe=>{try{me(fe)}catch(De){setTimeout((()=>{throw De}),0)}}))};return K(w,Kl.EventType.OPEN,(()=>{L||(de(rn,`RPC '${e}' stream ${l} transport opened.`),X.o_())})),K(w,Kl.EventType.CLOSE,(()=>{L||(L=!0,de(rn,`RPC '${e}' stream ${l} transport closed`),X.a_(),this.E_(w))})),K(w,Kl.EventType.ERROR,(Y=>{L||(L=!0,ko(rn,`RPC '${e}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),X.a_(new _e(ie.UNAVAILABLE,"The operation could not be completed")))})),K(w,Kl.EventType.MESSAGE,(Y=>{if(!L){const ne=Y.data[0];nt(!!ne,16349);const me=ne,fe=me?.error||me[0]?.error;if(fe){de(rn,`RPC '${e}' stream ${l} received error:`,fe);const De=fe.status;let Ee=(function(A){const C=Lt[A];if(C!==void 0)return kE(C)})(De),ve=fe.message;Ee===void 0&&(Ee=ie.INTERNAL,ve="Unknown error status: "+De+" with message "+fe.message),L=!0,X.a_(new _e(Ee,ve)),w.close()}else de(rn,`RPC '${e}' stream ${l} received:`,ne),X.u_(ne)}})),K(p,W1.STAT_EVENT,(Y=>{Y.stat===bm.PROXY?de(rn,`RPC '${e}' stream ${l} detected buffering proxy`):Y.stat===bm.NOPROXY&&de(rn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function lm(){return typeof document<"u"?document:null}function Fh(s){return new TC(s,!0)}class YE{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bv="PersistentStream";class XE{constructor(e,i,r,l,u,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ie.RESOURCE_EXHAUSTED?(Os(i.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new _e(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(de(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vR extends XE{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=AC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Oe.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Oe.min():d.readTime?Hi(d.readTime):Oe.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Dm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=xm(g)?{documents:RC(u,g)}:{query:IC(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=LE(u,d.resumeToken);const y=Rm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Oe.min())>0){p.readTime=bh(u,d.snapshotVersion.toTimestamp());const y=Rm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=DC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Dm(this.serializer),i.removeTarget=e,this.q_(i)}}class ER extends XE{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=CC(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Dm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>xC(this.serializer,r)))};this.q_(i)}}class bR{}class TR extends bR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Im(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ie.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Im(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new _e(ie.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(i),this.aa=!1):de("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Aa="RemoteStore";class SR{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Na(this)&&(de(Aa,"Restarting streams for network reachability change."),await(async function(g){const y=ke(g);y.Ea.add(4),await wu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Ra=new wR(r,l)}}async function Gh(s){if(Na(s))for(const e of s.da)await e(!0)}async function wu(s){for(const e of s.da)await e(!1)}function $E(s,e){const i=ke(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),_p(i)?yp(i):Qo(i).O_()&&gp(i,e))}function pp(s,e){const i=ke(s),r=Qo(i);i.Ia.delete(e),r.O_()&&JE(i,e),i.Ia.size===0&&(r.O_()?r.L_():Na(i)&&i.Ra.set("Unknown"))}function gp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Qo(s).Y_(e)}function JE(s,e){s.Va.Ue(e),Qo(s).Z_(e)}function yp(s){s.Va=new _C({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Qo(s).start(),s.Ra.ua()}function _p(s){return Na(s)&&!Qo(s).x_()&&s.Ia.size>0}function Na(s){return ke(s).Ea.size===0}function WE(s){s.Va=void 0}async function AR(s){s.Ra.set("Online")}async function xR(s){s.Ia.forEach(((e,i)=>{gp(s,e)}))}async function CR(s,e){WE(s),_p(s)?(s.Ra.ha(e),yp(s)):s.Ra.set("Unknown")}async function RR(s,e,i){if(s.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){de(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof rh?s.Va.Ze(e):e instanceof VE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Oe.min()))try{const r=await KE(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(en.EMPTY_BYTE_STRING,T.snapshotVersion)),JE(u,g);const w=new Er(T.target,g,y,T.sequenceNumber);gp(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){de(Aa,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,i){if(!Go(e))throw e;s.Ea.add(1),await wu(s),s.Ra.set("Offline"),i||(i=()=>KE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(Aa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Gh(s)}))}function ZE(s,e){return e().catch((i=>wh(s,i,e)))}async function Qh(s){const e=ke(s),i=Mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tp;for(;IR(e);)try{const l=await cR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,NR(e,l)}catch(l){await wh(e,l)}eb(e)&&tb(e)}function IR(s){return Na(s)&&s.Ta.length<10}function NR(s,e){s.Ta.push(e);const i=Mr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function eb(s){return Na(s)&&!Mr(s).x_()&&s.Ta.length>0}function tb(s){Mr(s).start()}async function DR(s){Mr(s).ra()}async function OR(s){const e=Mr(s);for(const i of s.Ta)e.ea(i.mutations)}async function MR(s,e,i){const r=s.Ta.shift(),l=lp.from(r,e,i);await ZE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Qh(s)}async function kR(s,e){e&&Mr(s).X_&&await(async function(r,l){if((function(d){return pC(d)&&d!==ie.ABORTED})(l.code)){const u=r.Ta.shift();Mr(r).B_(),await ZE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Qh(r)}})(s,e),eb(s)&&tb(s)}async function Tv(s,e){const i=ke(s);i.asyncQueue.verifyOperationInProgress(),de(Aa,"RemoteStore received new credentials");const r=Na(i);i.Ea.add(3),await wu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Gh(i)}async function VR(s,e){const i=ke(s);e?(i.Ea.delete(2),await Gh(i)):e||(i.Ea.add(2),await wu(i),i.Ra.set("Unknown"))}function Qo(s){return s.ma||(s.ma=(function(i,r,l){const u=ke(i);return u.sa(),new vR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:AR.bind(null,s),t_:xR.bind(null,s),r_:CR.bind(null,s),H_:RR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),_p(s)?yp(s):s.Ra.set("Unknown")):(await s.ma.stop(),WE(s))}))),s.ma}function Mr(s){return s.fa||(s.fa=(function(i,r,l){const u=ke(i);return u.sa(),new ER(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:DR.bind(null,s),r_:kR.bind(null,s),ta:OR.bind(null,s),na:MR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Qh(s)):(await s.fa.stop(),s.Ta.length>0&&(de(Aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class vp{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,p=new vp(e,i,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(s,e){if(Os("AsyncQueue",`${e}: ${s}`),Go(s))return new _e(ie.UNAVAILABLE,`${e}: ${s}`);throw s}class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Ae.comparator(i.key,r.key):(i,r)=>Ae.comparator(i.key,r.key),this.keyedMap=Yl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class wv{constructor(){this.ga=new _t(Ae.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Uo{constructor(e,i,r,l,u,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Uo(e,i,Ro.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class PR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LR{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=ke(i),u=l.queries;l.queries=Sv(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function Sv(){return new Ra((s=>bE(s)),Uh)}async function nb(s,e){const i=ke(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new PR,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Ep(d,`Initialization of query '${To(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&bp(i)}async function ib(s,e){const i=ke(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function jR(s,e){const i=ke(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&bp(i)}function UR(s,e,i){const r=ke(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function bp(s){s.Ca.forEach((e=>{e.next()}))}var km,Av;(Av=km||(km={})).Ma="default",Av.Cache="cache";class sb{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}class rb{constructor(e){this.key=e}}class ab{constructor(e){this.key=e}}class zR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=TE(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new wv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,w)=>{const I=l.get(T),L=zh(this.query,w)?w:null,X=!!I&&this.mutatedKeys.has(I.key),K=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let Y=!1;I&&L?I.data.isEqual(L.data)?X!==K&&(r.track({type:3,doc:L}),Y=!0):this.su(I,L)||(r.track({type:2,doc:L}),Y=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(p=!0)):!I&&L?(r.track({type:0,doc:L}),Y=!0):I&&!L&&(r.track({type:1,doc:I}),Y=!0,(g||y)&&(p=!0)),Y&&(L?(d=d.add(L),u=K?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(L,X){const K=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:Y})}};return K(L)-K(X)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Uo(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new ab(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new rb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tp="SyncEngine";class BR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class qR{constructor(e){this.key=e,this.hu=!1}}class HR{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ra((p=>bE(p)),Uh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ae.comparator),this.Au=new Map,this.Ru=new hp,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FR(s,e,i=!0){const r=fb(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await ob(r,e,i,!0),l}async function GR(s,e){const i=fb(s);await ob(i,e,!0,!1)}async function ob(s,e,i,r){const l=await hR(s.localStore,qi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await QR(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&$E(s.remoteStore,l),p}async function QR(s,e,i,r,l){s.pu=(w,I,L)=>(async function(K,Y,ne,me){let fe=Y.view.ru(ne);fe.Cs&&(fe=await yv(K.localStore,Y.query,!1).then((({documents:x})=>Y.view.ru(x,fe))));const De=me&&me.targetChanges.get(Y.targetId),Ee=me&&me.targetMismatches.get(Y.targetId)!=null,ve=Y.view.applyChanges(fe,K.isPrimaryClient,De,Ee);return Cv(K,Y.targetId,ve.au),ve.snapshot})(s,w,I,L);const u=await yv(s.localStore,e,!0),d=new zR(e,u.Qs),p=d.ru(u.documents),g=Tu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);Cv(s,i,y.au);const T=new BR(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function KR(s,e,i){const r=ke(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Uh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Om(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&pp(r.remoteStore,l.targetId),Vm(r,l.targetId)})).catch(Fo)):(Vm(r,l.targetId),await Om(r.localStore,l.targetId,!0))}async function YR(s,e){const i=ke(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),pp(i.remoteStore,r.targetId))}async function XR(s,e,i){const r=nI(s);try{const l=await(function(d,p){const g=ke(d),y=mt.now(),T=p.reduce(((L,X)=>L.add(X.key)),Qe());let w,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let X=Ms(),K=Qe();return g.Ns.getEntries(L,T).next((Y=>{X=Y,X.forEach(((ne,me)=>{me.isValidDocument()||(K=K.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,X))).next((Y=>{w=Y;const ne=[];for(const me of p){const fe=cC(me,w.get(me.key).overlayedDocument);fe!=null&&ne.push(new Ia(me.key,fe,mE(fe.value.mapValue),Is.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,ne,p)})).next((Y=>{I=Y;const ne=Y.applyToLocalDocumentSet(w,K);return g.documentOverlayCache.saveOverlays(L,Y.batchId,ne)}))})).then((()=>({batchId:I.batchId,changes:SE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new _t(Ge)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Su(r,l.changes),await Qh(r.remoteStore)}catch(l){const u=Ep(l,"Failed to persist write");i.reject(u)}}async function lb(s,e){const i=ke(s);try{const r=await lR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(nt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?nt(d.hu,14607):l.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await Su(i,r,e)}catch(r){await Fo(r)}}function xv(s,e,i){const r=ke(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=ke(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,w)=>{for(const I of w.Sa)I.va(p)&&(y=!0)})),y&&bp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $R(s,e,i){const r=ke(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new _t(Ae.comparator);d=d.insert(u,on.newNoDocument(u,Oe.min()));const p=Qe().add(u),g=new Hh(Oe.min(),new Map,new _t(Ge),d,p);await lb(r,g),r.du=r.du.remove(u),r.Au.delete(e),wp(r)}else await Om(r.localStore,e,!1).then((()=>Vm(r,e,i))).catch(Fo)}async function JR(s,e){const i=ke(s),r=e.batch.batchId;try{const l=await oR(i.localStore,e);cb(i,r,null),ub(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Su(i,l)}catch(l){await Fo(l)}}async function WR(s,e,i){const r=ke(s);try{const l=await(function(d,p){const g=ke(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(nt(w!==null,37113),T=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);cb(r,e,i),ub(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Su(r,l)}catch(l){await Fo(l)}}function ub(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function cb(s,e,i){const r=ke(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||hb(s,r)}))}function hb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(pp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),wp(s))}function Cv(s,e,i){for(const r of i)r instanceof rb?(s.Ru.addReference(r.key,e),ZR(s,r)):r instanceof ab?(de(Tp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||hb(s,r.key)):Re(19791,{wu:r})}function ZR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(de(Tp,"New document in limbo: "+i),s.Eu.add(r),wp(s))}function wp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Ae(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new qR(i)),s.du=s.du.insert(i,r),$E(s.remoteStore,new Er(qi(ap(i.path)),r,"TargetPurposeLimboResolution",Vh.ce))}}async function Su(s,e,i){const r=ke(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=dp.As(g.targetId,y);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=ke(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ee.forEach(y,(I=>ee.forEach(I.Es,(L=>T.persistence.referenceDelegate.addReference(w,I.targetId,L))).next((()=>ee.forEach(I.ds,(L=>T.persistence.referenceDelegate.removeReference(w,I.targetId,L)))))))))}catch(w){if(!Go(w))throw w;de(mp,"Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const L=T.Ms.get(I),X=L.snapshotVersion,K=L.withLastLimboFreeSnapshotVersion(X);T.Ms=T.Ms.insert(I,K)}}})(r.localStore,u))}async function eI(s,e){const i=ke(s);if(!i.currentUser.isEqual(e)){de(Tp,"User change. New user:",e.toKey());const r=await QE(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new _e(ie.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(i,r.Ls)}}function tI(s,e){const i=ke(s),r=i.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let l=Qe();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function fb(s){const e=ke(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$R.bind(null,e),e.Pu.H_=jR.bind(null,e.eventManager),e.Pu.yu=UR.bind(null,e.eventManager),e}function nI(s){const e=ke(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WR.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return aR(this.persistence,new iR,e.initialUser,this.serializer)}Cu(e){return new GE(fp.mi,this.serializer)}Du(e){return new dR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class iI extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new GE((r=>Th.mi(r,i)),this.serializer)}}class Pm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,this.syncEngine),await VR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LR})()}createDatastore(e){const i=Fh(e.databaseInfo.databaseId),r=(function(u){return new _R(u)})(e.databaseInfo);return(function(u,d,p,g){return new TR(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,p){return new SR(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>xv(this.syncEngine,i,0)),(function(){return Ev.v()?new Ev:new mR})())}createSyncEngine(e,i){return(function(l,u,d,p,g,y,T){const w=new HR(l,u,d,p,g,y);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=ke(i);de(Aa,"RemoteStore shutting down."),r.Ea.add(5),await wu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};class db{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const kr="FirestoreClient";class sI{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{de(kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ep(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function um(s,e){s.asyncQueue.verifyOperationInProgress(),de(kr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await QE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Rv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await rI(s);de(kr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Tv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Tv(e.remoteStore,l))),s._onlineComponents=e}async function rI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(kr,"Using user provided OfflineComponentProvider");try{await um(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ie.FAILED_PRECONDITION||l.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ko("Error using user provided cache. Falling back to memory cache: "+i),await um(s,new Sh)}}else de(kr,"Using default OfflineComponentProvider"),await um(s,new iI(void 0));return s._offlineComponents}async function mb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(kr,"Using user provided OnlineComponentProvider"),await Rv(s,s._uninitializedComponentsProvider._online)):(de(kr,"Using default OnlineComponentProvider"),await Rv(s,new Pm))),s._onlineComponents}function aI(s){return mb(s).then((e=>e.syncEngine))}async function pb(s){const e=await mb(s),i=e.eventManager;return i.onListen=FR.bind(null,e.syncEngine),i.onUnlisten=KR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YR.bind(null,e.syncEngine),i}function oI(s,e,i={}){const r=new Rs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new db({next:I=>{T.Nu(),d.enqueueAndForget((()=>ib(u,w)));const L=I.docs.has(p);!L&&I.fromCache?y.reject(new _e(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&I.fromCache&&g&&g.source==="server"?y.reject(new _e(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new sb(ap(p.path),T,{includeMetadataChanges:!0,qa:!0});return nb(u,w)})(await pb(s),s.asyncQueue,e,i,r))),r.promise}function lI(s,e,i={}){const r=new Rs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new db({next:I=>{T.Nu(),d.enqueueAndForget((()=>ib(u,w))),I.fromCache&&g.source==="server"?y.reject(new _e(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new sb(p,T,{includeMetadataChanges:!0,qa:!0});return nb(u,w)})(await pb(s),s.asyncQueue,e,i,r))),r.promise}function gb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Iv=new Map;const yb="firestore.googleapis.com",Nv=!0;class Dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yb,this.ssl=Nv}else this.host=e.host,this.ssl=e.ssl??Nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zC)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fx;switch(r.type){case"firstParty":return new gx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Iv.get(i);r&&(de("ComponentProvider","Removing Datastore"),Iv.delete(i),r.terminate())})(this),Promise.resolve()}}function uI(s,e,i,r={}){s=Sa(s,Kh);const l=Bo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Xv(`https://${p}`),$v("Firestore",!0)),u.host!==yb&&u.host!==p&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!Ea(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=an.MOCK_USER;else{y=Mw(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(w)}s._authCredentials=new dx(new nE(y,T))}}class Yh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yh(this.firestore,e,this._query)}}class qt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Eu(i,qt._jsonSchema))return new qt(e,r||null,new Ae(dt.fromString(i.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:jt("string",qt._jsonSchemaVersion),referencePath:jt("string")};class Cr extends Yh{constructor(e,i,r){super(e,i,ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Ae(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function cI(s,e,...i){if(s=mn(s),iE("collection","path",e),s instanceof Kh){const r=dt.fromString(e,...i);return G_(r),new Cr(s,null,r)}{if(!(s instanceof qt||s instanceof Cr))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return G_(r),new Cr(s.firestore,null,r)}}function zo(s,e,...i){if(s=mn(s),arguments.length===1&&(e=Zm.newId()),iE("doc","path",e),s instanceof Kh){const r=dt.fromString(e,...i);return F_(r),new qt(s,null,new Ae(r))}{if(!(s instanceof qt||s instanceof Cr))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return F_(r),new qt(s.firestore,s instanceof Cr?s.converter:null,new Ae(r))}}const Ov="AsyncQueue";class Mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YE(this,"async_queue_retry"),this._c=()=>{const r=lm();r&&de(Ov,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=lm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=lm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Go(e))throw e;de(Ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",kv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=vp.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Re(47125,{Pc:kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function kv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Xh extends Kh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mv(e),this._firestoreClient=void 0,await e}}}function hI(s,e){const i=typeof s=="object"?s:qm(),r=typeof s=="string"?s:gh,l=Bm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=Dw("firestore");u&&uI(l,...u)}return l}function Sp(s){if(s._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fI(s),s._firestoreClient}function fI(s){const e=s._freezeSettings(),i=(function(l,u,d,p){return new Mx(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,gb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new sI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(en.fromBase64String(e))}catch(i){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new oi(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:jt("string",oi._jsonSchemaVersion),bytes:jt("string")};class Ap{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xp{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:jt("string",Fi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gi(e.vectorValues);throw new _e(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:jt("string",Gi._jsonSchemaVersion),vectorValues:jt("object")};const dI=/^__.*__$/;class mI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,i,this.fieldTransforms):new bu(e,this.data,i,this.fieldTransforms)}}function _b(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:s})}}class Cp{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_b(this.Ac)&&dI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Fh(e)}Cc(e,i,r,l=!1){return new Cp({Ac:e,methodName:i,Dc:r,path:Zt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gI(s){const e=s._freezeSettings(),i=Fh(s._databaseId);return new pI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function yI(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);Tb("Data must be an object, but it was:",d,r);const p=Eb(r,d);let g,y;if(u.merge)g=new Ti(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const I=_I(e,w,i);if(!d.contains(I))throw new _e(ie.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);EI(T,I)||T.push(I)}g=new Ti(T),y=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=d.fieldTransforms;return new mI(new ai(p),g,y)}class Rp extends xp{_toFieldTransform(e){return new aC(e.path,new cu)}isEqual(e){return e instanceof Rp}}function vb(s,e){if(bb(s=mn(s)))return Tb("Unsupported field value:",e,s),Eb(s,e);if(s instanceof xp)return(function(r,l){if(!_b(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=vb(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:bh(l.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(l.serializer,u)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oi)return{bytesValue:LE(l.serializer,r._byteString)};if(r instanceof qt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Gi)return(function(d,p){return{mapValue:{fields:{[fE]:{stringValue:dE},[yh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return op(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ep(r)}`)})(s,e)}function Eb(s,e){const i={};return aE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(s,((r,l)=>{const u=vb(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function bb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Fi||s instanceof oi||s instanceof qt||s instanceof xp||s instanceof Gi)}function Tb(s,e,i){if(!bb(i)||!sE(i)){const r=ep(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function _I(s,e,i){if((e=mn(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return wb(s,e);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function wb(s,e,i){if(e.search(vI)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ap(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ah(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new _e(ie.INVALID_ARGUMENT,p+s+g)}function EI(s,e){return s.some((i=>i.isEqual(e)))}class Sb{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ab("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bI extends Sb{data(){return super.data()}}function Ab(s,e){return typeof e=="string"?wb(s,e):e instanceof Ap?e._internalPath:e._delegate._internalPath}function TI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wI{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ca(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[yh].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new Gi(i)}convertGeoPoint(e){return new Fi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const i=Nr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);nt(HE(r),9688,{name:e});const l=new lu(r.get(1),r.get(3)),u=new Ae(r.popFirst(5));return l.isEqual(i)||Os(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function SI(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class $l{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends Sb{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Ab("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:jt("string",va._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class ah extends va{data(e={}){return super.data(e)}}class Io{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new $l(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ah(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new ah(l._firestore,l._userDataWriter,p.doc.key,p.doc,new $l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new ah(l._firestore,l._userDataWriter,p.doc.key,p.doc,new $l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:AI(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}function Ip(s){s=Sa(s,qt);const e=Sa(s.firestore,Xh);return oI(Sp(e),s._key).then((i=>RI(e,s,i)))}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:jt("string",Io._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class xb extends wI{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,i)}}function xI(s){s=Sa(s,Yh);const e=Sa(s.firestore,Xh),i=Sp(e),r=new xb(e);return TI(s._query),lI(i,s._query).then((l=>new Io(e,r,s,l)))}function No(s,e,i){s=Sa(s,qt);const r=Sa(s.firestore,Xh),l=SI(s.converter,e,i);return CI(r,[yI(gI(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Is.none())])}function CI(s,e){return(function(r,l){const u=new Rs;return r.asyncQueue.enqueueAndForget((async()=>XR(await aI(r),l,u))),u.promise})(Sp(s),e)}function RI(s,e,i){const r=i.docs.get(e._key),l=new xb(s);return new va(s,l,e._key,r,new $l(i.hasPendingWrites,i.fromCache),e.converter)}function Hl(){return new Rp("serverTimestamp")}(function(e,i=!0){(function(l){Ho=l})(qo),Do(new ba("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Xh(new mx(r.getProvider("auth-internal")),new yx(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(y.options.projectId,T)})(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ar(z_,B_,e),Ar(z_,B_,"esm2020")})();const II={apiKey:"AIzaSyDRfJevjEjaG66KDpNNSw4jVIeFfrEg6KE",authDomain:"japanese-learning-app-fcb27.firebaseapp.com",projectId:"japanese-learning-app-fcb27",storageBucket:"japanese-learning-app-fcb27.appspot.com",messagingSenderId:"999126999380",appId:"1:999126999380:web:21b7ec4100378178ec10c1"},Cb=$S().length?qm():Zv(II),br=Y1(Cb),xh=hI(Cb);const NI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Vv=s=>{const e=DI(s);return e.charAt(0).toUpperCase()+e.slice(1)},Rb=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),OI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var MI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kI=Z.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>Z.createElement("svg",{ref:g,...MI,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Rb("lucide",l),...!u&&!OI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>Z.createElement(y,T)),...Array.isArray(u)?u:[u]]));const We=(s,e)=>{const i=Z.forwardRef(({className:r,...l},u)=>Z.createElement(kI,{ref:u,iconNode:e,className:Rb(`lucide-${NI(Vv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Vv(s),i};const VI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ib=We("arrow-right",VI);const PI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],du=We("chevron-down",PI);const LI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jI=We("chevron-left",LI);const UI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zI=We("chevron-right",UI);const BI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qI=We("chevron-up",BI);const HI=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],FI=We("chevrons-left",HI);const GI=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],QI=We("chevrons-right",GI);const KI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ch=We("circle-alert",KI);const YI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XI=We("circle-check-big",YI);const $I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nb=We("circle-x",$I);const JI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WI=We("download",JI);const ZI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eN=We("eye-off",ZI);const tN=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Pv=We("folder",tN);const nN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],iN=We("layers",nN);const sN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Db=We("loader",sN);const rN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aN=We("log-out",rN);const oN=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ob=We("pause",oN);const lN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],uN=We("pen-tool",lN);const cN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Np=We("play",cN);const hN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fN=We("refresh-cw",hN);const dN=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],mN=We("repeat",dN);const pN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mb=We("save",pN);const gN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yN=We("settings",gN);const _N=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],vN=We("shuffle",_N);const EN=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],bN=We("skip-back",EN);const TN=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],wN=We("skip-forward",TN);const SN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],AN=We("star",SN);const xN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CN=We("trash-2",xN);const RN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lv=We("triangle-alert",RN);const IN=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],NN=We("undo",IN);const DN=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ON=We("volume-2",DN);const MN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kb=We("x",MN),kN=new Set(["id","localId","book","folderId","isMarked"]),VN=[{id:"isMarked",label:"",width:"w-12",type:"action"},{id:"audio",label:"",width:"w-12",type:"action"}],PN={id:"selection",label:"#",width:"w-10",type:"system",fixed:"left"},LN=(s,e)=>{const i={...s},r=s.id?String(s.id):null;return i.id=r,i.localId=r||`local_${e}_${Date.now()}`,i.book=String(s.book||"1"),i.folderId=String(s.book||"Uncategorized"),i.isMarked=s.is_problem===!0||s.is_problem==="true",i.japanese===void 0&&(i.japanese=String(s.hiragana||s.japanese||"")),s.japanese||Object.defineProperty(i,"_isSyntheticJapanese",{value:!0,enumerable:!1}),i.lesson||(i.lesson=String(s.lesson||"1")),i.cando||(i.cando=String(s.cando||"1")),i.bangla||(i.bangla=String(s.bangla||"")),i},jv=(s,e)=>{const i={};let r=!1;return["japanese","bangla","lesson","cando","isMarked"].forEach(u=>{JSON.stringify(s[u])!==JSON.stringify(e[u])&&(u==="japanese"?i.hiragana=e[u]:u==="isMarked"?i.is_problem=e[u]:i[u]=e[u],r=!0)}),r?i:null},jN=({message:s,type:e,onClose:i})=>{Z.useEffect(()=>{const u=setTimeout(i,3e3);return()=>clearTimeout(u)},[i]);let r="bg-slate-800";e==="error"&&(r="bg-red-600"),e==="warning"&&(r="bg-amber-600"),e==="success"&&(r="bg-green-600");const l=typeof s=="object"?JSON.stringify(s):s;return E.jsx("div",{className:`fixed bottom-24 right-6 ${r} text-white px-6 py-3 rounded-lg shadow-xl z-[100] flex items-center font-medium animate-in fade-in slide-in-from-bottom-5`,children:l})},UN=xs.memo(({item:s,columnOrder:e,columnDefs:i,columnVisibility:r,hiddenColumns:l,revealedCells:u,selectedIds:d,isPlaying:p,index:g,isEditMode:y,onUpdateCell:T,onRevealCell:w,onPlaySingle:I,onMark:L,isActive:X})=>{if(!s)return null;const K=d.has(s.localId),Y=ne=>{if(!r||!(r[ne]!==!1))return null;const fe="",De=l[ne];switch(ne){case"selection":return E.jsx("td",{"data-col-id":ne,className:"w-10 px-2 py-0.5 border-r border-slate-100 text-center font-medium text-slate-400 text-xs",children:g+1});case"audio":return E.jsx("td",{"data-col-id":ne,className:`w-12 px-2 py-0.5 border-r border-slate-100 text-center ${fe}`,children:E.jsx("button",{onClick:()=>I(s),className:`p-1 rounded-full transition-colors ${X?"bg-indigo-600 text-white":"text-slate-400 hover:text-indigo-600 hover:bg-indigo-50"}`,children:X&&p?E.jsx(Ob,{size:14}):E.jsx(Np,{size:14})})});case"isMarked":return E.jsx("td",{"data-col-id":ne,className:`w-12 px-2 py-0.5 border-r border-slate-100 text-center ${fe}`,children:E.jsx("button",{onClick:()=>L(s.localId),className:"p-0.5 hover:bg-slate-100 rounded",children:E.jsx(Ch,{size:16,className:s.isMarked?"text-red-500 fill-red-500":"text-slate-200"})})});default:const Ee=s[ne],ve=typeof Ee=="object"&&Ee!==null?JSON.stringify(Ee):String(Ee||""),x=u[ne]===s.localId,A=!De||x,C=ne==="japanese"||ne==="hiragana"||ne==="Hiragana";return E.jsx("td",{"data-col-id":ne,className:`px-0 border-r border-slate-100 ${!A&&!y?"bg-slate-100":"bg-white"}`,children:!A&&!y?E.jsx("div",{onClick:()=>w(s.localId,ne),className:"w-full h-full px-2 py-0.5 text-transparent cursor-pointer hover:bg-slate-200 flex items-center justify-center transition-colors group/cell",children:E.jsx(eN,{size:16,className:"text-slate-300 group-hover/cell:text-slate-500"})}):y?E.jsx("input",{className:"w-full h-full px-2 py-0.5 bg-transparent outline-none text-sm border-2 border-transparent focus:border-amber-500 focus:bg-amber-50 transition-all",value:ve,onChange:M=>T(s.localId,ne,M.target.value)}):E.jsx("div",{className:`w-full h-full px-2 py-0.5 flex items-center text-sm leading-tight ${C?"font-bold":""} ${X?"text-indigo-700":"text-slate-800"}`,children:ve})})}};return E.jsx("tr",{className:`group border-b border-slate-100 hover:bg-blue-50/30 transition-colors ${K?"bg-blue-50":X?"bg-indigo-50 border-indigo-200":"bg-white"}`,children:e.map(ne=>E.jsx(xs.Fragment,{children:(!i.find(me=>me.id===ne)?.editOnly||y)&&Y(ne)},ne))})}),zN=({playbackMode:s,playbackQueue:e,currentIndex:i,vocabList:r,isPlaying:l,audioConfig:u,onPrevTrack:d,onNextTrack:p,onTogglePlayPause:g,onCycleRepeat:y,onCycleSpeed:T,onHide:w,onToggleMark:I})=>{if(s!=="playlist"||e.length===0)return null;const L=r.find(X=>X.localId===e[i]);return L?E.jsxs("div",{className:"w-full bg-white/95 backdrop-blur-sm border-t border-slate-200 h-12 flex items-center justify-between px-3 md:px-4 shadow-[0_-4px_10px_-1px_rgba(0,0,0,0.1)] z-50 transition-transform duration-300",children:[E.jsxs("div",{className:"flex items-center gap-2 w-1/4 min-w-0",children:[E.jsx("div",{className:"bg-indigo-100 p-1.5 rounded-lg text-indigo-600 hidden md:block shrink-0",children:E.jsx(iN,{size:18})}),E.jsxs("div",{className:"overflow-hidden flex flex-col justify-center",children:[E.jsx("div",{className:"font-bold text-slate-800 truncate text-sm leading-tight",children:L.japanese}),E.jsx("div",{className:"text-[10px] text-slate-500 truncate leading-tight",children:L.bangla})]})]}),E.jsxs("div",{className:"flex items-center justify-center gap-2 flex-1",children:[E.jsx("button",{onClick:d,className:"text-slate-400 hover:text-indigo-600 hover:bg-slate-100 p-1.5 rounded-full transition-colors",children:E.jsx(bN,{size:18})}),E.jsx("button",{onClick:g,className:"flex-shrink-0 w-9 h-9 flex items-center justify-center rounded-full shadow-sm transform active:scale-95 transition-all bg-indigo-600 text-white hover:bg-indigo-700",children:l?E.jsx(Ob,{size:18,fill:"white"}):E.jsx(Np,{size:18,fill:"white",className:"ml-0.5"})}),E.jsx("button",{onClick:p,className:"text-slate-400 hover:text-indigo-600 hover:bg-slate-100 p-1.5 rounded-full transition-colors",children:E.jsx(wN,{size:18})}),E.jsx("button",{onClick:()=>I(L.id||L.localId),className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full transition-colors order-last outline-none ${L.isMarked?"text-amber-400 bg-amber-50":"text-slate-300 hover:text-amber-400 hover:bg-slate-50"}`,title:L.isMarked?"Unmark":"Mark",children:E.jsx(AN,{size:18,fill:L.isMarked?"currentColor":"none"})}),E.jsxs("div",{className:"hidden md:block text-[9px] text-slate-400 font-mono tracking-widest uppercase ml-2",children:[i+1," / ",e.length,"  ",u.repeatMode.toUpperCase()]})]}),E.jsxs("div",{className:"flex items-center gap-2 w-1/4 justify-end min-w-0",children:[E.jsxs("div",{className:"relative group shrink-0",children:[E.jsx("select",{value:u.repeatPerItem,onChange:X=>{const K=parseInt(X.target.value);y(K)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",children:[1,2,3,5,10,20,30,40,50,100].map(X=>E.jsxs("option",{value:X,children:[X,"x"]},X))}),E.jsxs("button",{className:`px-2 py-1 rounded-[6px] flex items-center gap-1 transition-all ${u.repeatPerItem>1?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"}`,title:`Repeat: ${u.repeatPerItem}x`,children:[E.jsx(mN,{size:14}),E.jsxs("span",{className:"text-[10px] font-bold",children:[u.repeatPerItem,"x"]})]})]}),E.jsxs("button",{onClick:T,className:"px-2 py-1 rounded-[6px] bg-slate-100 text-slate-500 text-[10px] font-bold w-10 hover:bg-slate-200 transition-colors",title:"Speed",children:[u.speed,"x"]}),E.jsx("button",{onClick:w,className:"p-1 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors ml-1",title:"Hide",children:E.jsx(du,{size:18})})]})]}):null},BN=({colId:s,def:e,isEditMode:i,sortConfig:r,onSort:l,columnVisibility:u,onDragStart:d,onDragOver:p,onDrop:g,columnWidths:y,setColumnWidths:T})=>{if(!e||u[s]===!1)return null;const w=e.fixed||e.id==="selection"||e.id==="delete",I=L=>{L.preventDefault(),L.stopPropagation();const X=L.clientX,K=y[s]||160,Y=document.getElementById(`col-${s}`);let ne;const me=De=>{ne&&cancelAnimationFrame(ne),ne=requestAnimationFrame(()=>{const Ee=De.clientX-X,ve=Math.max(80,K+Ee);Y&&(Y.style.width=`${ve}px`)})},fe=De=>{document.removeEventListener("mousemove",me),document.removeEventListener("mouseup",fe),ne&&cancelAnimationFrame(ne);const Ee=De.clientX-X,ve=Math.max(80,K+Ee);T(x=>({...x,[s]:ve}))};document.addEventListener("mousemove",me),document.addEventListener("mouseup",fe)};return E.jsxs("th",{draggable:!w,onDragStart:L=>!w&&d(L,s),onDragOver:w?void 0:p,onDrop:L=>!w&&g(L,s),"data-col-id":s,className:`
        relative
        px-2 py-1
        bg-slate-50
        border-b border-r border-slate-200
        text-xs font-bold uppercase tracking-wider
        select-none
        ${w?"text-center":"cursor-move hover:bg-slate-100"}
        ${i?"bg-amber-50 border-amber-200":""}
      `,children:[E.jsxs("div",{className:"flex items-center gap-1",onClick:()=>e.sortable&&l(e.id),children:[e.icon&&E.jsx(e.icon,{size:14}),E.jsx("span",{children:e.label}),r.key===e.id&&E.jsx("span",{className:"ml-auto",children:r.direction==="asc"?"":""})]}),!w&&E.jsx("div",{onMouseDown:I,className:`\r
            absolute top-0 right-0\r
            h-full w-1\r
            cursor-col-resize\r
            hover:bg-indigo-400\r
          `})]})},Uv=({label:s,items:e,activeValues:i,onToggle:r,color:l="blue"})=>{if(!e||e.length===0)return null;const u=Array.isArray(i)?i:[],d={blue:{active:"bg-blue-600 text-white shadow-md shadow-blue-200",inactive:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-blue-300"},indigo:{active:"bg-indigo-600 text-white shadow-md shadow-indigo-200",inactive:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-indigo-300"}},p=d[l]||d.blue;return E.jsxs("div",{className:"flex items-center gap-2 overflow-hidden px-1 select-none transition-all duration-300 h-7 border-b border-transparent",children:[E.jsx("div",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider mr-0.5 w-[50px] shrink-0 text-right",children:s==="L"?"Lesson":"Can-do"}),E.jsxs("div",{className:"flex gap-1 overflow-x-auto items-center h-full no-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[E.jsx("style",{children:" .no-scrollbar::-webkit-scrollbar { display: none; } "}),e.map(([g,y])=>{const T=u.includes(g);return E.jsxs("button",{onClick:()=>r(g),title:`${s==="L"?"Lesson":"Can-do"} ${g}  ${y} words`,className:`
                                    flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold transition-all whitespace-nowrap border shrink-0
                                    ${T?p.active:p.inactive}
                                `,children:[E.jsxs("span",{children:[s,g]}),E.jsx("span",{className:`text-[9px] opacity-70 ${T?"bg-white/20 px-1 rounded-[2px]":"text-slate-400 bg-slate-100 px-1 rounded-[2px]"}`,children:y}),T&&E.jsx(kb,{size:10,className:"ml-0.5 opacity-80 hover:opacity-100"})]},g)})]})]})},zv=({label:s,options:e,selectedValues:i,onChange:r})=>{const l=Array.isArray(i)?i:[],u=l.length===0,[d,p]=Z.useState(!1),g=xs.useRef(null),[y,T]=Z.useState({top:0,left:0}),w=xs.useRef(null);xs.useEffect(()=>{const K=ne=>{g.current&&!g.current.contains(ne.target)&&(!w.current||!w.current.contains(ne.target))&&p(!1)},Y=ne=>{w.current&&w.current.contains(ne.target)||d&&p(!1)};return document.addEventListener("mousedown",K),window.addEventListener("scroll",Y,!0),()=>{document.removeEventListener("mousedown",K),window.removeEventListener("scroll",Y,!0)}},[d]);const I=K=>{let Y;l.includes(K)?Y=l.filter(ne=>ne!==K):Y=[...l,K],r(Y)},L=()=>{r([])},X=u?"All":l.length===1?l[0]:`${l.length} selected`;return E.jsxs("div",{className:"relative group flex-shrink-0",ref:g,children:[E.jsxs("button",{onClick:K=>{if(!d){const Y=K.currentTarget.getBoundingClientRect();T({top:Y.bottom+4,left:Y.left})}p(!d)},title:`${s} Filter`,className:`
                    flex items-center justify-center gap-2 appearance-none 
                    transition-all duration-200
                    text-xs font-bold 
                    rounded shadow-sm
                    focus:outline-none 
                    ${d?"ring-2 ring-indigo-200":""}
                    h-8 min-w-[32px] md:min-w-[100px] md:px-2 md:justify-between px-0
                    ${u?"bg-white text-slate-700 border border-slate-300 hover:border-indigo-400":"bg-indigo-600 text-white border border-indigo-600 shadow-indigo-200"}
                `,children:[E.jsxs("div",{className:"md:hidden flex items-center justify-center gap-0.5",children:[E.jsx("span",{className:"text-[11px] uppercase",children:s.charAt(0)}),E.jsx(du,{size:10,strokeWidth:3,className:`transition-transform ${d?"rotate-180":""} opacity-80`})]}),E.jsxs("span",{className:"hidden md:block truncate max-w-[100px]",children:[s,": ",X]}),E.jsx(du,{size:12,className:`hidden md:block transition-transform ${d?"rotate-180":""} ${u?"text-slate-400":"text-indigo-200"}`})]}),d&&E.jsxs("div",{ref:w,style:{position:"fixed",top:y.top,left:y.left},className:"w-48 bg-white rounded-lg shadow-xl border border-slate-200 z-[9999] max-h-64 overflow-y-auto p-1 animate-in fade-in zoom-in-95 duration-100 origin-top-left",children:[E.jsxs("div",{onClick:()=>{L(),p(!1)},className:`flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer text-xs font-bold ${u?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[E.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${u?"bg-indigo-600 border-indigo-600":"border-slate-300 bg-white"}`,children:u&&E.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-sm"})}),"All"]}),E.jsx("div",{className:"h-px bg-slate-100 my-1"}),e.map(K=>{const Y=l.includes(K);return E.jsxs("div",{onClick:()=>I(K),className:`flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer text-xs font-medium ${Y?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[E.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${Y?"bg-indigo-600 border-indigo-600 text-white":"border-slate-300 bg-white"}`,children:Y&&E.jsx("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),s," ",K]},K)})]})]})},qN=({currentFolderId:s,folders:e,vocabList:i,isEditMode:r,hasUnsavedChanges:l,filters:u,hiddenColumns:d,viewMode:p,onFilterChange:g,onViewModeChange:y,onVisibilityToggle:T,onSave:w,onDiscard:I,onPlaylistStart:L,setIsColumnManagerOpen:X,isSyncing:K,filteredData:Y,onRefresh:ne,onShuffle:me,isPlaying:fe,onTogglePlay:De,showingCount:Ee,totalCount:ve})=>{const[x,A]=Z.useState(!1),C=xs.useRef(null),[M,O]=Z.useState(0),[V,R]=Z.useState(typeof window<"u"?window.innerWidth>=768:!0);xs.useLayoutEffect(()=>{const ue=()=>R(window.innerWidth>=768);window.addEventListener("resize",ue);const ge=new ResizeObserver(Se=>{for(let Ie of Se)Ie.contentRect.width>0&&O(Math.floor(Ie.contentRect.width))});return C.current&&ge.observe(C.current),C.current&&O(C.current.offsetWidth),()=>{window.removeEventListener("resize",ue),ge.disconnect()}},[]);const tt=90,je=36;let F=M-tt;const ae=V||F>=je;!V&&ae&&(F-=je);const te=V||!r&&F>=je;!V&&te&&!r&&(F-=je);const ce=V||!r&&F>=je;!V&&ce&&!r&&(F-=je);const be=V||F>=je;!V&&be&&(F-=je);const D=V||F>=je;!V&&D&&(F-=je);const B=V||F>=je;!V&&B&&(F-=je);const se=V||F>=100,oe=Z.useMemo(()=>{const ue={};return i.forEach(ge=>{const Se=ge.lesson||"?";ue[Se]=(ue[Se]||0)+1}),Object.entries(ue).sort((ge,Se)=>(parseInt(ge[0])||999)-(parseInt(Se[0])||999))},[i]),we=Z.useMemo(()=>{const ue={};return i.forEach(ge=>{const Se=ge.cando||"?";ue[Se]=(ue[Se]||0)+1}),Object.entries(ue).sort()},[i]);return E.jsxs("div",{className:"bg-white border-b border-slate-200 flex flex-col flex-shrink-0 z-20 shadow-sm sticky top-0 max-w-[100vw]",children:[x&&E.jsxs("div",{className:"flex flex-col gap-0.5 p-0.5 bg-slate-50/50 border-b border-slate-100 overflow-hidden animate-in slide-in-from-top-2 duration-300",children:[E.jsx(Uv,{label:"L",items:oe,activeValues:u.lesson,onToggle:ue=>{const ge=u.lesson||[];let Ie=ge.includes(ue)?ge.filter(Dt=>Dt!==ue):[...ge,ue];g({...u,lesson:Ie})},color:"blue"}),E.jsx(Uv,{label:"C",items:we,activeValues:u.cando,onToggle:ue=>{const ge=u.cando||[];let Ie=ge.includes(ue)?ge.filter(Dt=>Dt!==ue):[...ge,ue];g({...u,cando:Ie})},color:"indigo"})]}),E.jsx("div",{className:"bg-white z-10 border-b border-slate-200 shadow-sm max-w-[100vw]",children:E.jsxs("div",{ref:C,className:"flex items-center gap-1 p-1 overflow-x-auto no-scrollbar",children:[K&&E.jsx(Db,{size:12,className:"text-blue-600 animate-spin mr-2 flex-shrink-0"}),l&&!K&&E.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse flex-shrink-0",title:"Unsaved Changes"}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx(zv,{label:"Lesson",options:[...new Set(i.map(ue=>String(ue.lesson)))].sort((ue,ge)=>(parseInt(ue)||0)-(parseInt(ge)||0)),selectedValues:u.lesson,onChange:ue=>g({...u,lesson:ue})}),E.jsx(zv,{label:"Can-do",options:[...new Set(i.map(ue=>String(ue.cando)))].sort((ue,ge)=>(parseInt(ue)||0)-(parseInt(ge)||0)),selectedValues:u.cando,onChange:ue=>g({...u,cando:ue})})]}),E.jsx("div",{className:"w-px h-6 bg-slate-100 mx-1 flex-shrink-0"}),ae&&E.jsxs("button",{onClick:()=>y("problem"),className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-bold transition-all whitespace-nowrap ${p==="problem"?"bg-red-100 text-red-600 border border-red-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,title:"Toggle Marked View",children:[E.jsx(Ch,{size:14}),E.jsx("span",{className:"hidden md:inline",children:"Marked"})]}),!r&&E.jsxs(E.Fragment,{children:[te&&E.jsx("button",{onClick:fe?De:L,disabled:K,className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg shadow-sm transition-colors disabled:opacity-50 ${fe?"bg-slate-800 text-white hover:bg-slate-900":"bg-white border border-slate-200 text-slate-800 hover:bg-slate-50"}`,title:fe?"Pause":"Start Playlist",children:fe?E.jsxs("div",{className:"flex gap-0.5",children:[E.jsx("div",{className:"w-1 h-3 bg-current rounded-full"}),E.jsx("div",{className:"w-1 h-3 bg-current rounded-full"})]}):E.jsx(Np,{size:14,className:"ml-0.5"})}),ce&&E.jsx("button",{onClick:me,disabled:K,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-purple-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Shuffle",children:E.jsx(vN,{size:14})})]}),D&&E.jsx("button",{onClick:ne,disabled:K,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-slate-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Refresh",children:E.jsx(fN,{size:14,className:K?"animate-spin":""})}),se&&E.jsxs("div",{className:"hidden md:flex items-center gap-0.5 scale-90 origin-left",children:[E.jsx("button",{onClick:()=>T("bangla"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${d.bangla?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"BN"}),E.jsx("button",{onClick:()=>T("japanese"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${d.japanese?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"JP"})]}),se&&E.jsxs("div",{className:"md:hidden flex items-center gap-0.5",children:[E.jsx("button",{onClick:()=>T("bangla"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${d.bangla?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"BN"}),E.jsx("button",{onClick:()=>T("japanese"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${d.japanese?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"JP"})]}),r&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:I,className:"bg-white border px-2 py-1 rounded text-xs whitespace-nowrap",children:E.jsx(NN,{size:14})}),E.jsx("button",{onClick:w,className:"bg-green-600 text-white px-2 py-1 rounded text-xs whitespace-nowrap",children:E.jsx(Mb,{size:14})})]}),be&&E.jsxs("button",{onClick:()=>A(!x),className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-semibold transition-all shadow-sm ${x?"bg-indigo-600 text-white border border-indigo-600 shadow-indigo-200":"bg-white text-slate-600 border border-slate-200"}`,title:x?"Hide Chips":"Show Chips",children:[x?E.jsx(du,{size:14}):E.jsx(Ib,{size:14}),E.jsx("span",{className:"hidden md:inline",children:"Chips"})]}),B&&E.jsx("button",{onClick:()=>X(!0),className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-slate-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Columns",children:E.jsx(yN,{size:14})}),E.jsxs("div",{className:"hidden md:flex items-center gap-2 ml-auto mr-2 text-[11px] bg-slate-100 px-3 py-1.5 rounded-full border border-slate-200",children:[E.jsx("div",{className:"font-bold text-slate-700 max-w-[200px] truncate",children:s==="root"?"My Drive":e.find(ue=>ue.id===s)?.name||"..."}),E.jsx("div",{className:"text-slate-300",children:"|"}),E.jsxs("div",{className:"text-slate-600 font-medium",children:["Showing ",E.jsx("span",{className:"text-slate-900 font-bold font-mono",children:Ee!==void 0?Ee:Y.length})," / ",E.jsx("span",{className:"font-mono",children:ve!==void 0?ve:i.length})]})]})]})})]})},HN=({isOpen:s,onClose:e,allColumns:i,columnOrder:r,setColumnOrder:l,columnVisibility:u,setColumnVisibility:d})=>{if(!s)return null;const p=(y,T)=>{if(T<0||T>=r.length)return;const w=[...r],[I]=w.splice(y,1);w.splice(T,0,I),l(w)},g=y=>{d(T=>({...T,[y]:!T[y]}))};return E.jsx("div",{className:"fixed inset-0 z-[120] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden flex flex-col max-h-[80vh]",children:[E.jsxs("div",{className:"p-4 border-b bg-slate-50 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-slate-700",children:"Manage Columns"}),E.jsx("button",{onClick:e,children:E.jsx(Nb,{size:20,className:"text-slate-400 hover:text-slate-600"})})]}),E.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-2",children:r.map((y,T)=>{const w=i.find(L=>L.id===y);if(!w)return null;const I=u[y]!==!1;return E.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg border ${I?"bg-white border-slate-200":"bg-slate-50 border-slate-100 opacity-60"}`,children:[E.jsx("input",{type:"checkbox",checked:I,onChange:()=>g(w.id),className:"rounded text-indigo-600 focus:ring-indigo-500",disabled:w.id==="selection"}),E.jsx("span",{className:"flex-1 text-sm font-bold text-slate-700",children:w.label||(w.icon?E.jsx(w.icon,{size:14}):"System")}),I&&E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>p(T,T-1),disabled:T===0||w.fixed||w.id==="selection"||w.id==="delete",className:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-indigo-600 disabled:opacity-20",children:E.jsx(qI,{size:16})}),E.jsx("button",{onClick:()=>p(T,T+1),disabled:T===r.length-1||w.fixed||w.id==="selection"||w.id==="delete",className:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-indigo-600 disabled:opacity-20",children:E.jsx(du,{size:16})})]})]},w.id)})}),E.jsxs("div",{className:"p-4 border-t bg-slate-50 text-right",children:[E.jsx("button",{onClick:()=>{l(i.map(T=>T.id));const y={};i.forEach(T=>y[T.id]=!0),d(y)},className:"text-xs text-red-500 font-bold hover:underline mr-4",children:"Reset Default"}),E.jsx("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 text-sm",children:"Done"})]})]})})},FN=({isOpen:s,onClose:e,onImport:i})=>{const[r,l]=Z.useState("input"),[u,d]=Z.useState(""),[p,g]=Z.useState([]),[y,T]=Z.useState([]);if(!s)return null;const w=()=>{const K=u.trim().split(`
`).map(ne=>ne.split("	")).filter(ne=>ne.length>0&&ne.some(me=>me.trim()));if(K.length===0){alert("No data found");return}g(K);const Y=Math.max(...K.map(ne=>ne.length));T(new Array(Y).fill("skip")),l("mapping")},I=(X,K)=>{const Y=[...y];K!=="skip"&&Y.includes(K)&&(Y[Y.indexOf(K)]="skip"),Y[X]=K,T(Y)},L=()=>{const X=p.map(K=>{const Y={};return y.forEach((ne,me)=>{ne!=="skip"&&(Y[ne]=K[me])}),Y});i(X),l("input"),d(""),g([])};return E.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r==="input"?"Step 1: Paste Data":"Step 2: Map Columns"}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:r==="input"?"Paste your vocabulary from Excel or Google Sheets.":"Assign column types. Hiragana is required."})]}),E.jsx("button",{onClick:e,children:E.jsx(Nb,{className:"text-slate-400 hover:text-red-500",size:24})})]}),E.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:r==="input"?E.jsx("textarea",{autoFocus:!0,value:u,onChange:X=>d(X.target.value),placeholder:`Example:
			1	1
			1	1`,className:"w-full h-96 p-4 border border-slate-300 rounded-xl font-mono text-sm bg-slate-50 focus:ring-2 focus:ring-indigo-500 outline-none resize-none"}):E.jsx("div",{className:"space-y-6",children:E.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[E.jsx("thead",{children:E.jsx("tr",{children:y.map((X,K)=>E.jsxs("th",{className:"p-2 border-b border-r border-slate-200 bg-slate-50 min-w-[150px]",children:[E.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:["Column ",String.fromCharCode(65+K)]}),E.jsxs("select",{value:X,onChange:Y=>I(K,Y.target.value),className:`w-full p-2 rounded border text-sm font-bold ${X==="skip"?"text-slate-400 border-slate-200":"text-indigo-700 border-indigo-300 bg-indigo-50"}`,children:[E.jsx("option",{value:"skip",children:"Skip"}),E.jsx("option",{value:"japanese",children:"Hiragana (Req)"}),E.jsx("option",{value:"bangla",children:"Bangla"}),E.jsx("option",{value:"lesson",children:"Lesson No."}),E.jsx("option",{value:"cando",children:"Can-do No."})]})]},K))})}),E.jsx("tbody",{children:p.slice(0,5).map((X,K)=>E.jsx("tr",{className:"border-b border-slate-100 last:border-0",children:y.map((Y,ne)=>E.jsx("td",{className:`p-3 border-r border-slate-100 ${y[ne]==="skip"?"text-slate-400 bg-slate-50":"text-slate-800"}`,children:X[ne]||E.jsx("span",{className:"italic text-slate-300",children:"empty"})},ne))},K))})]})})})}),E.jsx("div",{className:"p-6 border-t bg-slate-50 rounded-b-2xl flex justify-between items-center",children:E.jsxs("div",{className:"flex gap-3 ml-auto",children:[r==="mapping"&&E.jsx("button",{onClick:()=>l("input"),className:"px-4 py-2.5 text-slate-600 font-bold hover:bg-slate-200 rounded-lg transition-colors",children:"Back"}),r==="input"?E.jsxs("button",{onClick:w,disabled:!u.trim(),className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors shadow-sm flex items-center gap-2",children:["Next Step ",E.jsx(Ib,{size:16})]}):E.jsxs("button",{onClick:L,disabled:!y.includes("japanese"),className:"px-6 py-2.5 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:bg-slate-400 shadow-sm transition-colors flex items-center gap-2",children:[E.jsx(XI,{size:16})," Confirm Import"]})]})})]})})},GN=({user:s,isMobile:e})=>{const[i,r]=Z.useState(!1),l=Z.useRef(null);Z.useEffect(()=>{const d=p=>{l.current&&!l.current.contains(p.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const u=async()=>{try{await M1(br)}catch(d){console.error("Logout failed",d)}};return s?E.jsxs("div",{className:"relative p-4 mt-auto border-t border-slate-800",ref:l,children:[E.jsxs("button",{onClick:()=>r(!i),className:`flex items-center gap-3 w-full p-2 rounded-full hover:bg-slate-800 transition-colors ${i?"bg-slate-800":""}`,title:s.email,children:[E.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-slate-600 bg-slate-700 flex items-center justify-center shrink-0",children:s.photoURL?E.jsx("img",{src:s.photoURL,alt:"User",className:"w-full h-full object-cover"}):E.jsx("div",{className:"text-slate-300 font-bold text-sm",children:(s.displayName||s.email||"U").charAt(0).toUpperCase()})}),E.jsxs("div",{className:`flex-1 text-left overflow-hidden ${e?"block":"hidden lg:block"}`,children:[E.jsx("div",{className:"text-sm font-medium text-white truncate",children:s.displayName||"User"}),E.jsx("div",{className:"text-xs text-slate-400 truncate",children:s.email})]})]}),i&&E.jsxs("div",{className:"absolute bottom-full left-4 mb-2 w-48 bg-white rounded-lg shadow-xl overflow-hidden py-1 z-50 animate-in fade-in zoom-in-95 origin-bottom-left",style:{left:e?"16px":"64px",bottom:"16px"},children:[E.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:[E.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:s.displayName||"User"}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email})]}),E.jsxs("button",{onClick:u,className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 font-medium",children:[E.jsx(aN,{size:16}),"Sign out"]})]})]}):null},Bv=({folders:s,currentFolderId:e,handleFolderChange:i,isMobile:r=!1,user:l})=>E.jsxs("div",{className:`${r?"w-full":"w-16 lg:w-64"} bg-slate-900 border-r border-slate-800 flex flex-col h-full flex-shrink-0 transition-all`,children:[E.jsxs("div",{className:`p-4 h-16 border-b border-slate-800 flex items-center ${r?"justify-start":"justify-center lg:justify-start"} gap-3`,children:[E.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg text-white flex items-center justify-center font-bold text-lg shadow-lg flex-shrink-0",children:""}),E.jsxs("span",{className:`${r?"block":"hidden lg:block"} font-bold text-white text-lg`,children:["Irodori",E.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-1",children:[E.jsx("div",{className:`${r?"block":"hidden lg:block"} px-4 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2`,children:"My Workbooks"}),E.jsxs("button",{onClick:()=>i("root"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors ${e==="root"?"bg-slate-800 text-white border-r-2 border-indigo-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[E.jsx(Pv,{size:20,className:"flex-shrink-0"}),E.jsx("span",{className:`${r?"block":"hidden lg:block"}`,children:"All Books"})]}),s.filter(u=>u.parentId==="root").map(u=>E.jsx("div",{className:"group relative",children:E.jsxs("button",{onClick:()=>i(u.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors ${e===u.id?"bg-slate-800 text-white border-r-2 border-indigo-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[E.jsx(Pv,{size:20,className:`flex-shrink-0 ${e===u.id?"text-yellow-400 fill-yellow-400":""}`}),E.jsx("span",{className:`${r?"block":"hidden lg:block"}`,children:u.name})]})},u.id))]}),E.jsx(GN,{user:l,isMobile:r})]}),QN=({currentPage:s,totalPages:e,itemsPerPage:i,onPageChange:r,onItemsPerPageChange:l})=>{const u=[50,100,150,250,500,1e3],d=Z.useMemo(()=>{const p=[];if(e<=7)for(let g=1;g<=e;g++)p.push(g);else if(s<=4){for(let g=1;g<=5;g++)p.push(g);p.push("..."),p.push(e)}else if(s>=e-3){p.push(1),p.push("...");for(let g=e-4;g<=e;g++)p.push(g)}else p.push(1),p.push("..."),p.push(s-1),p.push(s),p.push(s+1),p.push("..."),p.push(e);return p},[s,e]);return E.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-between gap-2 py-2 px-3 bg-white border-t border-slate-100 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.02)] z-20 text-xs",children:[E.jsxs("div",{className:"flex items-center gap-2 group order-1",children:[E.jsx("label",{htmlFor:"rows-per-page",className:"hidden sm:block text-[10px] font-bold uppercase tracking-wider text-slate-400 group-hover:text-slate-600 transition-colors",children:"Rows"}),E.jsxs("div",{className:"relative",children:[E.jsx("select",{id:"rows-per-page",value:i,onChange:p=>l(Number(p.target.value)),className:"appearance-none bg-slate-50 border border-slate-200 text-slate-700 text-xs font-bold rounded pl-2 pr-6 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 hover:border-slate-300 transition-all cursor-pointer shadow-sm",children:u.map(p=>E.jsx("option",{value:p,children:p},p))}),E.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-slate-500",children:E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),E.jsxs("div",{className:"flex items-center gap-1 order-2",children:[E.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[E.jsx(Yc,{onClick:()=>r(1),disabled:s===1,title:"First Page",children:E.jsx(FI,{size:14})}),E.jsx(Yc,{onClick:()=>r(s-1),disabled:s===1,title:"Previous Page",children:E.jsx(jI,{size:14})})]}),E.jsx("div",{className:"flex items-center gap-1",children:d.map((p,g)=>E.jsx(xs.Fragment,{children:p==="..."?E.jsx("span",{className:"text-slate-400 px-0.5 select-none font-medium",children:"..."}):E.jsx("button",{onClick:()=>r(p),className:`
                    min-w-[28px] h-7 px-1.5 rounded text-xs font-bold transition-all duration-200 border
                    ${s===p?"bg-indigo-600 text-white border-indigo-600 shadow-sm shadow-indigo-200":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:text-indigo-600 hover:border-indigo-200"}
                  `,children:p})},g))}),E.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[E.jsx(Yc,{onClick:()=>r(s+1),disabled:s===e,title:"Next Page",children:E.jsx(zI,{size:14})}),E.jsx(Yc,{onClick:()=>r(e),disabled:s===e,title:"Last Page",children:E.jsx(QI,{size:14})})]})]})]})},Yc=({onClick:s,disabled:e,title:i,children:r})=>E.jsx("button",{onClick:s,disabled:e,title:i,className:`
      p-1.5 rounded transition-all duration-200 flex items-center justify-center border
      ${e?"text-slate-300 bg-slate-50 border-transparent cursor-not-allowed":"text-slate-500 bg-white border-slate-200 hover:text-indigo-600 hover:bg-indigo-50 hover:border-indigo-100 active:scale-95"}
    `,children:r});var Xc=qv();const Lm={YIELD_TO_UI:!1,PRELOAD_VOICE:!0,FORCE_RELOAD_ON_EVERY_CLICK:!1,FALLBACK_TIMEOUT_MS:50};window._speechUtteranceHolder=null;window.androidAudioFinished=()=>{window._currentAndroidCallback&&!iu&&(window._currentAndroidCallback(),window._currentAndroidCallback=null)};let oh=!1,iu=!1,ji=0;const Eo=()=>{oh=!0,iu=!0,ji++,window.Android&&window.Android.stop?(window.Android.stop(),window._currentAndroidCallback=null):window.AndroidNative&&window.AndroidNative.stop&&(window.AndroidNative.stop(),window._currentAndroidCallback=null),window.speechSynthesis&&window.speechSynthesis.cancel(),window._speechUtteranceHolder=null};let Tr=null;const Rh=()=>{if(!Tr)try{const s=window.speechSynthesis.getVoices();Tr=s.find(e=>e.lang==="ja-JP"&&/natural|google|premium|kyoko|otoya/i.test(e.name)),Tr||(Tr=s.find(e=>e.lang==="ja-JP"))}catch(s){console.warn("TTS Voice Load Error",s)}};window.speechSynthesis&&Lm.PRELOAD_VOICE&&setTimeout(()=>{Rh(),window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=Rh)},100);const KN=(s,e)=>{YN(s,e)},YN=(s,e)=>{if(ji++,window.Android&&window.Android.speak){const l=ji;window._currentAndroidCallback=()=>{l===ji&&e()},window.Android.speak(s);return}if(window.AndroidNative&&window.AndroidNative.speak){const l=ji;window._currentAndroidCallback=()=>{l===ji&&e()},window.AndroidNative.speak(s);return}if(!window.speechSynthesis){e&&e();return}if(!s){e&&e();return}try{window.speechSynthesis.cancel()}catch(l){console.warn("TTS Cancel failed",l)}const i=(l=1)=>{try{oh=!1,iu=!1;const u=new SpeechSynthesisUtterance(s),d=ji;u.lang="ja-JP",u.rate=1,(!Tr||Lm.FORCE_RELOAD_ON_EVERY_CLICK)&&Rh(),Tr&&(u.voice=Tr),window._speechUtteranceHolder=u,u.onstart=()=>{u._hasStarted=!0},u.onend=()=>{iu||d===ji&&(window._speechUtteranceHolder=null,e&&e(),iu=!1)},u.onerror=p=>{if(p.error==="interrupted"){if(d!==ji)return;window._speechUtteranceHolder=null,e&&e();return}d===ji&&(console.error(`TTS Error (Attempt ${l})`,p),window._speechUtteranceHolder=null,!u._hasStarted&&l<=2&&!oh?(console.log("Retrying TTS..."),setTimeout(()=>i(l+1),50)):e&&e())},window.speechSynthesis.speak(u)}catch(u){console.error("TTS Speak Error",u),l<=2&&!oh?setTimeout(()=>i(l+1),50):e&&e()}},r=window.speechSynthesis.getVoices();if(Tr||r.length>0)i();else{const l=()=>{Rh(),i(),window.speechSynthesis.removeEventListener("voiceschanged",l)};window.speechSynthesis.addEventListener("voiceschanged",l),setTimeout(()=>{window._speechUtteranceHolder===null&&i()},Lm.FALLBACK_TIMEOUT_MS)}},XN={playbackMode:"idle",isPlaying:!1,queue:[],currentIndex:-1,repeatCount:0};function $N(s,e){switch(e.type){case"START_PLAYLIST":return{...s,playbackMode:"playlist",isPlaying:!0,queue:e.queue,currentIndex:e.startIndex,repeatCount:0};case"PLAY_SINGLE":return{...s,playbackMode:"single",isPlaying:!0,queue:[e.id],currentIndex:0,repeatCount:0};case"STOP":return{...s,isPlaying:!1,playbackMode:"idle",queue:[],currentIndex:-1,repeatCount:0};case"PAUSE":return{...s,isPlaying:!1};case"RESUME":return{...s,isPlaying:!0};case"NEXT":return s.currentIndex<s.queue.length-1?{...s,currentIndex:s.currentIndex+1,repeatCount:0}:s;case"PREV":return s.currentIndex>0?{...s,currentIndex:s.currentIndex-1,repeatCount:0}:s;case"REPEAT_INCREMENT":return{...s,repeatCount:s.repeatCount+1};case"LOOP_BACK":return{...s,currentIndex:0,repeatCount:0};default:return s}}const JN=(s,e,i)=>{const[r,l]=Z.useReducer($N,XN),[u,d]=Z.useState({speed:1,repeatMode:"1x",includeBangla:!1}),[p,g]=Z.useState(!1),y=Z.useRef(r),T=Z.useRef(u);Z.useEffect(()=>{y.current=r,T.current=u},[r,u]);const w=Z.useCallback(()=>{r.isPlaying?(Eo(),l({type:"PAUSE"})):l({type:"RESUME"})},[r.isPlaying]),I=Z.useCallback(()=>{Eo(),l({type:"STOP"}),g(!1)},[]),L=Z.useCallback((x=0)=>{const A=e.map(C=>C.localId);l({type:"START_PLAYLIST",queue:A,startIndex:x}),g(!1)},[e]),X=Z.useCallback(x=>{Eo(),l({type:"PLAY_SINGLE",id:x.localId})},[]),K=Z.useCallback(()=>{l({type:"NEXT"})},[]),Y=Z.useCallback(()=>{l({type:"PREV"})},[]),ne=Z.useCallback(()=>{const x=y.current,A=T.current;if(!x.isPlaying)return;const C=A.repeatPerItem||1;if(x.repeatCount<C-1){setTimeout(()=>l({type:"REPEAT_INCREMENT"}),500);return}if(x.currentIndex<x.queue.length-1){setTimeout(()=>l({type:"NEXT"}),800);return}if(x.playbackMode==="playlist"&&A.playlistLoop){setTimeout(()=>l({type:"LOOP_BACK"}),800);return}Eo(),l({type:"STOP"}),i("Playback Finished")},[i]),me=Z.useRef(!1);Z.useEffect(()=>{if(!r.isPlaying||r.currentIndex===-1||r.queue.length===0)return;const x=r.queue[r.currentIndex],A=s.find(O=>O.localId===x)||s.find(O=>O.id===x);if(!A){ne();return}Eo();const C=()=>{KN(A.japanese,()=>{ne()})};let M;return me.current?M=setTimeout(()=>{me.current=!1,C()},100):C(),()=>{clearTimeout(M),Eo()}},[r.currentIndex,r.isPlaying,r.repeatCount,r.playbackMode,r.queue,s,ne]);const fe=Z.useCallback(()=>{me.current=!0,Xc.flushSync(()=>{K()})},[K]),De=Z.useCallback(()=>{me.current=!0,Xc.flushSync(()=>{Y()})},[Y]),Ee=Z.useCallback(x=>{me.current=!0,Xc.flushSync(()=>{L(x)})},[L]),ve=Z.useCallback(x=>{me.current=!0,Xc.flushSync(()=>{X(x)})},[X]);return{playbackMode:r.playbackMode,isPlaying:r.isPlaying,playbackQueue:r.queue,currentIndex:r.currentIndex,audioConfig:u,isAudioBarManuallyHidden:p,setAudioConfig:d,setIsAudioBarManuallyHidden:g,togglePlayPause:w,stopPlaylist:I,startPlaylist:Ee,handlePlaySingle:ve,onPrevTrack:De,onNextTrack:fe}},WN=(s=[],e,i,r,l,u,d,p)=>{const g=d?p:s,y=Array.isArray(g)?g:[];return{filteredAndSortedData:Z.useMemo(()=>{let w=[...y];if(e!=="root"&&(w=w.filter(I=>I.folderId===e)),i){const I=i.toLowerCase();w=w.filter(L=>L.japanese.includes(I)||L.bangla.includes(I))}if(Array.isArray(r.lesson)&&r.lesson.length>0){const I=r.lesson.map(String);w=w.filter(L=>I.includes(String(L.lesson)))}else r.lesson!=="all"&&!Array.isArray(r.lesson)&&(w=w.filter(I=>String(I.lesson)===String(r.lesson)));if(Array.isArray(r.cando)&&r.cando.length>0){const I=r.cando.map(String);w=w.filter(L=>I.includes(String(L.cando)))}else r.cando!=="all"&&!Array.isArray(r.cando)&&(w=w.filter(I=>String(I.cando)===String(r.cando)));return u==="problem"?w=w.filter(I=>I.isMarked):u==="weak"&&(w=w.filter(I=>I.isMarked)),l.key&&(w=[...w].sort((I,L)=>{let X=I[l.key],K=L[l.key];return typeof X=="string"&&(X=X.toLowerCase()),typeof K=="string"&&(K=K.toLowerCase()),(X<K?-1:1)*(l.direction==="asc"?1:-1)})),w},[y,e,i,r,l,u]),safeDataList:y}},ZN=(s,e,i)=>Z.useMemo(()=>{let r=0;return i==="root"?r=s.length:r=s.filter(u=>u.folderId===i).length,{showingCount:e.length,totalCount:r}},[s,e,i]),$h=()=>xh,Jh=()=>br.currentUser?br.currentUser.uid:null,e4=async()=>{const s=$h();if(!s)return null;const e=Jh();if(!e)return console.warn("[Firestore] No user ID available. Skipping load."),null;try{console.log(`[Firestore] Fetching config for ${e}`);const i=zo(s,"users",e,"preferences","config"),r=await Ip(i);return r.exists()?r.data():null}catch(i){return console.error("[Firestore] Failed to load config",i),null}},t4=async s=>{const e=$h();if(!e)return;const i=Jh();if(!i){console.warn("[Firestore] No user ID available. Skipping save.");return}try{console.log(`[Firestore] Saving config for ${i}`,s);const r=zo(e,"users",i,"preferences","config");await No(r,s,{merge:!0})}catch(r){console.error("[Firestore] Failed to save config",r)}},Li={itemsPerPage:"itemsPerPage",columnOrder:"columnOrder",columnVisibility:"columnVisibility",columnWidths:"columnWidths"},Fl={itemsPerPage:500,columnOrder:[],columnVisibility:{},columnWidths:{}};class n4{constructor(){this._isHydrated=!1,this._listeners=new Set,this._backgroundSync()}loadPreferences(){return{itemsPerPage:this._get(Li.itemsPerPage,Fl.itemsPerPage),columnOrder:this._get(Li.columnOrder,Fl.columnOrder),columnVisibility:this._get(Li.columnVisibility,Fl.columnVisibility),columnWidths:this._get(Li.columnWidths,Fl.columnWidths)}}subscribe(e){return this._listeners.add(e),()=>this._listeners.delete(e)}_notifyListeners(){const e=this.loadPreferences();this._listeners.forEach(i=>i(e))}savePreferences(e){if(Object.keys(e).forEach(i=>{Li[i]?this._set(Li[i],e[i]):console.warn(`PreferenceStore: Unknown preference key '${i}'`)}),this._isHydrated){const i={};Object.keys(e).forEach(r=>{Li[r]&&(i[r]=e[r])}),Object.keys(i).length>0&&t4(i)}else console.log("[PreferenceStore] Skipping Firestore save (not hydrated).",e)}async _backgroundSync(){const e=await e4();if(e){console.log("[PreferenceStore] Synced config from Firestore",e);let i=!1;Object.keys(Li).forEach(r=>{if(e[r]!==void 0){const l=this._get(Li[r],Fl[r]);JSON.stringify(l)!==JSON.stringify(e[r])&&(this._set(Li[r],e[r]),i=!0)}}),i&&this._notifyListeners()}this._isHydrated=!0,console.log("[PreferenceStore] Hydration complete. Firestore writes enabled.")}_get(e,i){try{const r=localStorage.getItem(e);return r===null?i:JSON.parse(r)}catch(r){return console.warn(`PreferenceStore: Failed to load '${e}'`,r),i}}_set(e,i){try{localStorage.setItem(e,JSON.stringify(i))}catch(r){console.warn(`PreferenceStore: Failed to save '${e}'`,r)}}}const Es=new n4,i4=async()=>{const s=$h();if(!s)return{};const e=Jh();if(!e)return console.warn("[Firestore] No user ID available for progress fetch."),{};try{console.log(`[Firestore] Fetching learning progress for ${e}`);const i=cI(s,"users",e,"progress"),r=await xI(i),l={};return r.empty?(console.log("[Firestore] No progress data found."),{}):(r.forEach(u=>{l[u.id]=u.data()}),console.log(`[Firestore] Loaded ${Object.keys(l).length} progress items.`),l)}catch(i){return console.error("[Firestore] Failed to fetch progress",i),{}}},s4=async(s,e)=>{const i=$h();if(!i)return;const r=Jh();if(!r){console.warn("[Firestore] No user ID available. Skipping save.");return}try{console.log(`[Firestore] Updating progress for ${s}`,e);const l=zo(i,"users",r,"progress",s);await No(l,{...e,updatedAt:new Date().toISOString()},{merge:!0})}catch(l){throw console.error("[Firestore] Failed to update progress",l),l}},$c={mobileTableZoom:.7,desktopTableZoom:1,defaultDesktopColumnOrder:["selection","audio","japanese","bangla","isMarked"],defaultMobileColumnOrder:["selection","audio","japanese","bangla","isMarked"]};function r4({vocabList:s,setVocabList:e,folders:i,currentFolderId:r,setCurrentFolderId:l,isLoading:u,isSyncing:d,setIsSyncing:p,apiService:g,fetchSheetData:y,user:T}){const[w,I]=Z.useState(!1),[L,X]=Z.useState([]),[K,Y]=Z.useState(!1),[ne,me]=Z.useState({japanese:!1,bangla:!1}),[fe,De]=Z.useState({japanese:null,bangla:null}),Ee=Z.useRef(0),[ve,x]=Z.useState(()=>{const H=Es.loadPreferences().columnOrder;return H&&H.length>0?H:window.innerWidth<=768?$c.defaultMobileColumnOrder||[]:$c.defaultDesktopColumnOrder||[]}),[A,C]=Z.useState(()=>Es.loadPreferences().columnVisibility),[M,O]=Z.useState(()=>Es.loadPreferences().columnWidths),[V,R]=Z.useState(!1),[tt,je]=Z.useState(!1);Z.useEffect(()=>{Es.savePreferences({columnWidths:M})},[M]);const F=Z.useMemo(()=>{let H=[];if(s&&s.length>0){const re=s[0];H=Object.keys(re).filter(Ne=>!kN.has(Ne)).filter(Ne=>Ne!=="japanese"||!re._isSyntheticJapanese).map(Ne=>({id:Ne,label:Ne,width:"min-w-[140px]",type:"text",sortable:!0}))}return[PN,...H,...VN]},[s]);Z.useEffect(()=>{x(H=>{const re=H||[],he=new Set(re),Ne=F.filter(Ue=>!he.has(Ue.id)).map(Ue=>Ue.id);return[...re,...Ne]})},[F]),Z.useEffect(()=>{Es.savePreferences({columnOrder:ve})},[ve]),Z.useEffect(()=>{Es.savePreferences({columnVisibility:A})},[A]);const[ae,te]=Z.useState({key:null,direction:"asc"}),[ce,be]=Z.useState({lesson:[],cando:[]}),[D]=Z.useState(""),[B,se]=Z.useState("all"),[oe,we]=Z.useState(new Set),[ue,ge]=Z.useState(!1),[Se,Ie]=Z.useState([]),[Dt,Yi]=Z.useState([]),[Xi,Si]=Z.useState(0),[Bn,$i]=Z.useState(!1),[Ji,Wi]=Z.useState(!1),[ui,pt]=Z.useState({open:!1,type:null,targetId:null,targetName:""}),[At,qn]=Z.useState(!1),[Lr,Zi]=Z.useState({open:!1,pendingAction:null}),[Ut,Ai]=Z.useState(null),Ft=Z.useCallback((H,re="success")=>Ai({message:H,type:re}),[]);Z.useEffect(()=>ge(!1),[ce,ae,B]);const{filteredAndSortedData:ci,trendData:xi,weaknessSuggestion:Ko,safeDataList:Da}=WN(s,r,D,ce,ae,B,w,L),hi=ue?Se:ci,{showingCount:jr,totalCount:pn}=ZN(s,hi,r),[vt,tn]=Z.useState(1),[Xe,Ur]=Z.useState(()=>Es.loadPreferences().itemsPerPage);Z.useEffect(()=>{Es.savePreferences({itemsPerPage:Xe})},[Xe]),Z.useEffect(()=>{const H=Es.subscribe(re=>{re.itemsPerPage!==Xe&&Ur(re.itemsPerPage),JSON.stringify(re.columnOrder)!==JSON.stringify(ve)&&x(re.columnOrder),JSON.stringify(re.columnVisibility)!==JSON.stringify(A)&&C(re.columnVisibility),JSON.stringify(re.columnWidths)!==JSON.stringify(M)&&O(re.columnWidths)});return()=>H()},[Xe,ve,A,M]),Z.useEffect(()=>{tn(1)},[r,D,ce,B,ae,ue]);const Ps=Z.useMemo(()=>{const H=(vt-1)*Xe;return hi.slice(H,H+Xe)},[hi,vt,Xe]),Oa=Math.ceil(hi.length/Xe),{playbackMode:nn,isPlaying:Cn,playbackQueue:ct,currentIndex:gn,audioConfig:Hn,isAudioBarManuallyHidden:yn,setAudioConfig:zr,setIsAudioBarManuallyHidden:Br,togglePlayPause:Rn,startPlaylist:es,handlePlaySingle:Yo,onPrevTrack:ts,onNextTrack:qr}=JN(s,hi,Ft),Hr=Z.useMemo(()=>r==="root"?s:s.filter(H=>H.folderId===r),[s,r]),un=H=>{w&&K?Zi({open:!0,pendingAction:H}):(w&&I(!1),H())},In=H=>un(()=>l(H)),Ma=H=>un(()=>be(H)),Nn=(H="standard")=>{let re=ci;if(H==="smart"&&(re=re.filter(he=>he.isMarked)),re.length===0&&(re=ci.slice(0,10)),re.length===0){Ft("No words to practice!","error");return}Yi([...re].sort(()=>Math.random()-.5)),Si(0),$i(!0)},Dn=()=>un(()=>Nn()),Et=()=>un(()=>es(0)),Ot=H=>un(()=>se(B===H?"all":H)),Fn=H=>un(()=>be({lesson:H.lesson,cando:H.cando})),Ls=async()=>{if(w&&K){Ft("Save or discard changes before refreshing","warning");return}p(!0);try{await y(!0),Ft("Data refreshed from Sheet","success")}catch(H){console.error(H),Ft("Refresh failed","error")}finally{p(!1)}},Xo=()=>un(()=>{const H=s.filter(Ne=>Ne.isMarked),re=Ne=>[...Ne].sort(()=>Math.random()-.5);let he=[...re(H).slice(0,15),...re(s.filter(Ne=>!Ne.isMarked)).slice(0,5)];he.length===0&&(he=re(s).slice(0,20)),Yi(he),Si(0),$i(!0)}),ka=()=>{X(JSON.parse(JSON.stringify(s))),Y(!1),I(!0),qn(!1),Ft("Edit Mode Started","warning")},Fr=async()=>{if(d)return;const H=[],re=[];if(L.forEach(he=>{if(!he.id)re.push(he);else{const Ne=s.find(Ue=>Ue.id===he.id);Ne&&JSON.stringify(jv(Ne,he))&&H.push({id:he.id,...jv(Ne,he)})}}),H.length===0&&re.length===0){Y(!1);return}p(!0),e(JSON.parse(JSON.stringify(L))),Y(!1);try{re.length&&await g.sendAdd(re),H.length&&await g.sendUpdate(H),Ft("Saved!","success"),I(!1),await y()}catch(he){console.error(he),Ft("Save failed","error"),Y(!0)}finally{p(!1)}},Gn=()=>{X([]),Y(!1),I(!1)},js=()=>{Fr(),Zi({open:!1,pendingAction:null}),Lr.pendingAction?.()},Qn=()=>{Y(!1),I(!1),Zi({open:!1,pendingAction:null}),Lr.pendingAction?.()},_n=()=>Zi({open:!1,pendingAction:null});Z.useEffect(()=>{De({japanese:null,bangla:null})},[r,ce,D,ae,B]);const cn=H=>{me(re=>({...re,[H]:!re[H]})),De(re=>({...re,[H]:null}))},Kn=Z.useCallback((H,re)=>De(he=>({...he,[re]:H})),[]),bt=Z.useCallback((H,re,he)=>{w&&(X(Ne=>Ne.map(Ue=>Ue.localId===H?{...Ue,[re]:he}:Ue)),Y(!0))},[w]),Us=Z.useCallback(async H=>{if(w)X(re=>re.map(he=>he.localId===H?{...he,isMarked:!he.isMarked}:he)),Y(!0);else{const re=s.find(Ne=>Ne.localId===H);if(!re||!re.id)return;const he=!re.isMarked;e(Ne=>Ne.map(Ue=>Ue.localId===H?{...Ue,isMarked:he}:Ue)),Ee.current===0&&p(!0),Ee.current+=1;try{await s4(re.id,{isMarked:he})}catch(Ne){console.error(Ne),e(Ue=>Ue.map(vn=>vn.localId===H?{...vn,isMarked:!he}:vn)),Ft("Failed to update mark","error")}finally{Ee.current-=1,Ee.current===0&&p(!1)}}},[w,s,g,e,Ft]),zs=async()=>{$i(!1)},On=Z.useCallback((H,re,he)=>{!w&&H!=="folder"||pt({open:!0,type:H,targetId:re,targetName:he})},[w]),Yn=async()=>{w&&(ui.type==="single"?X(H=>H.filter(re=>re.localId!==ui.targetId)):(X(H=>H.filter(re=>!oe.has(re.localId))),we(new Set)),Y(!0)),pt({open:!1,type:null,targetId:null,targetName:""})},Gr=Z.useCallback(H=>{we(re=>{const he=new Set(re);return he.has(H)?he.delete(H):he.add(H),he})},[]),Qr=H=>te({key:H,direction:ae.key===H&&ae.direction==="asc"?"desc":"asc"}),Bs=()=>{const H=[...ci];for(let re=H.length-1;re>0;re--){const he=Math.floor(Math.random()*(re+1));[H[re],H[he]]=[H[he],H[re]]}Ie(H),ge(!0)},Va=(H,re)=>{H.dataTransfer.setData("text/plain",re),H.dataTransfer.effectAllowed="move"},qs=H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},hn=(H,re)=>{H.preventDefault();const he=H.dataTransfer.getData("text/plain");if(he===re)return;const Ne=ve.indexOf(he),Ue=ve.indexOf(re);if(Ne<0||Ue<0)return;const vn=[...ve],[Pa]=vn.splice(Ne,1);vn.splice(Ue,0,Pa),x(vn)},Tt=async H=>{const re=H.map(he=>({...he,id:null,localId:`imported_${Date.now()}_${Math.random()}`,folderId:r==="root"?"Uncategorized":r,book:i.find(Ne=>Ne.id===r)?.name||"Uncategorized",isMarked:!1,lesson:he.lesson||"1",cando:he.cando||"1",japanese:he.japanese||"",bangla:he.bangla||""}));if(w)X(he=>[...he,...re]),Y(!0);else{p(!0);try{await g.sendAdd(re),Ft("Imported successfully","success"),await y()}catch{Ft("Import failed","error")}finally{p(!1)}}Wi(!1)},xt=()=>{Xi<Dt.length-1?Si(H=>H+1):zs()};if(u)return E.jsxs("div",{className:"h-screen flex items-center justify-center font-bold text-slate-500",children:[E.jsx(Db,{className:"animate-spin mr-2"})," Loading..."]});if(Bn)return E.jsx("div",{className:"p-4 bg-slate-100 h-screen flex flex-col items-center justify-center",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl text-center",children:[E.jsx("h2",{className:"text-4xl font-bold mb-4",children:Dt[Xi]?.japanese}),E.jsxs("div",{className:"flex gap-4 mt-8",children:[E.jsx("button",{onClick:xt,className:"px-6 py-3 bg-red-100 text-red-600 rounded-lg font-bold",children:"Hard"}),E.jsx("button",{onClick:xt,className:"px-6 py-3 bg-green-100 text-green-600 rounded-lg font-bold",children:"Easy"})]}),E.jsx("button",{onClick:()=>zs(),className:"mt-8 text-slate-400 underline text-sm",children:"Save & Exit"})]})});const fi=nn==="playlist"&&ct.length>0&&!yn,Kr=nn==="playlist"&&ct.length>0&&yn;return E.jsxs("div",{className:"flex h-screen w-full bg-slate-100 font-sans text-slate-800 overflow-hidden",children:[Ut&&E.jsx(jN,{message:Ut.message,type:Ut.type,onClose:()=>Ai(null)}),E.jsx("div",{className:"hidden md:flex h-full flex-shrink-0",children:E.jsx(Bv,{folders:i,currentFolderId:r,handleFolderChange:In,user:T})}),tt&&E.jsxs("div",{className:"fixed inset-0 z-[100] md:hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>je(!1)}),E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-slate-900 shadow-2xl animate-in slide-in-from-left duration-200",children:E.jsx(Bv,{folders:i,currentFolderId:r,handleFolderChange:H=>{In(H),je(!1)},isMobile:!0,user:T})})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-slate-50",children:[E.jsxs("div",{className:"md:hidden bg-slate-900 text-white px-3 py-1.5 flex items-center justify-between shadow-md z-20 h-11 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-7 h-7 bg-indigo-600 rounded flex-shrink-0 flex items-center justify-center font-bold text-base shadow-lg",children:""}),E.jsxs("span",{className:"font-bold text-base tracking-tight leading-none",children:["Irodori",E.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("div",{className:"text-[10px] text-slate-300 font-mono text-right leading-none flex flex-col gap-0.5",children:[E.jsx("div",{className:"font-bold text-white max-w-[100px] truncate",children:r==="root"?"My Drive":i.find(H=>H.id===r)?.name||"..."}),E.jsxs("div",{className:"opacity-80",children:[jr," / ",pn]})]}),E.jsx("button",{onClick:()=>je(!0),className:"md:hidden p-1 -mr-1",children:E.jsxs("div",{className:"space-y-[3px]",children:[E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"}),E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"}),E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"})]})})]})]}),E.jsx(qN,{currentFolderId:r,folders:i,vocabList:Hr,selectedIds:oe,isEditMode:w,hasUnsavedChanges:K,filters:ce,hiddenColumns:ne,viewMode:B,onFolderChange:In,onDeleteRequest:On,onEditModeToggle:()=>qn(!0),onFilterChange:Ma,onViewModeChange:Ot,onVisibilityToggle:cn,onSave:Fr,onDiscard:Gn,onPracticeStart:Dn,onPlaylistStart:Et,onImportOpen:()=>Wi(!0),setIsColumnManagerOpen:R,isSyncing:d,filteredData:hi,onStartSmartPractice:Xo,trendData:xi,suggestion:Ko,onApplySuggestion:Fn,onRefresh:Ls,onShuffle:Bs,isPlaying:Cn,onTogglePlay:Rn,showingCount:jr,totalCount:pn}),E.jsx("div",{className:"flex-1 overflow-auto transition-all duration-300 mobile-zoom-table",style:{paddingBottom:fi?"96px":"0px","--mobile-zoom":$c.mobileTableZoom,"--desktop-zoom":$c.desktopTableZoom},children:E.jsxs("table",{className:"w-full border-collapse bg-white text-sm table-fixed",children:[E.jsx("colgroup",{children:ve.map(H=>{const re=F.find(Ne=>Ne.id===H);if(!re||re.editOnly&&!w||A[H]===!1)return null;let he=M[H];if(!he){const Ne={"w-10":40,"w-12":48,"w-16":64,"w-20":80,"w-24":96,"w-32":128,"w-40":160,"w-48":192,"w-64":256},Ue=re.width&&typeof re.width=="string"&&re.width.match(/w-(\d+)/);Ne[re.width]?he=Ne[re.width]:Ue?he=parseInt(Ue[1])*4:he=160}return E.jsx("col",{id:`col-${H}`,style:{width:he}},H)})}),E.jsx("thead",{className:"sticky top-0 z-10 shadow-sm",children:E.jsx("tr",{children:ve.map(H=>{const re=F.find(he=>he.id===H);return(!re?.editOnly||w)&&E.jsx(BN,{colId:H,def:re,isEditMode:w,sortConfig:ae,onSort:Qr,columnVisibility:A,onDragStart:Va,onDragOver:qs,onDrop:hn,onShuffle:Bs,columnWidths:M,setColumnWidths:O},H)})})}),E.jsx("tbody",{children:Ps.map((H,re)=>{const he=nn==="playlist"&&Cn&&ct[gn]===H.localId,Ne=nn==="single"&&Cn&&ct[gn]===H.localId,Ue=he||Ne;return E.jsx(UN,{item:H,index:(vt-1)*Xe+re,columnOrder:ve,columnDefs:F,columnVisibility:A,columnWidths:M,selectedIds:oe,isPlaying:Cn,hiddenColumns:ne,revealedCells:fe,isEditMode:w,onToggleSelection:Gr,onUpdateCell:bt,onRevealCell:Kn,onPlaySingle:Yo,onMark:Us,onDeleteRequest:On,isActive:Ue},H.localId)})})]})}),E.jsx(QN,{currentPage:vt,totalPages:Oa,itemsPerPage:Xe,onPageChange:tn,onItemsPerPageChange:H=>{Ur(H),tn(1)},totalItems:ci.length}),fi&&E.jsx(zN,{playbackMode:nn,playbackQueue:ct,currentIndex:gn,vocabList:Da,isPlaying:Cn,audioConfig:Hn,onPrevTrack:ts,onNextTrack:qr,onTogglePlayPause:Rn,onCycleRepeat:H=>zr(re=>({...re,repeatPerItem:H,repeatMode:`${H}x`})),onCycleSpeed:()=>zr(H=>({...H,speed:H.speed===1?1.5:1})),onToggleBangla:()=>zr(H=>({...H,includeBangla:!H.includeBangla})),onHide:()=>Br(!0),onToggleMark:Us}),Kr&&E.jsx("button",{onClick:()=>Br(!1),className:"fixed bottom-6 right-6 p-3 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 hover:scale-105 transition-all z-50 animate-bounce",title:"Show Player",children:E.jsx(ON,{size:24})})]}),ui.open&&E.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:[E.jsxs("div",{className:"bg-red-50 p-6 flex flex-col items-center text-center",children:[E.jsx(Ch,{className:"text-red-600 mb-4",size:24}),E.jsx("h3",{className:"text-xl font-bold",children:"Delete?"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Delete ",ui.targetName,"?"]})]}),E.jsxs("div",{className:"p-4 bg-white flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>pt({...ui,open:!1}),className:"flex-1 px-4 py-2.5 font-bold text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),E.jsx("button",{onClick:Yn,className:"flex-1 px-4 py-2.5 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700",children:"Delete"})]})]})}),At&&E.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:[E.jsxs("div",{className:"bg-amber-50 p-6 flex flex-col items-center text-center",children:[E.jsx(uN,{className:"text-amber-600 mb-4",size:24}),E.jsx("h3",{className:"text-xl font-bold",children:"Enable Editing?"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["You are entering Edit Mode.",E.jsx("br",{}),"Changes are temporary until you click Save."]})]}),E.jsxs("div",{className:"p-4 bg-white flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>qn(!1),className:"flex-1 px-4 py-2.5 font-bold text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),E.jsx("button",{onClick:ka,className:"flex-1 px-4 py-2.5 bg-amber-500 text-white font-bold rounded-lg hover:bg-amber-600",children:"Start Editing"})]})]})}),Lr.open&&E.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/70 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[E.jsxs("div",{className:"bg-amber-50 p-6 flex flex-col items-center text-center border-b border-amber-100",children:[E.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4",children:E.jsx(Ch,{className:"text-amber-600",size:24})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Unsaved Changes"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["You have unsaved edits in this session.",E.jsx("br",{}),"What would you like to do?"]})]}),E.jsxs("div",{className:"p-4 bg-white flex flex-col gap-2",children:[E.jsxs("button",{onClick:js,className:"w-full px-4 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[E.jsx(Mb,{size:16})," Save & Continue"]}),E.jsxs("button",{onClick:Qn,className:"w-full px-4 py-3 bg-white border-2 border-red-100 text-red-600 font-bold rounded-lg hover:bg-red-50 flex items-center justify-center gap-2",children:[E.jsx(CN,{size:16})," Discard Changes"]}),E.jsx("button",{onClick:_n,className:"w-full px-4 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-lg",children:"Cancel (Stay Here)"})]})]})}),E.jsx(HN,{isOpen:V,onClose:()=>R(!1),allColumns:F,columnOrder:ve,setColumnOrder:x,columnVisibility:A,setColumnVisibility:C}),E.jsx(FN,{isOpen:Ji,onClose:()=>Wi(!1),onImport:Tt})]})}const a4=(s,e)=>{if(!s||!e)return null;const i=s.split(".").map(Number),r=e.split(".").map(Number);for(let l=0;l<Math.max(i.length,r.length);l++){const u=i[l]||0,d=r[l]||0;if(u>d)return 1;if(u<d)return-1}return 0},o4=()=>{const[s,e]=Z.useState(!1),[i,r]=Z.useState({force:!1,message:"",storeUrl:"",version:""});return Z.useEffect(()=>{(async()=>{try{const u="https://japanese-learning-app-fcb27.web.app/app-version.json",d=new AbortController,p=setTimeout(()=>d.abort(),5e3),g=await fetch(`${u}?t=${Date.now()}`,{cache:"no-store",signal:d.signal});if(clearTimeout(p),!g.ok)return;const y=await g.json();a4(y.version,"90.90.721")===1&&(e(!0),r(y))}catch{}})()},[]),{updateAvailable:s,...i}},l4=()=>{const{updateAvailable:s,force:e,message:i,version:r}=o4(),[l,u]=xs.useState(!1);if(!s||l&&!e)return null;const d=()=>{window.location.reload()};return E.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-end sm:items-center justify-center p-4 pointer-events-none",children:[e&&E.jsx("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-md pointer-events-auto"}),!e&&E.jsx("div",{className:"absolute inset-0 bg-black/20 pointer-events-auto",onClick:()=>u(!0)}),E.jsxs("div",{className:`
                relative w-full max-w-md bg-white rounded-xl shadow-2xl overflow-hidden pointer-events-auto
                animate-in slide-in-from-bottom-4 duration-300
                ${e?"scale-105 ring-4 ring-red-500/20":"border border-slate-200"}
            `,children:[E.jsxs("div",{className:`${e?"bg-red-600":"bg-indigo-600"} px-6 py-4 flex items-center justify-between`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e?E.jsx(Lv,{className:"text-white",size:20}):E.jsx(WI,{className:"text-white",size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold text-lg leading-none",children:e?"Critical Update Required":"Update Available"}),E.jsxs("p",{className:`${e?"text-red-100":"text-indigo-200"} text-xs mt-1`,children:["Version ",r]})]})]}),!e&&E.jsx("button",{onClick:()=>u(!0),className:"text-white/70 hover:text-white transition-colors p-1",children:E.jsx(kb,{size:20})})]}),E.jsxs("div",{className:"p-6",children:[E.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed text-sm",children:i||"A new version of the application is available. Please update to continue ensuring the best experience."}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("button",{onClick:d,className:`w-full flex items-center justify-center gap-2 font-bold py-3.5 px-4 rounded-lg transition-all active:scale-95 text-sm
                                ${e?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-500/30":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-500/30"}`,children:e?"Update Now":"Reload to Update"}),!e&&E.jsx("button",{onClick:()=>u(!0),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-medium text-sm transition-colors",children:"Not now"})]}),e&&E.jsxs("div",{className:"flex items-start gap-2 mt-6 p-3 bg-red-50 rounded text-xs text-red-600 border border-red-100",children:[E.jsx(Lv,{size:14,className:"min-w-[14px] mt-0.5"}),E.jsx("p",{children:"This update includes critical security or feature changes. You cannot continue using the app without updating."})]})]})]})]})},u4=async()=>{const s=new zi;try{const i=(await G1(br,s)).user,r=zo(xh,"users",i.uid);return(await Ip(r)).exists()||await No(r,{uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,createdAt:new Date,role:"user"}),i}catch(e){throw console.error("Google Login Error:",e),e}},cm="https://script.google.com/macros/s/AKfycbwXyfE5aiGFaLh9MfX_4oxHLS9J_I6K8pyoHgUmJQZDmbqECS19Q8lGsOUxBFADWthh_Q/exec";function c4(){const[s,e]=Z.useState(null),[i,r]=Z.useState(!0),l=typeof window<"u"&&!!window.Android,[u,d]=Z.useState([]),[p,g]=Z.useState([]),[y,T]=Z.useState("root"),[w,I]=Z.useState(!0),[L,X]=Z.useState(!1),[K,Y]=Z.useState(""),[ne,me]=Z.useState(""),[fe,De]=Z.useState(""),[Ee,ve]=Z.useState(!1),[x,A]=Z.useState(!1),[C,M]=Z.useState(""),[O,V]=Z.useState(!1),R=async te=>{te.preventDefault(),M(""),V(!0);try{const{createUserWithEmailAndPassword:ce,signInWithEmailAndPassword:be,updateProfile:D}=await l_(async()=>{const{createUserWithEmailAndPassword:B,signInWithEmailAndPassword:se,updateProfile:oe}=await Promise.resolve().then(()=>j_);return{createUserWithEmailAndPassword:B,signInWithEmailAndPassword:se,updateProfile:oe}},void 0,import.meta.url);if(Ee){if(!fe.trim())throw new Error("First Name is required.");const B=await ce(br,K,ne);await D(B.user,{displayName:fe});const se=zo(xh,"users",B.user.uid);await No(se,{displayName:fe,email:K,uid:B.user.uid,provider:"password",deviceType:"android",createdAt:Hl(),lastLoginAt:Hl()},{merge:!0})}else await be(br,K,ne)}catch(ce){console.error(ce),M(ce.message.replace("Firebase: ",""))}finally{V(!1)}},tt=async te=>{const ce=zo(xh,"users",te.uid),be=await Ip(ce),D=!!window.Android,B={uid:te.uid,email:te.email,displayName:te.displayName,photoURL:te.photoURL,provider:"google",lastLoginAt:Hl(),deviceType:D?"android":"web",appVersion:"90.90.721"};if(be.exists())try{await No(ce,B,{merge:!0}),console.log("User profile updated for",te.uid)}catch(se){console.error("Error updating user profile:",se)}else try{await No(ce,{...B,firstLoginAt:Hl(),createdAt:Hl()}),console.log("User profile created for",te.uid)}catch(se){console.error("Error creating user profile:",se)}};Z.useEffect(()=>{const te=O1(br,async ce=>{if(ce){e(ce),tt(ce).catch(D=>console.warn("Profile sync skipped (offline):",D));const be=je();ae(be)}else e(null),d([]);r(!1)});return()=>te()},[]);const je=()=>{const te=localStorage.getItem("vocabList");if(te)try{const ce=JSON.parse(te);if(Array.isArray(ce)&&ce.length>0){d(ce);const D=[...new Set(ce.map(B=>B.book))].filter(B=>B).map(B=>({id:B,name:B,parentId:"root"}));return g(D),I(!1),!0}}catch(ce){console.error("Failed to parse saved data",ce)}return!1},F={sendAdd:async te=>{const ce={action:"add",items:te.map(be=>({hiragana:be.japanese,bangla:be.bangla,lesson:be.lesson,cando:be.cando,is_problem:be.isMarked}))};await fetch(cm,{method:"POST",body:JSON.stringify(ce)})},sendUpdate:async te=>{await fetch(cm,{method:"POST",body:JSON.stringify({action:"update",updates:te})})}},ae=async(te=!1)=>{!te&&u.length===0&&I(!0);try{const ce=new AbortController,be=setTimeout(()=>ce.abort(),1e4),D=await fetch(cm,{signal:ce.signal});if(clearTimeout(be),!D.ok)throw new Error("Network response was not ok");const B=await D.json();let se=[];if(typeof B=="object"&&!Array.isArray(B)&&!B.data?Object.keys(B).forEach(oe=>{Array.isArray(B[oe])&&B[oe].forEach(we=>{se.push({...we,book:oe})})}):se=Array.isArray(B)?B:B.data||[],se.length>0){const oe=se.map((Se,Ie)=>LN(Se,Ie)),ue=[...new Set(oe.map(Se=>Se.book))].filter(Se=>Se).map(Se=>({id:Se,name:Se,parentId:"root"}));g(ue);const ge=localStorage.getItem("vocabList");if(ge)try{const Se=new Map(JSON.parse(ge).map(Ie=>[Ie.localId,Ie]));oe.forEach(Ie=>{const Dt=Se.get(Ie.localId);Dt&&(Ie.isMarked=Dt.isMarked)})}catch(Se){console.error("Merge error",Se)}try{const Se=await i4();Se&&Object.keys(Se).length>0&&(oe.forEach(Ie=>{if(Ie.id&&Se[Ie.id]){const Dt=Se[Ie.id];Dt.isMarked!==void 0&&(Ie.isMarked=Dt.isMarked)}}),console.log("[App] Merged Firestore progress into vocabList"))}catch(Se){console.error("[App] Failed to merge Firestore progress",Se)}d(oe)}else console.error("Unexpected data format:",B)}catch(ce){console.warn("Fetch skipped or failed (offline/timeout):",ce)}finally{I(!1)}};return Z.useEffect(()=>{u.length>0&&localStorage.setItem("vocabList",JSON.stringify(u))},[u]),Z.useEffect(()=>{const te=()=>{if(window.AudioContext||window.webkitAudioContext){const ce=window.AudioContext||window.webkitAudioContext,be=new ce;be.state==="suspended"&&be.resume().then(()=>console.log("AudioContext resumed"));const D=be.createBuffer(1,1,22050),B=be.createBufferSource();B.buffer=D,B.connect(be.destination),B.start(0)}window.speechSynthesis&&window.speechSynthesis.cancel(),console.log("Audio subsystem unlocked via user interaction"),document.removeEventListener("click",te),document.removeEventListener("touchstart",te),document.removeEventListener("keydown",te)};return document.addEventListener("click",te),document.addEventListener("touchstart",te),document.addEventListener("keydown",te),()=>{document.removeEventListener("click",te),document.removeEventListener("keydown",te)}},[]),Z.useEffect(()=>(window.Android&&window.Android.onWebReady&&(console.log("Sending onWebReady signal to Native..."),window.Android.onWebReady()),window.onNativeLoginSuccess=async te=>{console.log("Native Token Received. Length:",te?te.length:0);try{const{GoogleAuthProvider:ce,signInWithCredential:be}=await l_(async()=>{const{GoogleAuthProvider:se,signInWithCredential:oe}=await Promise.resolve().then(()=>j_);return{GoogleAuthProvider:se,signInWithCredential:oe}},void 0,import.meta.url),D=ce.credential(te);console.log("Signing in with Credential...");const B=await be(br,D);console.log("Firebase Auth SUCCESS. User:",B.user.uid)}catch(ce){console.error("Firebase Auth FAILED:",ce),alert("Auth Error: "+ce.code+" - "+ce.message)}},window.onNativeLoginError=te=>{console.error("Native Login Error from Java:",te),alert("Login Failed: "+te)},()=>{}),[]),E.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-[#1e1e1e]",children:[E.jsx(l4,{}),i?E.jsx("div",{className:"flex h-screen w-screen items-center justify-center text-white",children:"Loading IrodoriAI..."}):s?E.jsx(r4,{vocabList:u,setVocabList:d,folders:p,setFolders:g,currentFolderId:y,setCurrentFolderId:T,isLoading:w,setIsLoading:I,isSyncing:L,setIsSyncing:X,apiService:F,fetchSheetData:ae,user:s}):E.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-gray-900 flex-col gap-4",children:[E.jsx("h1",{className:"text-2xl text-white font-bold",children:"Welcome to IrodoriAI"}),!l&&E.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-sm",children:[E.jsxs("button",{onClick:async()=>{try{await u4()}catch(te){console.error(te),alert("Login Error: "+te.message)}},className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-3 shadow-md transition-all transform hover:scale-105",children:[E.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.26.81-.58z"}),E.jsx("path",{fill:"#EA4335",d:"M12 4.66c1.61 0 3.06.56 4.21 1.64l3.15-3.15C17.45 1.09 14.97 0 12 0 7.7 0 3.99 2.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),E.jsx("span",{children:"Sign in with Google"})]}),E.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-600"})}),E.jsx("span",{className:"relative z-10 bg-gray-900 px-4 text-gray-400 text-sm font-medium",children:"OR"})]}),E.jsxs("form",{onSubmit:R,className:"w-full bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col gap-4",children:[E.jsx("h2",{className:"text-xl text-white font-semibold text-center",children:Ee?"Create Account":"Sign In with Email"}),C&&E.jsx("div",{className:"bg-red-500/20 text-red-200 p-2 rounded text-sm text-center border border-red-500/50",children:C}),Ee&&E.jsx("input",{type:"text",placeholder:"First Name",value:fe,onChange:te=>De(te.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsx("input",{type:"email",placeholder:"Email Address",value:K,onChange:te=>Y(te.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:x?"text":"password",placeholder:"Password",value:ne,onChange:te=>me(te.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0}),E.jsx("button",{type:"button",onClick:()=>A(!x),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:x?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),E.jsx("button",{type:"submit",disabled:O,className:`font-bold py-3 px-4 rounded transition-colors ${O?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:O?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Ee?"Creating account...":"Signing in..."]}):Ee?"Sign Up":"Login"}),E.jsx("div",{className:"text-center mt-2",children:E.jsx("button",{type:"button",onClick:()=>{ve(!Ee),M("")},className:"text-blue-400 hover:text-blue-300 text-sm underline",children:Ee?"Already have an account? Login":"Need an account? Sign Up"})})]})]}),l&&E.jsxs("form",{onSubmit:R,className:"w-full max-w-sm bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col gap-4 border-2 border-green-500",children:[E.jsx("div",{className:"bg-green-900 text-green-100 text-xs font-bold p-2 text-center uppercase tracking-widest mb-2 rounded",children:"ANDROID EMAIL LOGIN ACTIVE"}),E.jsx("h2",{className:"text-xl text-white font-semibold text-center",children:Ee?"Create Account":"Sign In"}),C&&E.jsx("div",{className:"bg-red-500/20 text-red-200 p-2 rounded text-sm text-center border border-red-500/50",children:C}),Ee&&E.jsx("input",{type:"text",placeholder:"First Name",value:fe,onChange:te=>De(te.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsx("input",{type:"email",placeholder:"Email Address",value:K,onChange:te=>Y(te.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:x?"text":"password",placeholder:"Password",value:ne,onChange:te=>me(te.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0}),E.jsx("button",{type:"button",onClick:()=>A(!x),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:x?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),E.jsx("button",{type:"submit",disabled:O,className:`font-bold py-3 px-4 rounded transition-colors ${O?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:O?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Ee?"Creating account...":"Signing in..."]}):Ee?"Sign Up":"Login"}),E.jsx("div",{className:"text-center mt-2",children:E.jsx("button",{type:"button",onClick:()=>{ve(!Ee),M("")},className:"text-blue-400 hover:text-blue-300 text-sm underline",children:Ee?"Already have an account? Login":"Need an account? Sign Up"})})]})]})]})}Ew.createRoot(document.getElementById("root")).render(E.jsx(Z.StrictMode,{children:E.jsx(c4,{})}));
