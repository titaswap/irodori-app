(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function ow(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Hd={exports:{}},Ul={};var Y0;function lw(){if(Y0)return Ul;Y0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var X0;function uw(){return X0||(X0=1,Hd.exports=lw()),Hd.exports}var E=uw(),Fd={exports:{}},Ne={};var $0;function cw(){if($0)return Ne;$0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.iterator;function V(I){return I===null||typeof I!="object"?null:(I=D&&I[D]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function ie(I,X,re){this.props=I,this.context=X,this.refs=H,this.updater=re||U}ie.prototype.isReactComponent={},ie.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},ie.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function he(){}he.prototype=ie.prototype;function pe(I,X,re){this.props=I,this.context=X,this.refs=H,this.updater=re||U}var Oe=pe.prototype=new he;Oe.constructor=pe,B(Oe,ie.prototype),Oe.isPureReactComponent=!0;var Ee=Array.isArray;function we(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(I,X,re){var le=re.ref;return{$$typeof:s,type:I,key:X,ref:le!==void 0?le:null,props:re}}function M(I,X){return C(I.type,X,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(re){return X[re]})}var A=/\/+/g;function Le(I,X){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):X.toString(36)}function Ke(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(we,we):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Y(I,X,re,le,ce){var _e=typeof I;(_e==="undefined"||_e==="boolean")&&(I=null);var ve=!1;if(I===null)ve=!0;else switch(_e){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(I.$$typeof){case s:case e:ve=!0;break;case T:return ve=I._init,Y(ve(I._payload),X,re,le,ce)}}if(ve)return ce=ce(I),ve=le===""?"."+Le(I,0):le,Ee(ce)?(re="",ve!=null&&(re=ve.replace(A,"$&/")+"/"),Y(ce,X,re,"",function(Nn){return Nn})):ce!=null&&(O(ce)&&(ce=M(ce,re+(ce.key==null||I&&I.key===ce.key?"":(""+ce.key).replace(A,"$&/")+"/")+ve)),X.push(ce)),1;ve=0;var Be=le===""?".":le+":";if(Ee(I))for(var it=0;it<I.length;it++)le=I[it],_e=Be+Le(le,it),ve+=Y(le,X,re,_e,ce);else if(it=V(I),typeof it=="function")for(I=it.call(I),it=0;!(le=I.next()).done;)le=le.value,_e=Be+Le(le,it++),ve+=Y(le,X,re,_e,ce);else if(_e==="object"){if(typeof I.then=="function")return Y(Ke(I),X,re,le,ce);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ve}function K(I,X,re){if(I==null)return I;var le=[],ce=0;return Y(I,le,"","",function(_e){return X.call(re,_e,ce++)}),le}function se(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(re){(I._status===0||I._status===-1)&&(I._status=1,I._result=re)},function(re){(I._status===0||I._status===-1)&&(I._status=2,I._result=re)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var fe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ce={map:K,forEach:function(I,X,re){K(I,function(){X.apply(this,arguments)},re)},count:function(I){var X=0;return K(I,function(){X++}),X},toArray:function(I){return K(I,function(X){return X})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ne.Activity=w,Ne.Children=Ce,Ne.Component=ie,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=pe,Ne.StrictMode=r,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},Ne.cache=function(I){return function(){return I.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(I,X,re){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var le=B({},I.props),ce=I.key;if(X!=null)for(_e in X.key!==void 0&&(ce=""+X.key),X)!x.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(le[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)le.children=re;else if(1<_e){for(var ve=Array(_e),Be=0;Be<_e;Be++)ve[Be]=arguments[Be+2];le.children=ve}return C(I.type,ce,le)},Ne.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ne.createElement=function(I,X,re){var le,ce={},_e=null;if(X!=null)for(le in X.key!==void 0&&(_e=""+X.key),X)x.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=X[le]);var ve=arguments.length-2;if(ve===1)ce.children=re;else if(1<ve){for(var Be=Array(ve),it=0;it<ve;it++)Be[it]=arguments[it+2];ce.children=Be}if(I&&I.defaultProps)for(le in ve=I.defaultProps,ve)ce[le]===void 0&&(ce[le]=ve[le]);return C(I,_e,ce)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:p,render:I}},Ne.isValidElement=O,Ne.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:se}},Ne.memo=function(I,X){return{$$typeof:y,type:I,compare:X===void 0?null:X}},Ne.startTransition=function(I){var X=R.T,re={};R.T=re;try{var le=I(),ce=R.S;ce!==null&&ce(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(we,fe)}catch(_e){fe(_e)}finally{X!==null&&re.types!==null&&(X.types=re.types),R.T=X}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(I){return R.H.use(I)},Ne.useActionState=function(I,X,re){return R.H.useActionState(I,X,re)},Ne.useCallback=function(I,X){return R.H.useCallback(I,X)},Ne.useContext=function(I){return R.H.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I,X){return R.H.useDeferredValue(I,X)},Ne.useEffect=function(I,X){return R.H.useEffect(I,X)},Ne.useEffectEvent=function(I){return R.H.useEffectEvent(I)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(I,X,re){return R.H.useImperativeHandle(I,X,re)},Ne.useInsertionEffect=function(I,X){return R.H.useInsertionEffect(I,X)},Ne.useLayoutEffect=function(I,X){return R.H.useLayoutEffect(I,X)},Ne.useMemo=function(I,X){return R.H.useMemo(I,X)},Ne.useOptimistic=function(I,X){return R.H.useOptimistic(I,X)},Ne.useReducer=function(I,X,re){return R.H.useReducer(I,X,re)},Ne.useRef=function(I){return R.H.useRef(I)},Ne.useState=function(I){return R.H.useState(I)},Ne.useSyncExternalStore=function(I,X,re){return R.H.useSyncExternalStore(I,X,re)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.2.3",Ne}var J0;function Vm(){return J0||(J0=1,Fd.exports=cw()),Fd.exports}var te=Vm();const Qi=ow(te);var Gd={exports:{}},zl={},Qd={exports:{}},Kd={};var W0;function hw(){return W0||(W0=1,(function(s){function e(Y,K){var se=Y.length;Y.push(K);e:for(;0<se;){var fe=se-1>>>1,Ce=Y[fe];if(0<l(Ce,K))Y[fe]=K,Y[se]=Ce,se=fe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var K=Y[0],se=Y.pop();if(se!==K){Y[0]=se;e:for(var fe=0,Ce=Y.length,I=Ce>>>1;fe<I;){var X=2*(fe+1)-1,re=Y[X],le=X+1,ce=Y[le];if(0>l(re,se))le<Ce&&0>l(ce,re)?(Y[fe]=ce,Y[le]=se,fe=le):(Y[fe]=re,Y[X]=se,fe=X);else if(le<Ce&&0>l(ce,se))Y[fe]=ce,Y[le]=se,fe=le;else break e}}return K}function l(Y,K){var se=Y.sortIndex-K.sortIndex;return se!==0?se:Y.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,w=null,D=3,V=!1,U=!1,B=!1,H=!1,ie=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Oe(Y){for(var K=n(y);K!==null;){if(K.callback===null)r(y);else if(K.startTime<=Y)r(y),K.sortIndex=K.expirationTime,e(g,K);else break;K=n(y)}}function Ee(Y){if(B=!1,Oe(Y),!U)if(n(g)!==null)U=!0,we||(we=!0,j());else{var K=n(y);K!==null&&Ke(Ee,K.startTime-Y)}}var we=!1,R=-1,x=5,C=-1;function M(){return H?!0:!(s.unstable_now()-C<x)}function O(){if(H=!1,we){var Y=s.unstable_now();C=Y;var K=!0;try{e:{U=!1,B&&(B=!1,he(R),R=-1),V=!0;var se=D;try{t:{for(Oe(Y),w=n(g);w!==null&&!(w.expirationTime>Y&&M());){var fe=w.callback;if(typeof fe=="function"){w.callback=null,D=w.priorityLevel;var Ce=fe(w.expirationTime<=Y);if(Y=s.unstable_now(),typeof Ce=="function"){w.callback=Ce,Oe(Y),K=!0;break t}w===n(g)&&r(g),Oe(Y)}else r(g);w=n(g)}if(w!==null)K=!0;else{var I=n(y);I!==null&&Ke(Ee,I.startTime-Y),K=!1}}break e}finally{w=null,D=se,V=!1}K=void 0}}finally{K?j():we=!1}}}var j;if(typeof pe=="function")j=function(){pe(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Le=A.port2;A.port1.onmessage=O,j=function(){Le.postMessage(null)}}else j=function(){ie(O,0)};function Ke(Y,K){R=ie(function(){Y(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(Y){switch(D){case 1:case 2:case 3:var K=3;break;default:K=D}var se=D;D=K;try{return Y()}finally{D=se}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=D;D=Y;try{return K()}finally{D=se}},s.unstable_scheduleCallback=function(Y,K,se){var fe=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?fe+se:fe):se=fe,Y){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=se+Ce,Y={id:T++,callback:K,priorityLevel:Y,startTime:se,expirationTime:Ce,sortIndex:-1},se>fe?(Y.sortIndex=se,e(y,Y),n(g)===null&&Y===n(y)&&(B?(he(R),R=-1):B=!0,Ke(Ee,se-fe))):(Y.sortIndex=Ce,e(g,Y),U||V||(U=!0,we||(we=!0,j()))),Y},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(Y){var K=D;return function(){var se=D;D=K;try{return Y.apply(this,arguments)}finally{D=se}}}})(Kd)),Kd}var Z0;function fw(){return Z0||(Z0=1,Qd.exports=hw()),Qd.exports}var Yd={exports:{}},an={};var e_;function dw(){if(e_)return an;e_=1;var s=Vm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},an.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,w=p(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:V}):T==="script"&&r.d.X(g,{crossOrigin:w,integrity:D,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},an.requestFormReset=function(g){r.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var t_;function mw(){if(t_)return Yd.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=dw(),Yd.exports}var n_;function pw(){if(n_)return zl;n_=1;var s=fw(),e=Vm(),n=mw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,o=f;break}if(b===o){_=!0,o=h,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,o=h;break}if(b===o){_=!0,o=f,a=h;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,D=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function Le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case ie:return"Profiler";case H:return"StrictMode";case Ee:return"Suspense";case we:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case pe:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case Oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:Le(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Le(t(i))}catch{}}return null}var Ke=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},fe=[],Ce=-1;function I(t){return{current:t}}function X(t){0>Ce||(t.current=fe[Ce],fe[Ce]=null,Ce--)}function re(t,i){Ce++,fe[Ce]=t.current,t.current=i}var le=I(null),ce=I(null),_e=I(null),ve=I(null);function Be(t,i){switch(re(_e,i),re(ce,t),re(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?y0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=y0(i),t=_0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(le),re(le,t)}function it(){X(le),X(ce),X(_e)}function Nn(t){t.memoizedState!==null&&re(ve,t);var i=le.current,a=_0(i,t.type);i!==a&&(re(ce,t),re(le,a))}function Kn(t){ce.current===t&&(X(le),X(ce)),ve.current===t&&(X(ve),Vl._currentValue=se)}var Dn,pi;function Yt(t){if(Dn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Dn=i&&i[1]||"",pi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+t+pi}var Ii=!1;function On(t,i){if(!t||Ii)return"";Ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var F=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){F=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){F=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var N=_.split(`
`),q=b.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===q.length)for(o=N.length-1,h=q.length-1;1<=o&&0<=h&&N[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==q[h]){var $=`
`+N[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{Ii=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yt(a):""}function Mn(t,i){switch(t.tag){case 26:case 27:case 5:return Yt(t.type);case 16:return Yt("Lazy");case 13:return t.child!==i&&i!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return On(t.type,!1);case 11:return On(t.type.render,!1);case 1:return On(t.type,!0);case 31:return Yt("Activity");default:return""}}function ke(t){try{var i="",a=null;do i+=Mn(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Me=Object.prototype.hasOwnProperty,Ye=s.unstable_scheduleCallback,zt=s.unstable_cancelCallback,Yn=s.unstable_shouldYield,Ls=s.unstable_requestPaint,Gt=s.unstable_now,Dt=s.unstable_getCurrentPriorityLevel,hn=s.unstable_ImmediatePriority,Ur=s.unstable_UserBlockingPriority,Ni=s.unstable_NormalPriority,Qo=s.unstable_LowPriority,zr=s.unstable_IdlePriority,Br=s.log,es=s.unstable_setDisableYieldValue,fn=null,ot=null;function dn(t){if(typeof Br=="function"&&es(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(fn,t)}catch{}}var vt=Math.clz32?Math.clz32:Us,Ra=Math.log,gi=Math.LN2;function Us(t){return t>>>=0,t===0?32:31-(Ra(t)/gi|0)|0}var mn=256,Di=262144,wt=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function En(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=kn(o):(_&=b,_!==0?h=kn(_):a||(a=b&~t,a!==0&&(h=kn(a))))):(b=o&~f,b!==0?h=kn(b):_!==0?h=kn(_):a||(a=o&~t,a!==0&&(h=kn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ia(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Na(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function Xn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ts(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ko(t,i,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-vt(a),Z=1<<$;b[$]=0,N[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}a&=~Z}o!==0&&ns(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function ns(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-vt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Vn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-vt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function is(t,i){var a=i&-i;return a=(a&42)!==0?1:ss(a),(a&(t.suspendedLanes|i))!==0?0:a}function ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Da(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:B0(t.type))}function jn(t,i){var a=K.p;try{return K.p=t,i()}finally{K.p=a}}var Pn=Math.random().toString(36).slice(2),St="__reactFiber$"+Pn,Ot="__reactProps$"+Pn,$n="__reactContainer$"+Pn,zs="__reactEvents$"+Pn,Oa="__reactListeners$"+Pn,Ma="__reactHandles$"+Pn,ka="__reactResources$"+Pn,Jn="__reactMarker$"+Pn;function Bs(t){delete t[St],delete t[Ot],delete t[zs],delete t[Oa],delete t[Ma]}function Wn(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[$n]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=A0(t);t!==null;){if(a=t[St])return a;t=A0(t)}return i}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[St]||t[$n]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ln(t){var i=t[ka];return i||(i=t[ka]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[Jn]=!0}var qs=new Set,qr={};function Zn(t,i){ei(t,i),ei(t+"Capture",i)}function ei(t,i){for(qr[t]=i,t=0;t<i.length;t++)qs.add(i[t])}var Hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Fr={};function Va(t){return Me.call(Fr,t)?!0:Me.call(Hr,t)?!1:Hs.test(t)?Fr[t]=!0:(Hr[t]=!0,!1)}function Fs(t,i,a){if(Va(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Mt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ae(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function oe(t){if(!t._valueTracker){var i=W(t)?"checked":"value";t._valueTracker=ae(t,i,""+t[i])}}function Ie(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=W(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Je(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gn=/[\n"\\]/g;function rn(t){return t.replace(gn,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ja(t,i,a,o,h,f,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Mt(i)):t.value!==""+Mt(i)&&(t.value=""+Mt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Yo(t,_,Mt(i)):a!=null?Yo(t,_,Mt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Mt(b):t.removeAttribute("name")}function Tu(t,i,a,o,h,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){oe(t);return}a=a!=null?""+Mt(a):"",i=i!=null?""+Mt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),oe(t)}function Yo(t,i,a){i==="number"&&Je(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gs(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Mt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function wu(t,i,a){if(i!=null&&(i=""+Mt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Mt(a):""}function Qs(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ke(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Mt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),oe(t)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Su.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function $o(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Xo(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Xo(t,f,i[f])}function Pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(t){return Ks.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _i(){}var Jo=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ys=null,Oi=null;function Gr(t){var i=Tn(t);if(i&&(t=i.stateNode)){var a=t[Ot]||null;e:switch(t=i.stateNode,i.type){case"input":if(ja(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Ot]||null;if(!h)throw Error(r(90));ja(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Ie(o)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Gs(t,!!a.multiple,i,!1)}}}var Ua=!1;function Xs(t,i,a){if(Ua)return t(i,a);Ua=!0;try{var o=t(i);return o}finally{if(Ua=!1,(Ys!==null||Oi!==null)&&(_c(),Ys&&(i=Ys,t=Oi,Oi=Ys=null,Gr(i),t)))for(i=0;i<t.length;i++)Gr(t[i])}}function vi(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ot]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(ni)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Qr=!1}var Mi=null,Wo=null,Kr=null;function Zo(){if(Kr)return Kr;var t,i=Wo,a=i.length,o,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Kr=h.slice(t,1<o?1-o:void 0)}function Yr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function rs(){return!0}function Ei(){return!1}function Xt(t){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rs:Ei,this.isPropagationStopped=Ei,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),i}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Xt(as),$s=w({},as,{view:0,detail:0}),el=Xt($s),Js,za,Vi,Ba=w({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Js=t.screenX-Vi.screenX,za=t.screenY-Vi.screenY):za=Js=0,Vi=t),Js)},movementY:function(t){return"movementY"in t?t.movementY:za}}),tl=Xt(Ba),Xr=w({},Ba,{dataTransfer:0}),xu=Xt(Xr),Cu=w({},$s,{relatedTarget:0}),$r=Xt(Cu),nl=w({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=Xt(nl),qa=w({},as,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iu=Xt(qa),Nu=w({},as,{data:0}),ji=Xt(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Mu[t])?!!i[t]:!1}function Ws(){return ku}var yn=w({},$s,{key:function(t){if(t.key){var i=Du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(t){return t.type==="keypress"?Yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vu=Xt(yn),ju=w({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=Xt(ju),c=w({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),m=Xt(c),v=w({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Xt(v),L=w({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Xt(L),ue=w({},as,{newState:0,oldState:0}),Ve=Xt(ue),Ct=[9,13,27,32],tt=ni&&"CompositionEvent"in window,yt=null;ni&&"documentMode"in document&&(yt=document.documentMode);var ii=ni&&"TextEvent"in window&&!yt,Pi=ni&&(!tt||yt&&8<yt&&11>=yt),bi=" ",Ti=!1;function Jr(t,i){switch(t){case"keyup":return Ct.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function Db(t,i){switch(t){case"compositionend":return Ha(i);case"keypress":return i.which!==32?null:(Ti=!0,bi);case"textInput":return t=i.data,t===bi&&Ti?null:t;default:return null}}function Ob(t,i){if(Fa)return t==="compositionend"||!tt&&Jr(t,i)?(t=Zo(),Kr=Wo=Mi=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pi&&i.locale!=="ko"?null:i.data;default:return null}}var Mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mb[t.type]:i==="textarea"}function Ip(t,i,a,o){Ys?Oi?Oi.push(o):Oi=[o]:Ys=o,i=Ac(i,"onChange"),0<i.length&&(a=new ki("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var il=null,sl=null;function kb(t){h0(t,0)}function Pu(t){var i=pn(t);if(Ie(i))return t}function Np(t,i){if(t==="change")return i}var Dp=!1;if(ni){var Xh;if(ni){var $h="oninput"in document;if(!$h){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),$h=typeof Op.oninput=="function"}Xh=$h}else Xh=!1;Dp=Xh&&(!document.documentMode||9<document.documentMode)}function Mp(){il&&(il.detachEvent("onpropertychange",kp),sl=il=null)}function kp(t){if(t.propertyName==="value"&&Pu(sl)){var i=[];Ip(i,sl,t,ti(t)),Xs(kb,i)}}function Vb(t,i,a){t==="focusin"?(Mp(),il=i,sl=a,il.attachEvent("onpropertychange",kp)):t==="focusout"&&Mp()}function jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(sl)}function Pb(t,i){if(t==="click")return Pu(i)}function Lb(t,i){if(t==="input"||t==="change")return Pu(i)}function Ub(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Un=typeof Object.is=="function"?Object.is:Ub;function rl(t,i){if(Un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Me.call(i,h)||!Un(t[h],i[h]))return!1}return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,i){var a=Vp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vp(a)}}function Pp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Lp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Je(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Je(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zb=ni&&"documentMode"in document&&11>=document.documentMode,Ga=null,Wh=null,al=null,Zh=!1;function Up(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||Ga==null||Ga!==Je(o)||(o=Ga,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),al&&rl(al,o)||(al=o,o=Ac(Wh,"onSelect"),0<o.length&&(i=new ki("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ga)))}function Wr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Qa={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},ef={},zp={};ni&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Zr(t){if(ef[t])return ef[t];if(!Qa[t])return t;var i=Qa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in zp)return ef[t]=i[a];return t}var Bp=Zr("animationend"),qp=Zr("animationiteration"),Hp=Zr("animationstart"),Bb=Zr("transitionrun"),qb=Zr("transitionstart"),Hb=Zr("transitioncancel"),Fp=Zr("transitionend"),Gp=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function wi(t,i){Gp.set(t,i),Zn(i,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],Ka=0,nf=0;function Uu(){for(var t=Ka,i=nf=Ka=0;i<t;){var a=si[i];si[i++]=null;var o=si[i];si[i++]=null;var h=si[i];si[i++]=null;var f=si[i];if(si[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Qp(a,h,f)}}function zu(t,i,a,o){si[Ka++]=t,si[Ka++]=i,si[Ka++]=a,si[Ka++]=o,nf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sf(t,i,a,o){return zu(t,i,a,o),Bu(t)}function ea(t,i){return zu(t,null,null,i),Bu(t)}function Qp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-vt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Bu(t){if(50<Rl)throw Rl=0,dd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ya={};function Fb(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,a,o){return new Fb(t,i,a,o)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ls(t,i){var a=t.alternate;return a===null?(a=zn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,o,h,f){var _=0;if(o=t,typeof t=="function")rf(t)&&(_=1);else if(typeof t=="string")_=XT(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=zn(31,a,i,h),t.elementType=C,t.lanes=f,t;case B:return ta(a.children,h,f,i);case H:_=8,h|=24;break;case ie:return t=zn(12,a,i,h|2),t.elementType=ie,t.lanes=f,t;case Ee:return t=zn(13,a,i,h),t.elementType=Ee,t.lanes=f,t;case we:return t=zn(19,a,i,h),t.elementType=we,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:_=10;break e;case he:_=9;break e;case Oe:_=11;break e;case R:_=14;break e;case x:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=zn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function ta(t,i,a,o){return t=zn(7,t,o,i),t.lanes=a,t}function af(t,i,a){return t=zn(6,t,null,i),t.lanes=a,t}function Yp(t){var i=zn(18,null,null,0);return i.stateNode=t,i}function of(t,i,a){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Xp=new WeakMap;function ri(t,i){if(typeof t=="object"&&t!==null){var a=Xp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ke(i)},Xp.set(t,i),i)}return{value:t,source:i,stack:ke(i)}}var Xa=[],$a=0,Hu=null,ol=0,ai=[],oi=0,Zs=null,Li=1,Ui="";function us(t,i){Xa[$a++]=ol,Xa[$a++]=Hu,Hu=t,ol=i}function $p(t,i,a){ai[oi++]=Li,ai[oi++]=Ui,ai[oi++]=Zs,Zs=t;var o=Li;t=Ui;var h=32-vt(o)-1;o&=~(1<<h),a+=1;var f=32-vt(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Li=1<<32-vt(i)+h|a<<h|o,Ui=f+t}else Li=1<<f|a<<h|o,Ui=t}function lf(t){t.return!==null&&(us(t,1),$p(t,1,0))}function uf(t){for(;t===Hu;)Hu=Xa[--$a],Xa[$a]=null,ol=Xa[--$a],Xa[$a]=null;for(;t===Zs;)Zs=ai[--oi],ai[oi]=null,Ui=ai[--oi],ai[oi]=null,Li=ai[--oi],ai[oi]=null}function Jp(t,i){ai[oi++]=Li,ai[oi++]=Ui,ai[oi++]=Zs,Li=i.id,Ui=i.overflow,Zs=t}var $t=null,dt=null,Xe=!1,er=null,li=!1,cf=Error(r(519));function tr(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(ri(i,t)),cf}function Wp(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[St]=t,i[Ot]=o,a){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)ze(Nl[a],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Tu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Qs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||p0(i.textContent,a)?(o.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),o.onScroll!=null&&ze("scroll",i),o.onScrollEnd!=null&&ze("scrollend",i),o.onClick!=null&&(i.onclick=_i),i=!0):i=!1,i||tr(t,!0)}function Zp(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:$t=$t.return}}function Ja(t){if(t!==$t)return!1;if(!Xe)return Zp(t),Xe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&dt&&tr(t),Zp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=S0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=S0(t)}else i===27?(i=dt,pr(t.type)?(t=Md,Md=null,dt=t):dt=i):dt=$t?ci(t.stateNode.nextSibling):null;return!0}function na(){dt=$t=null,Xe=!1}function hf(){var t=er;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),er=null),t}function ll(t){er===null?er=[t]:er.push(t)}var ff=I(null),ia=null,cs=null;function nr(t,i,a){re(ff,i._currentValue),i._currentValue=a}function hs(t){t._currentValue=ff.current,X(ff)}function df(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function mf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),df(f.return,a,t),o||(_=null);break e}f=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Wa(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=h.type;Un(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===ve.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}h=h.return}t!==null&&mf(i,t,a,o),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ia=t,cs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return eg(ia,t)}function Gu(t,i){return ia===null&&sa(t),eg(t,i)}function eg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},cs===null){if(t===null)throw Error(r(308));cs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else cs=cs.next=i;return a}var Gb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Qb=s.unstable_scheduleCallback,Kb=s.unstable_NormalPriority,kt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new Gb,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&Qb(Kb,function(){t.controller.abort()})}var cl=null,gf=0,Za=0,eo=null;function Yb(t,i){if(cl===null){var a=cl=[];gf=0,Za=vd(),eo={status:"pending",value:void 0,then:function(o){a.push(o)}}}return gf++,i.then(tg,tg),i}function tg(){if(--gf===0&&cl!==null){eo!==null&&(eo.status="fulfilled");var t=cl;cl=null,Za=0,eo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Xb(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ng=Y.S;Y.S=function(t,i){Uy=Gt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Yb(t,i),ng!==null&&ng(t,i)};var ra=I(null);function yf(){var t=ra.current;return t!==null?t:ft.pooledCache}function Qu(t,i){i===null?re(ra,ra.current):re(ra,i.pool)}function ig(){var t=yf();return t===null?null:{parent:kt._currentValue,pool:t}}var to=Error(r(460)),_f=Error(r(474)),Ku=Error(r(542)),Yu={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(_i,_i),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,og(t),t;default:if(typeof i.status=="string")i.then(_i,_i);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,og(t),t}throw oa=i,to}}function aa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,to):a}}var oa=null;function ag(){if(oa===null)throw Error(r(459));var t=oa;return oa=null,t}function og(t){if(t===to||t===Ku)throw Error(r(483))}var no=null,hl=0;function Xu(t){var i=hl;return hl+=1,no===null&&(no=[]),rg(no,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $u(t,i){throw i.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function lg(t){function i(P,k){if(t){var z=P.deletions;z===null?(P.deletions=[k],P.flags|=16):z.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)i(P,k),k=k.sibling;return null}function o(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=ls(P,k),P.index=0,P.sibling=null,P}function f(P,k,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<k?(P.flags|=67108866,k):z):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,k,z,J){return k===null||k.tag!==6?(k=af(z,P.mode,J),k.return=P,k):(k=h(k,z),k.return=P,k)}function N(P,k,z,J){var be=z.type;return be===B?$(P,k,z.props.children,J,z.key):k!==null&&(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&aa(be)===k.type)?(k=h(k,z.props),fl(k,z),k.return=P,k):(k=qu(z.type,z.key,z.props,null,P.mode,J),fl(k,z),k.return=P,k)}function q(P,k,z,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=of(z,P.mode,J),k.return=P,k):(k=h(k,z.children||[]),k.return=P,k)}function $(P,k,z,J,be){return k===null||k.tag!==7?(k=ta(z,P.mode,J,be),k.return=P,k):(k=h(k,z),k.return=P,k)}function Z(P,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=af(""+k,P.mode,z),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case V:return z=qu(k.type,k.key,k.props,null,P.mode,z),fl(z,k),z.return=P,z;case U:return k=of(k,P.mode,z),k.return=P,k;case x:return k=aa(k),Z(P,k,z)}if(Ke(k)||j(k))return k=ta(k,P.mode,z,null),k.return=P,k;if(typeof k.then=="function")return Z(P,Xu(k),z);if(k.$$typeof===pe)return Z(P,Gu(P,k),z);$u(P,k)}return null}function F(P,k,z,J){var be=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return be!==null?null:b(P,k,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===be?N(P,k,z,J):null;case U:return z.key===be?q(P,k,z,J):null;case x:return z=aa(z),F(P,k,z,J)}if(Ke(z)||j(z))return be!==null?null:$(P,k,z,J,null);if(typeof z.then=="function")return F(P,k,Xu(z),J);if(z.$$typeof===pe)return F(P,k,Gu(P,z),J);$u(P,z)}return null}function Q(P,k,z,J,be){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(z)||null,b(k,P,""+J,be);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return P=P.get(J.key===null?z:J.key)||null,N(k,P,J,be);case U:return P=P.get(J.key===null?z:J.key)||null,q(k,P,J,be);case x:return J=aa(J),Q(P,k,z,J,be)}if(Ke(J)||j(J))return P=P.get(z)||null,$(k,P,J,be,null);if(typeof J.then=="function")return Q(P,k,z,Xu(J),be);if(J.$$typeof===pe)return Q(P,k,z,Gu(k,J),be);$u(k,J)}return null}function me(P,k,z,J){for(var be=null,We=null,ge=k,Pe=k=0,He=null;ge!==null&&Pe<z.length;Pe++){ge.index>Pe?(He=ge,ge=null):He=ge.sibling;var Ze=F(P,ge,z[Pe],J);if(Ze===null){ge===null&&(ge=He);break}t&&ge&&Ze.alternate===null&&i(P,ge),k=f(Ze,k,Pe),We===null?be=Ze:We.sibling=Ze,We=Ze,ge=He}if(Pe===z.length)return a(P,ge),Xe&&us(P,Pe),be;if(ge===null){for(;Pe<z.length;Pe++)ge=Z(P,z[Pe],J),ge!==null&&(k=f(ge,k,Pe),We===null?be=ge:We.sibling=ge,We=ge);return Xe&&us(P,Pe),be}for(ge=o(ge);Pe<z.length;Pe++)He=Q(ge,P,Pe,z[Pe],J),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Pe:He.key),k=f(He,k,Pe),We===null?be=He:We.sibling=He,We=He);return t&&ge.forEach(function(Er){return i(P,Er)}),Xe&&us(P,Pe),be}function Se(P,k,z,J){if(z==null)throw Error(r(151));for(var be=null,We=null,ge=k,Pe=k=0,He=null,Ze=z.next();ge!==null&&!Ze.done;Pe++,Ze=z.next()){ge.index>Pe?(He=ge,ge=null):He=ge.sibling;var Er=F(P,ge,Ze.value,J);if(Er===null){ge===null&&(ge=He);break}t&&ge&&Er.alternate===null&&i(P,ge),k=f(Er,k,Pe),We===null?be=Er:We.sibling=Er,We=Er,ge=He}if(Ze.done)return a(P,ge),Xe&&us(P,Pe),be;if(ge===null){for(;!Ze.done;Pe++,Ze=z.next())Ze=Z(P,Ze.value,J),Ze!==null&&(k=f(Ze,k,Pe),We===null?be=Ze:We.sibling=Ze,We=Ze);return Xe&&us(P,Pe),be}for(ge=o(ge);!Ze.done;Pe++,Ze=z.next())Ze=Q(ge,P,Pe,Ze.value,J),Ze!==null&&(t&&Ze.alternate!==null&&ge.delete(Ze.key===null?Pe:Ze.key),k=f(Ze,k,Pe),We===null?be=Ze:We.sibling=Ze,We=Ze);return t&&ge.forEach(function(aw){return i(P,aw)}),Xe&&us(P,Pe),be}function ht(P,k,z,J){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:e:{for(var be=z.key;k!==null;){if(k.key===be){if(be=z.type,be===B){if(k.tag===7){a(P,k.sibling),J=h(k,z.props.children),J.return=P,P=J;break e}}else if(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&aa(be)===k.type){a(P,k.sibling),J=h(k,z.props),fl(J,z),J.return=P,P=J;break e}a(P,k);break}else i(P,k);k=k.sibling}z.type===B?(J=ta(z.props.children,P.mode,J,z.key),J.return=P,P=J):(J=qu(z.type,z.key,z.props,null,P.mode,J),fl(J,z),J.return=P,P=J)}return _(P);case U:e:{for(be=z.key;k!==null;){if(k.key===be)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(P,k.sibling),J=h(k,z.children||[]),J.return=P,P=J;break e}else{a(P,k);break}else i(P,k);k=k.sibling}J=of(z,P.mode,J),J.return=P,P=J}return _(P);case x:return z=aa(z),ht(P,k,z,J)}if(Ke(z))return me(P,k,z,J);if(j(z)){if(be=j(z),typeof be!="function")throw Error(r(150));return z=be.call(z),Se(P,k,z,J)}if(typeof z.then=="function")return ht(P,k,Xu(z),J);if(z.$$typeof===pe)return ht(P,k,Gu(P,z),J);$u(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(P,k.sibling),J=h(k,z),J.return=P,P=J):(a(P,k),J=af(z,P.mode,J),J.return=P,P=J),_(P)):a(P,k)}return function(P,k,z,J){try{hl=0;var be=ht(P,k,z,J);return no=null,be}catch(ge){if(ge===to||ge===Ku)throw ge;var We=zn(29,ge,null,P.mode);return We.lanes=J,We.return=P,We}finally{}}}var la=lg(!0),ug=lg(!1),ir=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Bu(t),Qp(t,null,a),i}return zu(t,o,i,a),Bu(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Vn(t,a)}}function bf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Tf=!1;function ml(){if(Tf){var t=eo;if(t!==null)throw t}}function pl(t,i,a,o){Tf=!1;var h=t.updateQueue;ir=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,q=N.next;N.next=null,_===null?f=q:_.next=q,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=q:b.next=q,$.lastBaseUpdate=N))}if(f!==null){var Z=h.baseState;_=0,$=q=N=null,b=f;do{var F=b.lane&-536870913,Q=F!==b.lane;if(Q?(qe&F)===F:(o&F)===F){F!==0&&F===Za&&(Tf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=t,Se=b;F=i;var ht=a;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){Z=me.call(ht,Z,F);break e}Z=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,F=typeof me=="function"?me.call(ht,Z,F):me,F==null)break e;Z=w({},Z,F);break e;case 2:ir=!0}}F=b.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(q=$=Q,N=Z):$=$.next=Q,_|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),cr|=_,t.lanes=_,t.memoizedState=Z}}function cg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function hg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cg(a[t],i)}var io=I(null),Ju=I(0);function fg(t,i){t=Es,re(Ju,t),re(io,i),Es=t|i.baseLanes}function wf(){re(Ju,Es),re(io,io.current)}function Sf(){Es=Ju.current,X(io),X(Ju)}var Bn=I(null),ui=null;function ar(t){var i=t.alternate;re(Rt,Rt.current&1),re(Bn,t),ui===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(ui=t)}function Af(t){re(Rt,Rt.current),re(Bn,t),ui===null&&(ui=t)}function dg(t){t.tag===22?(re(Rt,Rt.current),re(Bn,t),ui===null&&(ui=t)):or()}function or(){re(Rt,Rt.current),re(Bn,Bn.current)}function qn(t){X(Bn),ui===t&&(ui=null),X(Rt)}var Rt=I(0);function Wu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||Od(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fs=0,je=null,ut=null,Vt=null,Zu=!1,so=!1,ua=!1,ec=0,gl=0,ro=null,$b=0;function At(){throw Error(r(321))}function xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Un(t[a],i[a]))return!1;return!0}function Cf(t,i,a,o,h,f){return fs=f,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?$g:qf,ua=!1,f=a(o,h),ua=!1,so&&(f=pg(i,a,o,h)),mg(t),f}function mg(t){Y.H=vl;var i=ut!==null&&ut.next!==null;if(fs=0,Vt=ut=je=null,Zu=!1,gl=0,ro=null,i)throw Error(r(300));t===null||jt||(t=t.dependencies,t!==null&&Fu(t)&&(jt=!0))}function pg(t,i,a,o){je=t;var h=0;do{if(so&&(ro=null),gl=0,so=!1,25<=h)throw Error(r(301));if(h+=1,Vt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Jg,f=i(a,o)}while(so);return f}function Jb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(je.flags|=1024),i}function Rf(){var t=ec!==0;return ec=0,t}function If(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Nf(t){if(Zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Zu=!1}fs=0,Vt=ut=je=null,so=!1,gl=ec=0,ro=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function It(){if(ut===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var i=Vt===null?je.memoizedState:Vt.next;if(i!==null)Vt=i,ut=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,ro===null&&(ro=[]),t=rg(ro,t,i),i=je,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?$g:qf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===pe)return Jt(t)}throw Error(r(438,String(t)))}function Df(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function ds(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=It();return Of(i,ut,t)}function Of(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var b=_=null,N=null,q=i,$=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(qe&Z)===Z:(fs&Z)===Z){var F=q.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Za&&($=!0);else if((fs&F)===F){q=q.next,F===Za&&($=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=Z,_=f):N=N.next=Z,je.lanes|=F,cr|=F;Z=q.action,ua&&a(f,Z),f=q.hasEagerState?q.eagerState:a(f,Z)}else F={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=F,_=f):N=N.next=F,je.lanes|=Z,cr|=Z;q=q.next}while(q!==null&&q!==i);if(N===null?_=f:N.next=b,!Un(f,t.memoizedState)&&(jt=!0,$&&(a=eo,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Mf(t){var i=It(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Un(f,i.memoizedState)||(jt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function gg(t,i,a){var o=je,h=It(),f=Xe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Un((ut||h).memoizedState,a);if(_&&(h.memoizedState=a,jt=!0),h=h.queue,jf(vg.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,ao(9,{destroy:void 0},_g.bind(null,o,h,a,i),null),ft===null)throw Error(r(349));f||(fs&127)!==0||yg(o,i,a)}return a}function yg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=tc(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function _g(t,i,a,o){i.value=a,i.getSnapshot=o,Eg(i)&&bg(t)}function vg(t,i,a){return a(function(){Eg(i)&&bg(t)})}function Eg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Un(t,a)}catch{return!0}}function bg(t){var i=ea(t,2);i!==null&&Rn(i,t,2)}function kf(t){var i=_n();if(typeof t=="function"){var a=t;if(t=a(),ua){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:t},i}function Tg(t,i,a,o){return t.baseState=a,Of(t,ut,typeof o=="function"?o:ds)}function Wb(t,i,a,o,h){if(ac(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Y.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,wg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function wg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=Y.T,_={};Y.T=_;try{var b=a(h,o),N=Y.S;N!==null&&N(_,b),Sg(t,i,b)}catch(q){Vf(t,i,q)}finally{f!==null&&_.types!==null&&(f.types=_.types),Y.T=f}}else try{f=a(h,o),Sg(t,i,f)}catch(q){Vf(t,i,q)}}function Sg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ag(t,i,o)},function(o){return Vf(t,i,o)}):Ag(t,i,a)}function Ag(t,i,a){i.status="fulfilled",i.value=a,xg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,wg(t,a)))}function Vf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,xg(i),i=i.next;while(i!==o)}t.action=null}function xg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Cg(t,i){return i}function Rg(t,i){if(Xe){var a=ft.formState;if(a!==null){e:{var o=je;if(Xe){if(dt){t:{for(var h=dt,f=li;h.nodeType!==8;){if(!f){h=null;break t}if(h=ci(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=ci(h.nextSibling),o=h.data==="F!";break e}}tr(o)}o=!1}o&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:i},a.queue=o,a=Kg.bind(null,je,o),o.dispatch=a,o=kf(!1),f=Bf.bind(null,je,!1,o.queue),o=_n(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=Wb.bind(null,je,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Ig(t){var i=It();return Ng(i,ut,t)}function Ng(t,i,a){if(i=Of(t,i,Cg)[0],t=ic(ds)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=yl(i)}catch(_){throw _===to?Ku:_}else o=i;i=It();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,ao(9,{destroy:void 0},Zb.bind(null,h,a),null)),[o,f,t]}function Zb(t,i){t.action=i}function Dg(t){var i=It(),a=ut;if(a!==null)return Ng(i,a,t);It(),i=i.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function ao(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=je.updateQueue,i===null&&(i=tc(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Og(){return It().memoizedState}function sc(t,i,a,o){var h=_n();je.flags|=t,h.memoizedState=ao(1|i,{destroy:void 0},a,o===void 0?null:o)}function rc(t,i,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;ut!==null&&o!==null&&xf(o,ut.memoizedState.deps)?h.memoizedState=ao(i,f,a,o):(je.flags|=t,h.memoizedState=ao(1|i,f,a,o))}function Mg(t,i){sc(8390656,8,t,i)}function jf(t,i){rc(2048,8,t,i)}function eT(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=tc(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function kg(t){var i=It().memoizedState;return eT({ref:i,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Vg(t,i){return rc(4,2,t,i)}function jg(t,i){return rc(4,4,t,i)}function Pg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Lg(t,i,a){a=a!=null?a.concat([t]):null,rc(4,4,Pg.bind(null,i,t),a)}function Pf(){}function Ug(t,i){var a=It();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&xf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function zg(t,i){var a=It();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&xf(i,o[1]))return o[0];if(o=t(),ua){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[o,i],o}function Lf(t,i,a){return a===void 0||(fs&1073741824)!==0&&(qe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=By(),je.lanes|=t,cr|=t,a)}function Bg(t,i,a,o){return Un(a,i)?a:io.current!==null?(t=Lf(t,a,o),Un(t,i)||(jt=!0),t):(fs&42)===0||(fs&1073741824)!==0&&(qe&261930)===0?(jt=!0,t.memoizedState=a):(t=By(),je.lanes|=t,cr|=t,i)}function qg(t,i,a,o,h){var f=K.p;K.p=f!==0&&8>f?f:8;var _=Y.T,b={};Y.T=b,Bf(t,!1,i,a);try{var N=h(),q=Y.S;if(q!==null&&q(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=Xb(N,o);_l(t,i,$,Gn(t))}else _l(t,i,o,Gn(t))}catch(Z){_l(t,i,{then:function(){},status:"rejected",reason:Z},Gn())}finally{K.p=f,_!==null&&b.types!==null&&(_.types=b.types),Y.T=_}}function tT(){}function Uf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=Hg(t).queue;qg(t,h,i,se,a===null?tT:function(){return Fg(t),a(o)})}function Hg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Fg(t){var i=Hg(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},Gn())}function zf(){return Jt(Vl)}function Gg(){return It().memoizedState}function Qg(){return It().memoizedState}function nT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Gn();t=sr(a);var o=rr(i,t,a);o!==null&&(Rn(o,i,a),dl(o,i,a)),i={cache:pf()},t.payload=i;return}i=i.return}}function iT(t,i,a){var o=Gn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?Yg(i,a):(a=sf(t,i,a,o),a!==null&&(Rn(a,t,o),Xg(a,i,o)))}function Kg(t,i,a){var o=Gn();_l(t,i,a,o)}function _l(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))Yg(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,b=f(_,a);if(h.hasEagerState=!0,h.eagerState=b,Un(b,_))return zu(t,i,h,0),ft===null&&Uu(),!1}catch{}finally{}if(a=sf(t,i,h,o),a!==null)return Rn(a,t,o),Xg(a,i,o),!0}return!1}function Bf(t,i,a,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(r(479))}else i=sf(t,a,o,2),i!==null&&Rn(i,t,2)}function ac(t){var i=t.alternate;return t===je||i!==null&&i===je}function Yg(t,i){so=Zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Xg(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Vn(t,a)}}var vl={readContext:Jt,use:nc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};vl.useEffectEvent=At;var $g={readContext:Jt,use:nc,useCallback:function(t,i){return _n().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:Mg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,sc(4194308,4,Pg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return sc(4194308,4,t,i)},useInsertionEffect:function(t,i){sc(4,2,t,i)},useMemo:function(t,i){var a=_n();i=i===void 0?null:i;var o=t();if(ua){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=_n();if(a!==void 0){var h=a(i);if(ua){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=iT.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var i=_n();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,a=Kg.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(t,i){var a=_n();return Lf(a,t,i)},useTransition:function(){var t=kf(!1);return t=qg.bind(null,je,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=je,h=_n();if(Xe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ft===null)throw Error(r(349));(qe&127)!==0||yg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Mg(vg.bind(null,o,f,t),[t]),o.flags|=2048,ao(9,{destroy:void 0},_g.bind(null,o,f,a,i),null),a},useId:function(){var t=_n(),i=ft.identifierPrefix;if(Xe){var a=Ui,o=Li;a=(o&~(1<<32-vt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$b++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:zf,useFormState:Rg,useActionState:Rg,useOptimistic:function(t){var i=_n();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:Df,useCacheRefresh:function(){return _n().memoizedState=nT.bind(null,je)},useEffectEvent:function(t){var i=_n(),a={impl:t};return i.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:Jt,use:nc,useCallback:Ug,useContext:Jt,useEffect:jf,useImperativeHandle:Lg,useInsertionEffect:Vg,useLayoutEffect:jg,useMemo:zg,useReducer:ic,useRef:Og,useState:function(){return ic(ds)},useDebugValue:Pf,useDeferredValue:function(t,i){var a=It();return Bg(a,ut.memoizedState,t,i)},useTransition:function(){var t=ic(ds)[0],i=It().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:zf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,i){var a=It();return Tg(a,ut,t,i)},useMemoCache:Df,useCacheRefresh:Qg};qf.useEffectEvent=kg;var Jg={readContext:Jt,use:nc,useCallback:Ug,useContext:Jt,useEffect:jf,useImperativeHandle:Lg,useInsertionEffect:Vg,useLayoutEffect:jg,useMemo:zg,useReducer:Mf,useRef:Og,useState:function(){return Mf(ds)},useDebugValue:Pf,useDeferredValue:function(t,i){var a=It();return ut===null?Lf(a,t,i):Bg(a,ut.memoizedState,t,i)},useTransition:function(){var t=Mf(ds)[0],i=It().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:zf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,i){var a=It();return ut!==null?Tg(a,ut,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Qg};Jg.useEffectEvent=kg;function Hf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ff={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Gn(),h=sr(o);h.payload=i,a!=null&&(h.callback=a),i=rr(t,h,o),i!==null&&(Rn(i,t,o),dl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Gn(),h=sr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=rr(t,h,o),i!==null&&(Rn(i,t,o),dl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Gn(),o=sr(a);o.tag=2,i!=null&&(o.callback=i),i=rr(t,o,a),i!==null&&(Rn(i,t,a),dl(i,t,a))}};function Wg(t,i,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!rl(a,o)||!rl(h,f):!0}function Zg(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Ff.enqueueReplaceState(i,i.state,null)}function ca(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ey(t){Lu(t)}function ty(t){console.error(t)}function ny(t){Lu(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function iy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,i,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function sy(t){return t=sr(t),t.tag=3,t}function ry(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){iy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){iy(i,a,o),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function sT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Wa(i,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?vc():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),gd(t,o,h)),!1;case 22:return a.flags|=65536,o===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),gd(t,o,h)),!1}throw Error(r(435,a.tag))}return gd(t,o,h),vc(),!1}if(Xe)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==cf&&(t=Error(r(422),{cause:o}),ll(ri(t,a)))):(o!==cf&&(i=Error(r(423),{cause:o}),ll(ri(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ri(o,a),h=Gf(t.stateNode,o,h),bf(t,h),xt!==4&&(xt=2)),!1;var f=Error(r(520),{cause:o});if(f=ri(f,a),Cl===null?Cl=[f]:Cl.push(f),xt!==4&&(xt=2),i===null)return!0;o=ri(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Gf(a.stateNode,o,t),bf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ry(h,t,a,o),bf(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(r(461)),jt=!1;function Wt(t,i,a,o){i.child=t===null?ug(i,null,a,o):la(i,t.child,a,o)}function ay(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var b in o)b!=="ref"&&(_[b]=o[b])}else _=o;return sa(i),o=Cf(t,i,a,_,f,h),b=Rf(),t!==null&&!jt?(If(t,i,h),ms(t,i,h)):(Xe&&b&&lf(i),i.flags|=1,Wt(t,i,o,h),i.child)}function oy(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,ly(t,i,f,o,h)):(t=qu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!ed(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(_,o)&&t.ref===i.ref)return ms(t,i,h)}return i.flags|=1,t=ls(f,o),t.ref=i.ref,t.return=i,i.child=t}function ly(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(rl(f,o)&&t.ref===i.ref)if(jt=!1,i.pendingProps=o=f,ed(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,ms(t,i,h)}return Kf(t,i,a,o,h)}function uy(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return cy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,f!==null?f.cachePool:null),f!==null?fg(i,f):wf(),dg(i);else return o=i.lanes=536870912,cy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Qu(i,f.cachePool),fg(i,f),or(),i.memoizedState=null):(t!==null&&Qu(i,null),wf(),or());return Wt(t,i,h,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cy(t,i,a,o,h){var f=yf();return f=f===null?null:{parent:kt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Qu(i,null),wf(),dg(i),t!==null&&Wa(t,i,o,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function hy(t,i,a){return la(i,t.child,null,a),t=lc(i,i.pendingProps),t.flags|=2,qn(i),i.memoizedState=null,t}function rT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Xe){if(o.mode==="hidden")return t=lc(i,o),i.lanes=536870912,El(null,t);if(Af(i),(t=dt)?(t=w0(t,li),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Zs!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Yp(t),a.return=i,i.child=a,$t=i,dt=null)):t=null,t===null)throw tr(i);return i.lanes=536870912,null}return lc(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Af(i),h)if(i.flags&256)i.flags&=-257,i=hy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(jt||Wa(t,i,a,!1),h=(a&t.childLanes)!==0,jt||h){if(o=ft,o!==null&&(_=is(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,ea(t,_),Rn(o,t,_),Qf;vc(),i=hy(t,i,a)}else t=f.treeContext,dt=ci(_.nextSibling),$t=i,Xe=!0,er=null,li=!1,t!==null&&Jp(i,t),i=lc(i,o),i.flags|=4096;return i}return t=ls(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Kf(t,i,a,o,h){return sa(i),a=Cf(t,i,a,o,void 0,h),o=Rf(),t!==null&&!jt?(If(t,i,h),ms(t,i,h)):(Xe&&o&&lf(i),i.flags|=1,Wt(t,i,a,h),i.child)}function fy(t,i,a,o,h,f){return sa(i),i.updateQueue=null,a=pg(i,o,a,h),mg(t),o=Rf(),t!==null&&!jt?(If(t,i,f),ms(t,i,f)):(Xe&&o&&lf(i),i.flags|=1,Wt(t,i,a,f),i.child)}function dy(t,i,a,o,h){if(sa(i),i.stateNode===null){var f=Ya,_=a.contextType;typeof _=="object"&&_!==null&&(f=Jt(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},vf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Jt(_):Ya,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Hf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Ff.enqueueReplaceState(f,f.state,null),pl(i,o,f,h),ml(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,N=ca(a,b);f.props=N;var q=f.context,$=a.contextType;_=Ya,typeof $=="object"&&$!==null&&(_=Jt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||q!==_)&&Zg(i,f,o,_),ir=!1;var F=i.memoizedState;f.state=F,pl(i,o,f,h),ml(),q=i.memoizedState,b||F!==q||ir?(typeof Z=="function"&&(Hf(i,a,Z,o),q=i.memoizedState),(N=ir||Wg(i,a,N,o,F,q,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=_,o=N):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Ef(t,i),_=i.memoizedProps,$=ca(a,_),f.props=$,Z=i.pendingProps,F=f.context,q=a.contextType,N=Ya,typeof q=="object"&&q!==null&&(N=Jt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Z||F!==N)&&Zg(i,f,o,N),ir=!1,F=i.memoizedState,f.state=F,pl(i,o,f,h),ml();var Q=i.memoizedState;_!==Z||F!==Q||ir||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof b=="function"&&(Hf(i,a,b,o),Q=i.memoizedState),($=ir||Wg(i,a,$,o,F,Q,N)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Q,N)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Q),f.props=o,f.state=Q,f.context=N,o=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,uc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=la(i,t.child,null,h),i.child=la(i,null,a,h)):Wt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=ms(t,i,h),t}function my(t,i,a,o){return na(),i.flags|=256,Wt(t,i,a,o),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(t){return{baseLanes:t,cachePool:ig()}}function $f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fn),t}function py(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Xe){if(h?ar(i):or(),(t=dt)?(t=w0(t,li),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Zs!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Yp(t),a.return=i,i.child=a,$t=i,dt=null)):t=null,t===null)throw tr(i);return Od(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(or(),h=i.mode,b=cc({mode:"hidden",children:b},h),o=ta(o,h,a,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=Xf(a),o.childLanes=$f(t,_,a),i.memoizedState=Yf,El(null,o)):(ar(i),Jf(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)i.flags&256?(ar(i),i.flags&=-257,i=Wf(t,i,a)):i.memoizedState!==null?(or(),i.child=t.child,i.flags|=128,i=null):(or(),b=o.fallback,h=i.mode,o=cc({mode:"visible",children:o.children},h),b=ta(b,h,a,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,la(i,t.child,null,a),o=i.child,o.memoizedState=Xf(a),o.childLanes=$f(t,_,a),i.memoizedState=Yf,i=El(null,o));else if(ar(i),Od(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var q=_.dgst;_=q,o=Error(r(419)),o.stack="",o.digest=_,ll({value:o,source:null,stack:null}),i=Wf(t,i,a)}else if(jt||Wa(t,i,a,!1),_=(a&t.childLanes)!==0,jt||_){if(_=ft,_!==null&&(o=is(_,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,ea(t,o),Rn(_,t,o),Qf;Dd(b)||vc(),i=Wf(t,i,a)}else Dd(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,dt=ci(b.nextSibling),$t=i,Xe=!0,er=null,li=!1,t!==null&&Jp(i,t),i=Jf(i,o.children),i.flags|=4096);return i}return h?(or(),b=o.fallback,h=i.mode,N=t.child,q=N.sibling,o=ls(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,q!==null?b=ls(q,b):(b=ta(b,h,a,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,El(null,o),o=i.child,b=t.child.memoizedState,b===null?b=Xf(a):(h=b.cachePool,h!==null?(N=kt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ig(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=$f(t,_,a),i.memoizedState=Yf,El(t.child,o)):(ar(i),a=t.child,t=a.sibling,a=ls(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Jf(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=zn(22,t,null,i),t.lanes=0,t}function Wf(t,i,a){return la(i,t.child,null,a),t=Jf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),df(t.return,i,a)}function Zf(t,i,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function yy(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=Rt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,re(Rt,_),Wt(t,i,o,a),o=Xe?ol:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,a,i);else if(t.tag===19)gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Zf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zf(i,!0,a,null,f,o);break;case"together":Zf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ms(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),cr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Wa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ls(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ls(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ed(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function aT(t,i,a){switch(i.tag){case 3:Be(i,i.stateNode.containerInfo),nr(i,kt,t.memoizedState.cache),na();break;case 27:case 5:Nn(i);break;case 4:Be(i,i.stateNode.containerInfo);break;case 10:nr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Af(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(i),i.flags|=128,null):(a&i.child.childLanes)!==0?py(t,i,a):(ar(i),t=ms(t,i,a),t!==null?t.sibling:null);ar(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Wa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return yy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Rt,Rt.current),o)break;return null;case 22:return i.lanes=0,uy(t,i,a,i.pendingProps);case 24:nr(i,kt,t.memoizedState.cache)}return ms(t,i,a)}function _y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!ed(t,a)&&(i.flags&128)===0)return jt=!1,aT(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,Xe&&(i.flags&1048576)!==0&&$p(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=aa(i.elementType),i.type=t,typeof t=="function")rf(t)?(o=ca(t,o),i.tag=1,i=dy(null,i,t,o,a)):(i.tag=0,i=Kf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Oe){i.tag=11,i=ay(null,i,t,o,a);break e}else if(h===R){i.tag=14,i=oy(null,i,t,o,a);break e}}throw i=Le(t)||t,Error(r(306,i,""))}}return i;case 0:return Kf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ca(o,i.pendingProps),dy(t,i,o,h,a);case 3:e:{if(Be(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Ef(t,i),pl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,nr(i,kt,o),o!==f.cache&&mf(i,[kt],a,!0),ml(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=my(t,i,o,a);break e}else if(o!==h){h=ri(Error(r(424)),i),ll(h),i=my(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=ci(t.firstChild),$t=i,Xe=!0,er=null,li=!0,a=ug(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(na(),o===h){i=ms(t,i,a);break e}Wt(t,i,o,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=I0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Xe||(a=i.type,t=i.pendingProps,o=xc(_e.current).createElement(a),o[St]=i,o[Ot]=t,Zt(o,a,t),Et(o),i.stateNode=o):i.memoizedState=I0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Nn(i),t===null&&Xe&&(o=i.stateNode=x0(i.type,i.pendingProps,_e.current),$t=i,li=!0,h=dt,pr(i.type)?(Md=h,dt=ci(o.firstChild)):dt=h),Wt(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Xe&&((h=o=dt)&&(o=jT(o,i.type,i.pendingProps,li),o!==null?(i.stateNode=o,$t=i,dt=ci(o.firstChild),li=!1,h=!0):h=!1),h||tr(i)),Nn(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:_!==null&&Rd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Cf(t,i,Jb,null,null,a),Vl._currentValue=h),uc(t,i),Wt(t,i,o,a),i.child;case 6:return t===null&&Xe&&((t=a=dt)&&(a=PT(a,i.pendingProps,li),a!==null?(i.stateNode=a,$t=i,dt=null,t=!0):t=!1),t||tr(i)),null;case 13:return py(t,i,a);case 4:return Be(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=la(i,null,o,a):Wt(t,i,o,a),i.child;case 11:return ay(t,i,i.type,i.pendingProps,a);case 7:return Wt(t,i,i.pendingProps,a),i.child;case 8:return Wt(t,i,i.pendingProps.children,a),i.child;case 12:return Wt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,nr(i,i.type,o.value),Wt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,sa(i),h=Jt(h),o=o(h),i.flags|=1,Wt(t,i,o,a),i.child;case 14:return oy(t,i,i.type,i.pendingProps,a);case 15:return ly(t,i,i.type,i.pendingProps,a);case 19:return yy(t,i,a);case 31:return rT(t,i,a);case 22:return uy(t,i,a,i.pendingProps);case 24:return sa(i),o=Jt(kt),t===null?(h=yf(),h===null&&(h=ft,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},vf(i),nr(i,kt,h)):((t.lanes&a)!==0&&(Ef(t,i),pl(i,null,null,a),ml()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),nr(i,kt,o)):(o=f.cache,nr(i,kt,o),o!==h.cache&&mf(i,[kt],a,!0))),Wt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ps(t){t.flags|=4}function td(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gy())t.flags|=8192;else throw oa=Yu,_f}else t.flags&=-16777217}function vy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k0(i))if(Gy())t.flags|=8192;else throw oa=Yu,_f}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Na():536870912,t.lanes|=i,co|=i)}function bl(t,i){if(!Xe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function oT(t,i,a){var o=i.pendingProps;switch(uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),hs(kt),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(i)?ps(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hf())),mt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(ps(i),f!==null?(mt(i),vy(i,f)):(mt(i),td(i,h,null,o,a))):f?f!==t.memoizedState?(ps(i),mt(i),vy(i,f)):(mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&ps(i),mt(i),td(i,h,t,o,a)),null;case 27:if(Kn(i),a=_e.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ps(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return mt(i),null}t=le.current,Ja(i)?Wp(i):(t=x0(h,o,a),i.stateNode=t,ps(i))}return mt(i),null;case 5:if(Kn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ps(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return mt(i),null}if(f=le.current,Ja(i))Wp(i);else{var _=xc(_e.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[St]=i,f[Ot]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Zt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ps(i)}}return mt(i),td(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ps(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=_e.current,Ja(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=$t,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||p0(t.nodeValue,a)),t||tr(i,!0)}else t=xc(t).createTextNode(o),t[St]=i,i.stateNode=t}return mt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ja(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=i}else na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),t=!1}else a=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(qn(i),i):(qn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return mt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ja(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[St]=i}else na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(qn(i),i):(qn(i),null)}return qn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),mt(i),null);case 4:return it(),t===null&&wd(i.stateNode.containerInfo),mt(i),null;case 10:return hs(i.type),mt(i),null;case 19:if(X(Rt),o=i.memoizedState,o===null)return mt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)bl(o,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Wu(t),f!==null){for(i.flags|=128,bl(o,!1),t=f.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Kp(a,t),a=a.sibling;return re(Rt,Rt.current&1|2),Xe&&us(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Gt()>gc&&(i.flags|=128,h=!0,bl(o,!1),i.lanes=4194304)}else{if(!h)if(t=Wu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Xe)return mt(i),null}else 2*Gt()-o.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,bl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,a=Rt.current,re(Rt,h?a&1|2:a&1),Xe&&us(i,o.treeForkCount),t):(mt(i),null);case 22:case 23:return qn(i),Sf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&X(ra),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hs(kt),mt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function lT(t,i){switch(uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return hs(kt),it(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 31:if(i.memoizedState!==null){if(qn(i),i.alternate===null)throw Error(r(340));na()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(qn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));na()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Rt),null;case 4:return it(),null;case 10:return hs(i.type),null;case 22:case 23:return qn(i),Sf(),t!==null&&X(ra),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return hs(kt),null;case 25:return null;default:return null}}function Ey(t,i){switch(uf(i),i.tag){case 3:hs(kt),it();break;case 26:case 27:case 5:Kn(i);break;case 4:it();break;case 31:i.memoizedState!==null&&qn(i);break;case 13:qn(i);break;case 19:X(Rt);break;case 10:hs(i.type);break;case 22:case 23:qn(i),Sf(),t!==null&&X(ra);break;case 24:hs(kt)}}function Tl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(b){at(i,i.return,b)}}function lr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var N=a,q=b;try{q()}catch($){at(h,N,$)}}}o=o.next}while(o!==f)}}catch($){at(i,i.return,$)}}function by(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hg(i,a)}catch(o){at(t,t.return,o)}}}function Ty(t,i,a){a.props=ca(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){at(t,i,o)}}function wl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){at(t,i,h)}}function zi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){at(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,i,h)}else a.current=null}function wy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function nd(t,i,a){try{var o=t.stateNode;NT(o,t.type,a,i),o[Ot]=i}catch(h){at(t,t.return,h)}}function Sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pr(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_i));else if(o!==4&&(o===27&&pr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(sd(t,i,a),t=t.sibling;t!==null;)sd(t,i,a),t=t.sibling}function fc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&pr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function Ay(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Zt(i,o,a),i[St]=t,i[Ot]=a}catch(f){at(t,t.return,f)}}var gs=!1,Pt=!1,rd=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function uT(t,i){if(t=t.containerInfo,xd=Mc,t=Lp(t),Jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,q=0,$=0,Z=t,F=null;t:for(;;){for(var Q;Z!==a||h!==0&&Z.nodeType!==3||(b=_+h),Z!==f||o!==0&&Z.nodeType!==3||(N=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)F=Z,Z=Q;for(;;){if(Z===t)break t;if(F===a&&++q===h&&(b=_),F===f&&++$===o&&(N=_),(Q=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:t,selectionRange:a},Mc=!1,Qt=i;Qt!==null;)if(i=Qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Qt=t;else for(;Qt!==null;){switch(i=Qt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var me=ca(a.type,h);t=o.getSnapshotBeforeUpdate(me,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Se){at(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Qt=t;break}Qt=i.return}}function Cy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:_s(t,a),o&4&&Tl(5,a);break;case 1:if(_s(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){at(a,a.return,_)}else{var h=ca(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){at(a,a.return,_)}}o&64&&by(a),o&512&&wl(a,a.return);break;case 3:if(_s(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hg(t,i)}catch(_){at(a,a.return,_)}}break;case 27:i===null&&o&4&&Ay(a);case 26:case 5:_s(t,a),i===null&&o&4&&wy(a),o&512&&wl(a,a.return);break;case 12:_s(t,a);break;case 31:_s(t,a),o&4&&Ny(t,a);break;case 13:_s(t,a),o&4&&Dy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_T.bind(null,a),LT(t,a))));break;case 22:if(o=a.memoizedState!==null||gs,!o){i=i!==null&&i.memoizedState!==null||Pt,h=gs;var f=Pt;gs=o,(Pt=i)&&!f?vs(t,a,(a.subtreeFlags&8772)!==0):_s(t,a),gs=h,Pt=f}break;case 30:break;default:_s(t,a)}}function Ry(t){var i=t.alternate;i!==null&&(t.alternate=null,Ry(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Bs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Sn=!1;function ys(t,i,a){for(a=a.child;a!==null;)Iy(t,i,a),a=a.sibling}function Iy(t,i,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(fn,a)}catch{}switch(a.tag){case 26:Pt||zi(a,i),ys(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||zi(a,i);var o=_t,h=Sn;pr(a.type)&&(_t=a.stateNode,Sn=!1),ys(t,i,a),Ol(a.stateNode),_t=o,Sn=h;break;case 5:Pt||zi(a,i);case 6:if(o=_t,h=Sn,_t=null,ys(t,i,a),_t=o,Sn=h,_t!==null)if(Sn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(f){at(a,i,f)}else try{_t.removeChild(a.stateNode)}catch(f){at(a,i,f)}break;case 18:_t!==null&&(Sn?(t=_t,b0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),vo(t)):b0(_t,a.stateNode));break;case 4:o=_t,h=Sn,_t=a.stateNode.containerInfo,Sn=!0,ys(t,i,a),_t=o,Sn=h;break;case 0:case 11:case 14:case 15:lr(2,a,i),Pt||lr(4,a,i),ys(t,i,a);break;case 1:Pt||(zi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,i,o)),ys(t,i,a);break;case 21:ys(t,i,a);break;case 22:Pt=(o=Pt)||a.memoizedState!==null,ys(t,i,a),Pt=o;break;default:ys(t,i,a)}}function Ny(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{vo(t)}catch(a){at(i,i.return,a)}}}function Dy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{vo(t)}catch(a){at(i,i.return,a)}}function cT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new xy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new xy),i;default:throw Error(r(435,t.tag))}}function dc(t,i){var a=cT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=vT.bind(null,t,o);o.then(h,h)}})}function An(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(pr(b.type)){_t=b.stateNode,Sn=!1;break e}break;case 5:_t=b.stateNode,Sn=!1;break e;case 3:case 4:_t=b.stateNode.containerInfo,Sn=!0;break e}b=b.return}if(_t===null)throw Error(r(160));Iy(f,_,h),_t=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Oy(i,t),i=i.sibling}var Si=null;function Oy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),xn(t),o&4&&(lr(3,t,t.return),Tl(3,t),lr(5,t,t.return));break;case 1:An(i,t),xn(t),o&512&&(Pt||a===null||zi(a,a.return)),o&64&&gs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Si;if(An(i,t),xn(t),o&512&&(Pt||a===null||zi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Jn]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,o,a),f[St]=t,Et(f),o=f;break e;case"link":var _=O0("link","href",h).get(o+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}f=h.createElement(o),Zt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=O0("meta","content",h).get(o+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}f=h.createElement(o),Zt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[St]=t,Et(f),o=f}t.stateNode=o}else M0(h,t.type,t.stateNode);else t.stateNode=D0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?M0(h,t.type,t.stateNode):D0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),xn(t),o&512&&(Pt||a===null||zi(a,a.return)),a!==null&&o&4&&nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),xn(t),o&512&&(Pt||a===null||zi(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(me){at(t,t.return,me)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(An(i,t),xn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(me){at(t,t.return,me)}}break;case 3:if(Ic=null,h=Si,Si=Cc(i.containerInfo),An(i,t),Si=h,xn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{vo(i.containerInfo)}catch(me){at(t,t.return,me)}rd&&(rd=!1,My(t));break;case 4:o=Si,Si=Cc(t.stateNode.containerInfo),An(i,t),xn(t),Si=o;break;case 12:An(i,t),xn(t);break;case 31:An(i,t),xn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 13:An(i,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=gs,$=Pt;if(gs=q||h,Pt=$||N,An(i,t),Pt=$,gs=q,xn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||gs||Pt||ha(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var Z=N.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){at(N,N.return,me)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){at(N,N.return,me)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?T0(Q,!0):T0(N.stateNode,!1)}catch(me){at(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dc(t,a))));break;case 19:An(i,t),xn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 30:break;case 21:break;default:An(i,t),xn(t)}}function xn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=id(t);fc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(wn(_,""),a.flags&=-33);var b=id(t);fc(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,q=id(t);sd(t,q,N);break;default:throw Error(r(161))}}catch($){at(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;My(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function _s(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cy(t,i.alternate,i),i=i.sibling}function ha(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:lr(4,i,i.return),ha(i);break;case 1:zi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ty(i,i.return,a),ha(i);break;case 27:Ol(i.stateNode);case 26:case 5:zi(i,i.return),ha(i);break;case 22:i.memoizedState===null&&ha(i);break;case 30:ha(i);break;default:ha(i)}t=t.sibling}}function vs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:vs(h,f,a),Tl(4,f);break;case 1:if(vs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){at(o,o.return,q)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)cg(N[h],b)}catch(q){at(o,o.return,q)}}a&&_&64&&by(f),wl(f,f.return);break;case 27:Ay(f);case 26:case 5:vs(h,f,a),a&&o===null&&_&4&&wy(f),wl(f,f.return);break;case 12:vs(h,f,a);break;case 31:vs(h,f,a),a&&_&4&&Ny(h,f);break;case 13:vs(h,f,a),a&&_&4&&Dy(h,f);break;case 22:f.memoizedState===null&&vs(h,f,a),wl(f,f.return);break;case 30:break;default:vs(h,f,a)}i=i.sibling}}function ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function Ai(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ky(t,i,a,o),i=i.sibling}function ky(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ai(t,i,a,o),h&2048&&Tl(9,i);break;case 1:Ai(t,i,a,o);break;case 3:Ai(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){Ai(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){at(i,i.return,N)}}else Ai(t,i,a,o);break;case 31:Ai(t,i,a,o);break;case 13:Ai(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Ai(t,i,a,o):Sl(t,i):f._visibility&2?Ai(t,i,a,o):(f._visibility|=2,oo(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ad(_,i);break;case 24:Ai(t,i,a,o),h&2048&&od(i.alternate,i);break;default:Ai(t,i,a,o)}}function oo(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,b=a,N=o,q=_.flags;switch(_.tag){case 0:case 11:case 15:oo(f,_,b,N,h),Tl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?oo(f,_,b,N,h):Sl(f,_):($._visibility|=2,oo(f,_,b,N,h)),h&&q&2048&&ad(_.alternate,_);break;case 24:oo(f,_,b,N,h),h&&q&2048&&od(_.alternate,_);break;default:oo(f,_,b,N,h)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Sl(a,o),h&2048&&ad(o.alternate,o);break;case 24:Sl(a,o),h&2048&&od(o.alternate,o);break;default:Sl(a,o)}i=i.sibling}}var Al=8192;function lo(t,i,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Vy(t,i,a),t=t.sibling}function Vy(t,i,a){switch(t.tag){case 26:lo(t,i,a),t.flags&Al&&t.memoizedState!==null&&$T(a,Si,t.memoizedState,t.memoizedProps);break;case 5:lo(t,i,a);break;case 3:case 4:var o=Si;Si=Cc(t.stateNode.containerInfo),lo(t,i,a),Si=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Al,Al=16777216,lo(t,i,a),Al=o):lo(t,i,a));break;default:lo(t,i,a)}}function jy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Qt=o,Ly(o,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):xl(t);break;default:xl(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Qt=o,Ly(o,t)}jy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:lr(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function Ly(t,i){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ul(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Qt=o;else e:for(a=t;Qt!==null;){o=Qt;var h=o.sibling,f=o.return;if(Ry(o),o===a){Qt=null;break e}if(h!==null){h.return=f,Qt=h;break e}Qt=f}}}var hT={getCacheForType:function(t){var i=Jt(kt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Jt(kt).controller.signal}},fT=typeof WeakMap=="function"?WeakMap:Map,nt=0,ft=null,Ue=null,qe=0,rt=0,Hn=null,ur=!1,uo=!1,ld=!1,Es=0,xt=0,cr=0,fa=0,ud=0,Fn=0,co=0,Cl=null,Cn=null,cd=!1,pc=0,Uy=0,gc=1/0,yc=null,hr=null,Bt=0,fr=null,ho=null,bs=0,hd=0,fd=null,zy=null,Rl=0,dd=null;function Gn(){return(nt&2)!==0&&qe!==0?qe&-qe:Y.T!==null?vd():Da()}function By(){if(Fn===0)if((qe&536870912)===0||Xe){var t=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),Fn=t}else Fn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Fn}function Rn(t,i,a){(t===ft&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(fo(t,0),dr(t,qe,Fn,!1)),ts(t,a),((nt&2)===0||t!==ft)&&(t===ft&&((nt&2)===0&&(fa|=a),xt===4&&dr(t,qe,Fn,!1)),Bi(t))}function qy(t,i,a){if((nt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||bn(t,i),h=o?pT(t,i):pd(t,i,!0),f=o;do{if(h===0){uo&&!o&&dr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!dT(a)){h=pd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=Cl;var N=b.current.memoizedState.isDehydrated;if(N&&(fo(b,_).flags|=256),_=pd(b,_,!1),_!==2){if(ld&&!N){b.errorRecoveryDisabledLanes|=f,fa|=f,h=4;break e}f=Cn,Cn=h,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){fo(t,0),dr(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:dr(o,i,Fn,!ur);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=pc+300-Gt(),10<h)){if(dr(o,i,Fn,!ur),En(o,0,!0)!==0)break e;bs=i,o.timeoutHandle=v0(Hy.bind(null,o,a,Cn,yc,cd,i,Fn,fa,co,ur,f,"Throttled",-0,0),h);break e}Hy(o,a,Cn,yc,cd,i,Fn,fa,co,ur,f,null,-0,0)}}break}while(!0);Bi(t)}function Hy(t,i,a,o,h,f,_,b,N,q,$,Z,F,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Vy(i,f,Z);var me=(f&62914560)===f?pc-Gt():(f&4194048)===f?Uy-Gt():0;if(me=JT(Z,me),me!==null){bs=f,t.cancelPendingCommit=me(Jy.bind(null,t,i,f,a,o,h,_,b,N,$,Z,null,F,Q)),dr(t,f,_,!q);return}}Jy(t,i,f,a,o,h,_,b,N)}function dT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(t,i,a,o){i&=~ud,i&=~fa,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-vt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&ns(t,a,i)}function _c(){return(nt&6)===0?(Il(0),!1):!0}function md(){if(Ue!==null){if(rt===0)var t=Ue.return;else t=Ue,cs=ia=null,Nf(t),no=null,hl=0,t=Ue;for(;t!==null;)Ey(t.alternate,t),t=t.return;Ue=null}}function fo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,MT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bs=0,md(),ft=t,Ue=a=ls(t.current,null),qe=i,rt=0,Hn=null,ur=!1,uo=bn(t,i),ld=!1,co=Fn=ud=fa=cr=xt=0,Cn=Cl=null,cd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-vt(o),f=1<<h;i|=t[h],o&=~f}return Es=i,Uu(),a}function Fy(t,i){je=null,Y.H=vl,i===to||i===Ku?(i=ag(),rt=3):i===_f?(i=ag(),rt=4):rt=i===Qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,Ue===null&&(xt=1,oc(t,ri(i,t.current)))}function Gy(){var t=Bn.current;return t===null?!0:(qe&4194048)===qe?ui===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ui:!1}function Qy(){var t=Y.H;return Y.H=vl,t===null?vl:t}function Ky(){var t=Y.A;return Y.A=hT,t}function vc(){xt=4,ur||(qe&4194048)!==qe&&Bn.current!==null||(uo=!0),(cr&134217727)===0&&(fa&134217727)===0||ft===null||dr(ft,qe,Fn,!1)}function pd(t,i,a){var o=nt;nt|=2;var h=Qy(),f=Ky();(ft!==t||qe!==i)&&(yc=null,fo(t,i)),i=!1;var _=xt;e:do try{if(rt!==0&&Ue!==null){var b=Ue,N=Hn;switch(rt){case 8:md(),_=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var q=rt;if(rt=0,Hn=null,mo(t,b,N,q),a&&uo){_=0;break e}break;default:q=rt,rt=0,Hn=null,mo(t,b,N,q)}}mT(),_=xt;break}catch($){Fy(t,$)}while(!0);return i&&t.shellSuspendCounter++,cs=ia=null,nt=o,Y.H=h,Y.A=f,Ue===null&&(ft=null,qe=0,Uu()),_}function mT(){for(;Ue!==null;)Yy(Ue)}function pT(t,i){var a=nt;nt|=2;var o=Qy(),h=Ky();ft!==t||qe!==i?(yc=null,gc=Gt()+500,fo(t,i)):uo=bn(t,i);e:do try{if(rt!==0&&Ue!==null){i=Ue;var f=Hn;t:switch(rt){case 1:rt=0,Hn=null,mo(t,i,f,1);break;case 2:case 9:if(sg(f)){rt=0,Hn=null,Xy(i);break}i=function(){rt!==2&&rt!==9||ft!==t||(rt=7),Bi(t)},f.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:sg(f)?(rt=0,Hn=null,Xy(i)):(rt=0,Hn=null,mo(t,i,f,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var b=Ue;if(_?k0(_):b.stateNode.complete){rt=0,Hn=null;var N=b.sibling;if(N!==null)Ue=N;else{var q=b.return;q!==null?(Ue=q,Ec(q)):Ue=null}break t}}rt=0,Hn=null,mo(t,i,f,5);break;case 6:rt=0,Hn=null,mo(t,i,f,6);break;case 8:md(),xt=6;break e;default:throw Error(r(462))}}gT();break}catch($){Fy(t,$)}while(!0);return cs=ia=null,Y.H=o,Y.A=h,nt=a,Ue!==null?0:(ft=null,qe=0,Uu(),xt)}function gT(){for(;Ue!==null&&!Yn();)Yy(Ue)}function Yy(t){var i=_y(t.alternate,t,Es);t.memoizedProps=t.pendingProps,i===null?Ec(t):Ue=i}function Xy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=fy(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=fy(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Nf(i);default:Ey(a,i),i=Ue=Kp(i,Es),i=_y(a,i,Es)}t.memoizedProps=t.pendingProps,i===null?Ec(t):Ue=i}function mo(t,i,a,o){cs=ia=null,Nf(i),no=null,hl=0;var h=i.return;try{if(sT(t,h,i,a,qe)){xt=1,oc(t,ri(a,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;xt=1,oc(t,ri(a,t.current)),Ue=null;return}i.flags&32768?(Xe||o===1?t=!0:uo||(qe&536870912)!==0?t=!1:(ur=t=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){$y(i,ur);return}t=i.return;var a=oT(i.alternate,i,Es);if(a!==null){Ue=a;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);xt===0&&(xt=5)}function $y(t,i){do{var a=lT(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);xt=6,Ue=null}function Jy(t,i,a,o,h,f,_,b,N){t.cancelPendingCommit=null;do bc();while(Bt!==0);if((nt&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=nf,Ko(t,a,f,_,b,N),t===ft&&(Ue=ft=null,qe=0),ho=i,fr=t,bs=a,hd=f,fd=h,zy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ET(Ni,function(){return n0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,h=K.p,K.p=2,_=nt,nt|=4;try{uT(t,i,a)}finally{nt=_,K.p=h,Y.T=o}}Bt=1,Wy(),Zy(),e0()}}function Wy(){if(Bt===1){Bt=0;var t=fr,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var o=K.p;K.p=2;var h=nt;nt|=4;try{Oy(i,t);var f=Cd,_=Lp(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&Pp(b.ownerDocument.documentElement,b)){if(N!==null&&Jh(b)){var q=N.start,$=N.end;if($===void 0&&($=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min($,b.value.length);else{var Z=b.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Q=F.getSelection(),me=b.textContent.length,Se=Math.min(N.start,me),ht=N.end===void 0?Se:Math.min(N.end,me);!Q.extend&&Se>ht&&(_=ht,ht=Se,Se=_);var P=jp(b,Se),k=jp(b,ht);if(P&&k&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var z=Z.createRange();z.setStart(P.node,P.offset),Q.removeAllRanges(),Se>ht?(Q.addRange(z),Q.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),Q.addRange(z))}}}}for(Z=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var J=Z[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Mc=!!xd,Cd=xd=null}finally{nt=h,K.p=o,Y.T=a}}t.current=i,Bt=2}}function Zy(){if(Bt===2){Bt=0;var t=fr,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var o=K.p;K.p=2;var h=nt;nt|=4;try{Cy(t,i.alternate,i)}finally{nt=h,K.p=o,Y.T=a}}Bt=3}}function e0(){if(Bt===4||Bt===3){Bt=0,Ls();var t=fr,i=ho,a=bs,o=zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,ho=fr=null,t0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(hr=null),yi(a),i=i.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(fn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Y.T,h=K.p,K.p=2,Y.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var b=o[_];f(b.value,{componentStack:b.stack})}}finally{Y.T=i,K.p=h}}(bs&3)!==0&&bc(),Bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===dd?Rl++:(Rl=0,dd=t):Rl=0,Il(0)}}function t0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function bc(){return Wy(),Zy(),e0(),n0()}function n0(){if(Bt!==5)return!1;var t=fr,i=hd;hd=0;var a=yi(bs),o=Y.T,h=K.p;try{K.p=32>a?32:a,Y.T=null,a=fd,fd=null;var f=fr,_=bs;if(Bt=0,ho=fr=null,bs=0,(nt&6)!==0)throw Error(r(331));var b=nt;if(nt|=4,Py(f.current),ky(f,f.current,_,a),nt=b,Il(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(fn,f)}catch{}return!0}finally{K.p=h,Y.T=o,t0(t,i)}}function i0(t,i,a){i=ri(a,i),i=Gf(t.stateNode,i,2),t=rr(t,i,2),t!==null&&(ts(t,2),Bi(t))}function at(t,i,a){if(t.tag===3)i0(t,t,a);else for(;i!==null;){if(i.tag===3){i0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){t=ri(a,t),a=sy(2),o=rr(i,a,2),o!==null&&(ry(a,o,i,t),ts(o,2),Bi(o));break}}i=i.return}}function gd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new fT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ld=!0,h.add(a),t=yT.bind(null,t,i,a),i.then(t,t))}function yT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(qe&a)===a&&(xt===4||xt===3&&(qe&62914560)===qe&&300>Gt()-pc?(nt&2)===0&&fo(t,0):ud|=a,co===qe&&(co=0)),Bi(t)}function s0(t,i){i===0&&(i=Na()),t=ea(t,i),t!==null&&(ts(t,i),Bi(t))}function _T(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),s0(t,a)}function vT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),s0(t,a)}function ET(t,i){return Ye(t,i)}var Tc=null,po=null,yd=!1,wc=!1,_d=!1,mr=0;function Bi(t){t!==po&&t.next===null&&(po===null?Tc=po=t:po=po.next=t),wc=!0,yd||(yd=!0,TT())}function Il(t,i){if(!_d&&wc){_d=!0;do for(var a=!1,o=Tc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-vt(42|t)+1)-1,f&=h&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,l0(o,f))}else f=qe,f=En(o,o===ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||bn(o,f)||(a=!0,l0(o,f));o=o.next}while(a);_d=!1}}function bT(){r0()}function r0(){wc=yd=!1;var t=0;mr!==0&&OT()&&(t=mr);for(var i=Gt(),a=null,o=Tc;o!==null;){var h=o.next,f=a0(o,i);f===0?(o.next=null,a===null?Tc=h:a.next=h,h===null&&(po=a)):(a=o,(t!==0||(f&3)!==0)&&(wc=!0)),o=h}Bt!==0&&Bt!==5||Il(t),mr!==0&&(mr=0)}function a0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-vt(f),b=1<<_,N=h[_];N===-1?((b&a)===0||(b&o)!==0)&&(h[_]=Ia(b,i)):N<=i&&(t.expiredLanes|=b),f&=~b}if(i=ft,a=qe,a=En(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&zt(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||bn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&zt(o),yi(a)){case 2:case 8:a=Ur;break;case 32:a=Ni;break;case 268435456:a=zr;break;default:a=Ni}return o=o0.bind(null,t),a=Ye(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&zt(o),t.callbackPriority=2,t.callbackNode=null,2}function o0(t,i){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bc()&&t.callbackNode!==a)return null;var o=qe;return o=En(t,t===ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(qy(t,o,i),a0(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?o0.bind(null,t):null)}function l0(t,i){if(bc())return null;qy(t,i,!0)}function TT(){kT(function(){(nt&6)!==0?Ye(hn,bT):r0()})}function vd(){if(mr===0){var t=Za;t===0&&(t=mn,mn<<=1,(mn&261888)===0&&(mn=256)),mr=t}return mr}function u0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:La(""+t)}function c0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function wT(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=u0((h[Ot]||null).action),_=o.submitter;_&&(i=(i=_[Ot]||null)?u0(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var b=new ki("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(mr!==0){var N=_?c0(h,_):new FormData(h);Uf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=_?c0(h,_):new FormData(h),Uf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Ed=0;Ed<tf.length;Ed++){var bd=tf[Ed],ST=bd.toLowerCase(),AT=bd[0].toUpperCase()+bd.slice(1);wi(ST,"on"+AT)}wi(Bp,"onAnimationEnd"),wi(qp,"onAnimationIteration"),wi(Hp,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Bb,"onTransitionRun"),wi(qb,"onTransitionStart"),wi(Hb,"onTransitionCancel"),wi(Fp,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function h0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var b=o[_],N=b.instance,q=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=q;try{f(h)}catch($){Lu($)}h.currentTarget=null,f=N}else for(_=0;_<o.length;_++){if(b=o[_],N=b.instance,q=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=q;try{f(h)}catch($){Lu($)}h.currentTarget=null,f=N}}}}function ze(t,i){var a=i[zs];a===void 0&&(a=i[zs]=new Set);var o=t+"__bubble";a.has(o)||(f0(i,t,2,!1),a.add(o))}function Td(t,i,a){var o=0;i&&(o|=4),f0(a,t,o,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[Sc]){t[Sc]=!0,qs.forEach(function(a){a!=="selectionchange"&&(xT.has(a)||Td(a,!1,t),Td(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,Td("selectionchange",!1,i))}}function f0(t,i,a,o){switch(B0(i)){case 2:var h=ew;break;case 8:h=tw;break;default:h=Ld}a=h.bind(null,i,a,t),h=void 0,!Qr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var b=o.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Wn(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=f=_;continue e}b=b.parentNode}}o=o.return}Xs(function(){var q=f,$=ti(a),Z=[];e:{var F=Gp.get(t);if(F!==void 0){var Q=ki,me=t;switch(t){case"keypress":if(Yr(a)===0)break e;case"keydown":case"keyup":Q=Vu;break;case"focusin":me="focus",Q=$r;break;case"focusout":me="blur",Q=$r;break;case"beforeblur":case"afterblur":Q=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case Bp:case qp:case Hp:Q=Ru;break;case Fp:Q=S;break;case"scroll":case"scrollend":Q=el;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=os;break;case"toggle":case"beforetoggle":Q=Ve}var Se=(i&4)!==0,ht=!Se&&(t==="scroll"||t==="scrollend"),P=Se?F!==null?F+"Capture":null:F;Se=[];for(var k=q,z;k!==null;){var J=k;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||P===null||(J=vi(k,P),J!=null&&Se.push(Dl(k,J,z))),ht)break;k=k.return}0<Se.length&&(F=new Q(F,me,null,a,$),Z.push({event:F,listeners:Se}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Jo&&(me=a.relatedTarget||a.fromElement)&&(Wn(me)||me[$n]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=q,me=me?Wn(me):null,me!==null&&(ht=u(me),Se=me.tag,me!==ht||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(Q=null,me=q),Q!==me)){if(Se=tl,J="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Se=os,J="onPointerLeave",P="onPointerEnter",k="pointer"),ht=Q==null?F:pn(Q),z=me==null?F:pn(me),F=new Se(J,k+"leave",Q,a,$),F.target=ht,F.relatedTarget=z,J=null,Wn($)===q&&(Se=new Se(P,k+"enter",me,a,$),Se.target=z,Se.relatedTarget=ht,J=Se),ht=J,Q&&me)t:{for(Se=CT,P=Q,k=me,z=0,J=P;J;J=Se(J))z++;J=0;for(var be=k;be;be=Se(be))J++;for(;0<z-J;)P=Se(P),z--;for(;0<J-z;)k=Se(k),J--;for(;z--;){if(P===k||k!==null&&P===k.alternate){Se=P;break t}P=Se(P),k=Se(k)}Se=null}else Se=null;Q!==null&&d0(Z,F,Q,Se,!1),me!==null&&ht!==null&&d0(Z,ht,me,Se,!0)}}e:{if(F=q?pn(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var We=Np;else if(Rp(F))if(Dp)We=Lb;else{We=jb;var ge=Vb}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Pa(q.elementType)&&(We=Np):We=Pb;if(We&&(We=We(t,q))){Ip(Z,We,a,$);break e}ge&&ge(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Yo(F,"number",F.value)}switch(ge=q?pn(q):window,t){case"focusin":(Rp(ge)||ge.contentEditable==="true")&&(Ga=ge,Wh=q,al=null);break;case"focusout":al=Wh=Ga=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Up(Z,a,$);break;case"selectionchange":if(zb)break;case"keydown":case"keyup":Up(Z,a,$)}var Pe;if(tt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Fa?Jr(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Pi&&a.locale!=="ko"&&(Fa||He!=="onCompositionStart"?He==="onCompositionEnd"&&Fa&&(Pe=Zo()):(Mi=$,Wo="value"in Mi?Mi.value:Mi.textContent,Fa=!0)),ge=Ac(q,He),0<ge.length&&(He=new ji(He,t,null,a,$),Z.push({event:He,listeners:ge}),Pe?He.data=Pe:(Pe=Ha(a),Pe!==null&&(He.data=Pe)))),(Pe=ii?Db(t,a):Ob(t,a))&&(He=Ac(q,"onBeforeInput"),0<He.length&&(ge=new ji("onBeforeInput","beforeinput",null,a,$),Z.push({event:ge,listeners:He}),ge.data=Pe)),wT(Z,t,q,a,$)}h0(Z,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vi(t,a),h!=null&&o.unshift(Dl(t,h,f)),h=vi(t,i),h!=null&&o.push(Dl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function CT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d0(t,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var b=a,N=b.alternate,q=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||q===null||(N=q,h?(q=vi(a,f),q!=null&&_.unshift(Dl(a,q,N))):h||(q=vi(a,f),q!=null&&_.push(Dl(a,q,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var RT=/\r\n?/g,IT=/\u0000|\uFFFD/g;function m0(t){return(typeof t=="string"?t:""+t).replace(RT,`
`).replace(IT,"")}function p0(t,i){return i=m0(i),m0(t)===i}function ct(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||wn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&wn(t,""+o);break;case"className":sn(t,"class",o);break;case"tabIndex":sn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":sn(t,a,o);break;case"style":$o(t,o,f);break;case"data":if(i!=="object"){sn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=La(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ct(t,i,"name",h.name,h,null),ct(t,i,"formEncType",h.formEncType,h,null),ct(t,i,"formMethod",h.formMethod,h,null),ct(t,i,"formTarget",h.formTarget,h,null)):(ct(t,i,"encType",h.encType,h,null),ct(t,i,"method",h.method,h,null),ct(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=La(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=_i);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=La(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Fs(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Fs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,Fs(t,a,o))}}function Ad(t,i,a,o,h,f){switch(a){case"style":$o(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?wn(t,o):(typeof o=="number"||typeof o=="bigint")&&wn(t,""+o);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Ot]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Fs(t,a,o)}}}function Zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ct(t,i,f,_,a,null)}}h&&ct(t,i,"srcSet",a.srcSet,a,null),o&&ct(t,i,"src",a.src,a,null);return;case"input":ze("invalid",t);var b=f=_=h=null,N=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":q=$;break;case"value":f=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:ct(t,i,o,$,a,null)}}Tu(t,f,b,N,q,_,h,!1);return;case"select":ze("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":o=b;default:ct(t,i,h,b,a,null)}i=f,a=_,t.multiple=!!o,i!=null?Gs(t,!!o,i,!1):a!=null&&Gs(t,!!o,a,!0);return;case"textarea":ze("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ct(t,i,_,b,a,null)}Qs(t,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(t,i,N,o,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(o=0;o<Nl.length;o++)ze(Nl[o],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ct(t,i,q,o,a,null)}return;default:if(Pa(i)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Ad(t,i,$,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&ct(t,i,b,o,a,null))}function NT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,b=null,N=null,q=null,$=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:o.hasOwnProperty(Q)||ct(t,i,Q,null,o,Z)}}for(var F in o){var Q=o[F];if(Z=a[F],o.hasOwnProperty(F)&&(Q!=null||Z!=null))switch(F){case"type":f=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==Z&&ct(t,i,F,Q,o,Z)}}ja(t,_,b,N,q,$,f,h);return;case"select":Q=_=b=F=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":Q=N;default:o.hasOwnProperty(f)||ct(t,i,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":F=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==N&&ct(t,i,h,f,o,N)}i=b,a=_,o=Q,F!=null?Gs(t,!!a,F,!1):!!o!=!!a&&(i!=null?Gs(t,!!a,i,!0):Gs(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ct(t,i,b,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ct(t,i,_,h,o,f)}wu(t,F,Q);return;case"option":for(var me in a)if(F=a[me],a.hasOwnProperty(me)&&F!=null&&!o.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:ct(t,i,me,null,o,F)}for(N in o)if(F=o[N],Q=a[N],o.hasOwnProperty(N)&&F!==Q&&(F!=null||Q!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ct(t,i,N,F,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)F=a[Se],a.hasOwnProperty(Se)&&F!=null&&!o.hasOwnProperty(Se)&&ct(t,i,Se,null,o,F);for(q in o)if(F=o[q],Q=a[q],o.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:ct(t,i,q,F,o,Q)}return;default:if(Pa(i)){for(var ht in a)F=a[ht],a.hasOwnProperty(ht)&&F!==void 0&&!o.hasOwnProperty(ht)&&Ad(t,i,ht,void 0,o,F);for($ in o)F=o[$],Q=a[$],!o.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||Ad(t,i,$,F,o,Q);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!o.hasOwnProperty(P)&&ct(t,i,P,null,o,F);for(Z in o)F=o[Z],Q=a[Z],!o.hasOwnProperty(Z)||F===Q||F==null&&Q==null||ct(t,i,Z,F,o,Q)}function g0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,b=h.duration;if(f&&b&&g0(_)){for(_=0,b=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],q=N.startTime;if(q>b)break;var $=N.transferSize,Z=N.initiatorType;$&&g0(Z)&&(N=N.responseEnd,_+=$*(N<b?1:(b-q)/(N-q)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Cd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function y0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Rd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Id=null;function OT(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch(VT)}:v0;function VT(t){setTimeout(function(){throw t})}function pr(t){return t==="head"}function b0(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),vo(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[Jn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Ol(t.ownerDocument.body);a=h}while(a);vo(i)}function T0(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),Bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jT(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Jn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ci(t.nextSibling),t===null)break}return null}function PT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ci(t.nextSibling),t===null))return null;return t}function w0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ci(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ci(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Md=null;function S0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ci(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function A0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function x0(t,i,a){switch(i=xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Bs(t)}var hi=new Map,C0=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ts=K.d;K.d={f:UT,r:zT,D:BT,C:qT,L:HT,m:FT,X:QT,S:GT,M:KT};function UT(){var t=Ts.f(),i=_c();return t||i}function zT(t){var i=Tn(t);i!==null&&i.tag===5&&i.type==="form"?Fg(i):Ts.r(t)}var go=typeof document>"u"?null:document;function R0(t,i,a){var o=go;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),C0.has(h)||(C0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Zt(i,"link",t),Et(i),o.head.appendChild(i)))}}function BT(t){Ts.D(t),R0("dns-prefetch",t,null)}function qT(t,i){Ts.C(t,i),R0("preconnect",t,i)}function HT(t,i,a){Ts.L(t,i,a);var o=go;if(o&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(i){case"style":f=yo(t);break;case"script":f=_o(t)}hi.has(f)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),hi.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Ml(f))||i==="script"&&o.querySelector(kl(f))||(i=o.createElement("link"),Zt(i,"link",t),Et(i),o.head.appendChild(i)))}}function FT(t,i){Ts.m(t,i);var a=go;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_o(t)}if(!hi.has(f)&&(t=w({rel:"modulepreload",href:t},i),hi.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(f)))return}o=a.createElement("link"),Zt(o,"link",t),Et(o),a.head.appendChild(o)}}}function GT(t,i,a){Ts.S(t,i,a);var o=go;if(o&&t){var h=Ln(o).hoistableStyles,f=yo(t);i=i||"default";var _=h.get(f);if(!_){var b={loading:0,preload:null};if(_=o.querySelector(Ml(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=hi.get(f))&&kd(t,a);var N=_=o.createElement("link");Et(N),Zt(N,"link",t),N._p=new Promise(function(q,$){N.onload=q,N.onerror=$}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Rc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(f,_)}}}function QT(t,i){Ts.X(t,i);var a=go;if(a&&t){var o=Ln(a).hoistableScripts,h=_o(t),f=o.get(h);f||(f=a.querySelector(kl(h)),f||(t=w({src:t,async:!0},i),(i=hi.get(h))&&Vd(t,i),f=a.createElement("script"),Et(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function KT(t,i){Ts.M(t,i);var a=go;if(a&&t){var o=Ln(a).hoistableScripts,h=_o(t),f=o.get(h);f||(f=a.querySelector(kl(h)),f||(t=w({src:t,async:!0,type:"module"},i),(i=hi.get(h))&&Vd(t,i),f=a.createElement("script"),Et(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function I0(t,i,a,o){var h=(h=_e.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yo(a.href),a=Ln(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=yo(a.href);var f=Ln(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Ml(t)))&&!f._p&&(_.instance=f,_.state.loading=5),hi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(t,a),f||YT(h,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=_o(a),a=Ln(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function yo(t){return'href="'+rn(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function N0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function YT(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Zt(i,"link",a),Et(i),t.head.appendChild(i))}function _o(t){return'[src="'+rn(t)+'"]'}function kl(t){return"script[async]"+t}function D0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,Et(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Zt(o,"style",h),Rc(o,a.precedence,t),i.instance=o;case"stylesheet":h=yo(a.href);var f=t.querySelector(Ml(h));if(f)return i.state.loading|=4,i.instance=f,Et(f),f;o=N0(a),(h=hi.get(h))&&kd(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var _=f;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Zt(f,"link",o),i.state.loading|=4,Rc(f,a.precedence,t),i.instance=f;case"script":return f=_o(a.src),(h=t.querySelector(kl(f)))?(i.instance=h,Et(h),h):(o=a,(h=hi.get(f))&&(o=w({},a),Vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Zt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Rc(o,a.precedence,t));return i.instance}function Rc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var b=o[_];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ic=null;function O0(t,i,a){if(Ic===null){var o=new Map,h=Ic=new Map;h.set(a,o)}else h=Ic,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Jn]||f[St]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var b=o.get(_);b?b.push(f):o.set(_,[f])}}return o}function M0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function XT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function k0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $T(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=yo(o.href),f=i.querySelector(Ml(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Et(f);return}f=i.ownerDocument||i,o=N0(o),(h=hi.get(h))&&kd(o,h),f=f.createElement("link"),Et(f);var _=f;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Zt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var jd=0;function JT(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&jd===0&&(jd=62500*DT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(WT,t),Dc=null,Nc.call(t))}function WT(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var o=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Vl={$$typeof:pe,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function ZT(t,i,a,o,h,f,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function V0(t,i,a,o,h,f,_,b,N,q,$,Z){return t=new ZT(t,i,a,_,N,q,$,Z,b),i=1,f===!0&&(i|=24),f=zn(3,null,null,i),t.current=f,f.stateNode=t,i=pf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},vf(f),t}function j0(t){return t?(t=Ya,t):Ya}function P0(t,i,a,o,h,f){h=j0(h),o.context===null?o.context=h:o.pendingContext=h,o=sr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=rr(t,o,i),a!==null&&(Rn(a,t,i),dl(a,t,i))}function L0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Pd(t,i){L0(t,i),(t=t.alternate)&&L0(t,i)}function U0(t){if(t.tag===13||t.tag===31){var i=ea(t,67108864);i!==null&&Rn(i,t,67108864),Pd(t,67108864)}}function z0(t){if(t.tag===13||t.tag===31){var i=Gn();i=ss(i);var a=ea(t,i);a!==null&&Rn(a,t,i),Pd(t,i)}}var Mc=!0;function ew(t,i,a,o){var h=Y.T;Y.T=null;var f=K.p;try{K.p=2,Ld(t,i,a,o)}finally{K.p=f,Y.T=h}}function tw(t,i,a,o){var h=Y.T;Y.T=null;var f=K.p;try{K.p=8,Ld(t,i,a,o)}finally{K.p=f,Y.T=h}}function Ld(t,i,a,o){if(Mc){var h=Ud(o);if(h===null)Sd(t,i,o,kc,a),q0(t,o);else if(iw(h,t,i,a,o))o.stopPropagation();else if(q0(t,o),i&4&&-1<nw.indexOf(t)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=kn(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-vt(_);b.entanglements[1]|=N,_&=~N}Bi(f),(nt&6)===0&&(gc=Gt()+500,Il(0))}}break;case 31:case 13:b=ea(f,2),b!==null&&Rn(b,f,2),_c(),Pd(f,2)}if(f=Ud(o),f===null&&Sd(t,i,o,kc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(t,i,o,null,a)}}function Ud(t){return t=ti(t),zd(t)}var kc=null;function zd(t){if(kc=null,t=Wn(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return kc=t,null}function B0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case hn:return 2;case Ur:return 8;case Ni:case Qo:return 32;case zr:return 268435456;default:return 32}default:return 32}}var Bd=!1,gr=null,yr=null,_r=null,jl=new Map,Pl=new Map,vr=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(t,i){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function Ll(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Tn(i),i!==null&&U0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function iw(t,i,a,o,h){switch(i){case"focusin":return gr=Ll(gr,t,i,a,o,h),!0;case"dragenter":return yr=Ll(yr,t,i,a,o,h),!0;case"mouseover":return _r=Ll(_r,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return jl.set(f,Ll(jl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Pl.set(f,Ll(Pl.get(f)||null,t,i,a,o,h)),!0}return!1}function H0(t){var i=Wn(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,jn(t.priority,function(){z0(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,jn(t.priority,function(){z0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Jo=o,a.target.dispatchEvent(o),Jo=null}else return i=Tn(a),i!==null&&U0(i),t.blockedOn=a,!1;i.shift()}return!0}function F0(t,i,a){Vc(t)&&a.delete(i)}function sw(){Bd=!1,gr!==null&&Vc(gr)&&(gr=null),yr!==null&&Vc(yr)&&(yr=null),_r!==null&&Vc(_r)&&(_r=null),jl.forEach(F0),Pl.forEach(F0)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sw)))}var Pc=null;function G0(t){Pc!==t&&(Pc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(zd(o||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(i,3),i-=3,Uf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function vo(t){function i(N){return jc(N,t)}gr!==null&&jc(gr,t),yr!==null&&jc(yr,t),_r!==null&&jc(_r,t),jl.forEach(i),Pl.forEach(i);for(var a=0;a<vr.length;a++){var o=vr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<vr.length&&(a=vr[0],a.blockedOn===null);)H0(a),a.blockedOn===null&&vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Ot]||null;if(typeof f=="function")_||G0(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ot]||null)b=_.formAction;else if(zd(h)!==null)continue}else b=_.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),G0(a)}}}function Q0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}Lc.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Gn();P0(a,o,t,i,null,null)},Lc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;P0(t.current,2,null,t,null,null),_c(),i[$n]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Da();t={blockedOn:null,target:t,priority:i};for(var a=0;a<vr.length&&i!==0&&i<vr[a].priority;a++);vr.splice(a,0,t),a===0&&H0(t)}};var K0=e.version;if(K0!=="19.2.3")throw Error(r(527,K0,"19.2.3"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var rw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{fn=Uc.inject(rw),ot=Uc}catch{}}return zl.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=ey,f=ty,_=ny;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=V0(t,1,!1,null,null,a,o,null,h,f,_,Q0),t[$n]=i.current,wd(t),new qd(i)},zl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ey,_=ty,b=ny,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=V0(t,1,!0,i,a??null,o,h,N,f,_,b,Q0),i.context=j0(null),a=i.current,o=Gn(),o=ss(o),h=sr(o),h.callback=null,rr(a,h,o),a=o,i.current.lanes=a,ts(i,a),Bi(i),t[$n]=i.current,wd(t),new Lc(i)},zl.version="19.2.3",zl}var i_;function gw(){if(i_)return Gd.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=pw(),Gd.exports}var yw=gw();const _w="modulepreload",vw=function(s,e){return new URL(s,e).href},s_={},r_=function(e,n,r){let l=Promise.resolve();if(n&&n.length>0){let y=function(T){return Promise.all(T.map(w=>Promise.resolve(w).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};const d=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=y(n.map(T=>{if(T=vw(T,r),T in s_)return;s_[T]=!0;const w=T.endsWith(".css"),D=w?'[rel="stylesheet"]':"";if(r)for(let U=d.length-1;U>=0;U--){const B=d[U];if(B.href===T&&(!w||B.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${T}"]${D}`))return;const V=document.createElement("link");if(V.rel=w?"stylesheet":_w,w||(V.as="script"),V.crossOrigin="",V.href=T,g&&V.setAttribute("nonce",g),document.head.appendChild(V),w)return new Promise((U,B)=>{V.addEventListener("load",U),V.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${T}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})},Ew=()=>{};var a_={};const Uv=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},bw=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=u>>2,w=(u&3)<<4|p>>4;let D=(p&15)<<2|y>>6,V=y&63;g||(V=64,d||(D=64)),r.push(n[T],n[w],n[D],n[V])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Uv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):bw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const w=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||w==null)throw new Tw;const D=u<<2|p>>4;if(r.push(D),y!==64){const V=p<<4&240|y>>2;if(r.push(V),w!==64){const U=y<<6&192|w;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ww=function(s){const e=Uv(s);return zv.encodeByteArray(e,!0)},rh=function(s){return ww(s).replace(/\./g,"")},Bv=function(s){try{return zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Aw=()=>Sw().__FIREBASE_DEFAULTS__,xw=()=>{if(typeof process>"u"||typeof a_>"u")return;const s=a_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Cw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Bv(s[1]);return e&&JSON.parse(e)},xh=()=>{try{return Ew()||Aw()||xw()||Cw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qv=s=>xh()?.emulatorHosts?.[s],Rw=s=>{const e=qv(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hv=()=>xh()?.config,Fv=s=>xh()?.[`_${s}`];class Iw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function zo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gv(s){return(await fetch(s,{credentials:"include"})).ok}function Nw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rh(JSON.stringify(n)),rh(JSON.stringify(d)),""].join(".")}const Xl={};function Dw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?s.emulator.push(e):s.prod.push(e);return s}function Ow(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let o_=!1;function Qv(s,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||Xl[s]===e||Xl[s]||o_)return;Xl[s]=e;function n(D){return`__firebase__banner__${D}`}const r="__firebase__banner",u=Dw().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,V){D.setAttribute("width","24"),D.setAttribute("id",V),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{o_=!0,d()},D}function T(D,V){D.setAttribute("id",V),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function w(){const D=Ow(r),V=n("text"),U=document.getElementById(V)||document.createElement("span"),B=n("learnmore"),H=document.getElementById(B)||document.createElement("a"),ie=n("preprendIcon"),he=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const pe=D.element;p(pe),T(H,B);const Oe=y();g(he,ie),pe.append(he,U,H,Oe),document.body.appendChild(pe)}u?(U.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function kw(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lw(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Uw(){return!kw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zw(){try{return typeof indexedDB=="object"}catch{return!1}}function Bw(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const qw="FirebaseError";class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qw,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Hw(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new js(l,p,r)}}function Hw(s,e){return s.replace(Fw,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const Fw=/\{\$([^}]+)}/g;function Gw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ya(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(l_(u)&&l_(d)){if(!ya(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function l_(s){return s!==null&&typeof s=="object"}function fu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Fl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function Qw(s,e){const n=new Kw(s,e);return n.subscribe.bind(n)}class Kw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yw(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Xd(){}function vn(s){return s&&s._delegate?s._delegate:s}class _a{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const da="[DEFAULT]";class Xw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Iw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jw(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$w(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $w(s){return s===da?void 0:s}function Jw(s){return s.instantiationMode==="EAGER"}class Ww{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const Zw={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},eS=Fe.INFO,tS={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},nS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=tS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jm{constructor(e){this.name=e,this._logLevel=eS,this._logHandler=nS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const iS=(s,e)=>e.some(n=>s instanceof n);let u_,c_;function sS(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rS(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,lm=new WeakMap,Yv=new WeakMap,$d=new WeakMap,Pm=new WeakMap;function aS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Ar(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Kv.set(n,s)}).catch(()=>{}),Pm.set(e,s),e}function oS(s){if(lm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});lm.set(s,e)}let um={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return lm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Yv.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function lS(s){um=s(um)}function uS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Jd(this),e,...n);return Yv.set(r,e.sort?e.sort():[e]),Ar(r)}:rS().includes(s)?function(...e){return s.apply(Jd(this),e),Ar(Kv.get(this))}:function(...e){return Ar(s.apply(Jd(this),e))}}function cS(s){return typeof s=="function"?uS(s):(s instanceof IDBTransaction&&oS(s),iS(s,sS())?new Proxy(s,um):s)}function Ar(s){if(s instanceof IDBRequest)return aS(s);if($d.has(s))return $d.get(s);const e=cS(s);return e!==s&&($d.set(s,e),Pm.set(e,s)),e}const Jd=s=>Pm.get(s);function hS(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=Ar(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Ar(d.result),g.oldVersion,g.newVersion,Ar(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const fS=["get","getKey","getAll","getAllKeys","count"],dS=["put","add","delete","clear"],Wd=new Map;function h_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=dS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||fS.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Wd.set(e,u),u}lS(s=>({...s,get:(e,n,r)=>h_(e,n)||s.get(e,n,r),has:(e,n)=>!!h_(e,n)||s.has(e,n)}));class mS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pS(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",f_="0.14.6";const Os=new jm("@firebase/app"),gS="@firebase/app-compat",yS="@firebase/analytics-compat",_S="@firebase/analytics",vS="@firebase/app-check-compat",ES="@firebase/app-check",bS="@firebase/auth",TS="@firebase/auth-compat",wS="@firebase/database",SS="@firebase/data-connect",AS="@firebase/database-compat",xS="@firebase/functions",CS="@firebase/functions-compat",RS="@firebase/installations",IS="@firebase/installations-compat",NS="@firebase/messaging",DS="@firebase/messaging-compat",OS="@firebase/performance",MS="@firebase/performance-compat",kS="@firebase/remote-config",VS="@firebase/remote-config-compat",jS="@firebase/storage",PS="@firebase/storage-compat",LS="@firebase/firestore",US="@firebase/ai",zS="@firebase/firestore-compat",BS="firebase",qS="12.6.0";const hm="[DEFAULT]",HS={[cm]:"fire-core",[gS]:"fire-core-compat",[_S]:"fire-analytics",[yS]:"fire-analytics-compat",[ES]:"fire-app-check",[vS]:"fire-app-check-compat",[bS]:"fire-auth",[TS]:"fire-auth-compat",[wS]:"fire-rtdb",[SS]:"fire-data-connect",[AS]:"fire-rtdb-compat",[xS]:"fire-fn",[CS]:"fire-fn-compat",[RS]:"fire-iid",[IS]:"fire-iid-compat",[NS]:"fire-fcm",[DS]:"fire-fcm-compat",[OS]:"fire-perf",[MS]:"fire-perf-compat",[kS]:"fire-rc",[VS]:"fire-rc-compat",[jS]:"fire-gcs",[PS]:"fire-gcs-compat",[LS]:"fire-fst",[zS]:"fire-fst-compat",[US]:"fire-vertex","fire-js":"fire-js",[BS]:"fire-js-all"};const tu=new Map,FS=new Map,fm=new Map;function d_(s,e){try{s.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function No(s){const e=s.name;if(fm.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,s);for(const n of tu.values())d_(n,s);for(const n of FS.values())d_(n,s);return!0}function Lm(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Qn(s){return s==null?!1:s.settings!==void 0}const GS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new hu("app","Firebase",GS);class QS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const Bo=qS;function Xv(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:hm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw xr.create("bad-app-name",{appName:String(l)});if(n||(n=Hv()),!n)throw xr.create("no-options");const u=tu.get(l);if(u){if(ya(n,u.options)&&ya(r,u.config))return u;throw xr.create("duplicate-app",{appName:l})}const d=new Ww(l);for(const g of fm.values())d.addComponent(g);const p=new QS(n,r,d);return tu.set(l,p),p}function Um(s=hm){const e=tu.get(s);if(!e&&s===hm&&Hv())return Xv();if(!e)throw xr.create("no-app",{appName:s});return e}function KS(){return Array.from(tu.values())}function Cr(s,e,n){let r=HS[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(d.join(" "));return}No(new _a(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const YS="firebase-heartbeat-database",XS=1,nu="firebase-heartbeat-store";let Zd=null;function $v(){return Zd||(Zd=hS(YS,XS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(s=>{throw xr.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function $S(s){try{const n=(await $v()).transaction(nu),r=await n.objectStore(nu).get(Jv(s));return await n.done,r}catch(e){if(e instanceof js)Os.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e?.message});Os.warn(n.message)}}}async function m_(s,e){try{const r=(await $v()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,Jv(s)),await r.done}catch(n){if(n instanceof js)Os.warn(n.message);else{const r=xr.create("idb-set",{originalErrorMessage:n?.message});Os.warn(r.message)}}}function Jv(s){return`${s.name}!${s.options.appId}`}const JS=1024,WS=30;class ZS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=p_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>WS){const l=nA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p_(),{heartbeatsToSend:n,unsentEntries:r}=eA(this._heartbeatsCache.heartbeats),l=rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Os.warn(e),""}}}function p_(){return new Date().toISOString().substring(0,10)}function eA(s,e=JS){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),g_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),g_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zw()?Bw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $S(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function g_(s){return rh(JSON.stringify({version:2,heartbeats:s})).length}function nA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function iA(s){No(new _a("platform-logger",e=>new mS(e),"PRIVATE")),No(new _a("heartbeat",e=>new ZS(e),"PRIVATE")),Cr(cm,f_,s),Cr(cm,f_,"esm2020"),Cr("fire-js","")}iA("");var sA="firebase",rA="12.7.0";Cr(sA,rA,"app");function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zv=Wv,e1=new hu("auth","Firebase",Wv());const ah=new jm("@firebase/auth");function aA(s,...e){ah.logLevel<=Fe.WARN&&ah.warn(`Auth (${Bo}): ${s}`,...e)}function Xc(s,...e){ah.logLevel<=Fe.ERROR&&ah.error(`Auth (${Bo}): ${s}`,...e)}function mi(s,...e){throw Bm(s,...e)}function Ri(s,...e){return Bm(s,...e)}function zm(s,e,n){const r={...Zv(),[e]:n};return new hu("auth","Firebase",r).create(e,{appName:s.name})}function Is(s){return zm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oA(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mi(s,"argument-error"),zm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return e1.create(s,...e)}function Ae(s,e,...n){if(!s)throw Bm(e,...n)}function Cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Xc(e),new Error(e)}function Ms(s,e){s||Cs(e)}function dm(){return typeof self<"u"&&self.location?.href||""}function lA(){return y_()==="http:"||y_()==="https:"}function y_(){return typeof self<"u"&&self.location?.protocol||null}function uA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lA()||jw()||"connection"in navigator)?navigator.onLine:!0}function cA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=Mw()||Pw()}get(){return uA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qm(s,e){Ms(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class t1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dA=new du(3e4,6e4);function Pr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ps(s,e,n,r,l={}){return n1(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=fu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return Vw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&zo(s.emulatorConfig.host)&&(y.credentials="include"),t1.fetch()(await i1(s,s.config.apiHost,n,p),y)})}async function n1(s,e,n){s._canInitEmulator=!1;const r={...hA,...e};try{const l=new pA(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw zc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zm(s,T,y);mi(s,T)}}catch(l){if(l instanceof js)throw l;mi(s,"network-request-failed",{message:String(l)})}}async function mu(s,e,n,r,l={}){const u=await Ps(s,e,n,r,l);return"mfaPendingCredential"in u&&mi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function i1(s,e,n,r){const l=`${e}${n}?${r}`,u=s,d=u.config.emulator?qm(s.config,l):`${s.config.apiScheme}://${l}`;return fA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function mA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),dA.get())})}}function zc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ri(s,e,r);return l.customData._tokenResponse=n,l}function __(s){return s!==void 0&&s.enterprise!==void 0}class gA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yA(s,e){return Ps(s,"GET","/v2/recaptchaConfig",Pr(s,e))}async function _A(s,e){return Ps(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return Ps(s,"POST","/v1/accounts:lookup",e)}function $l(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s1(s,e=!1){const n=vn(s),r=await n.getIdToken(e),l=Hm(r);Ae(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:$l(em(l.auth_time)),issuedAtTime:$l(em(l.iat)),expirationTime:$l(em(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function em(s){return Number(s)*1e3}function Hm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Bv(n);return l?JSON.parse(l):(Xc("Failed to decode base64 JWT payload"),null)}catch(l){return Xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function v_(s){const e=Hm(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Do(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof js&&vA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function vA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class EA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,n=await s.getIdToken(),r=await Do(s,oh(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?a1(l.providerUserInfo):[],d=bA(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function r1(s){const e=vn(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bA(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function a1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function TA(s,e){const n=await n1(s,{},async()=>{const r=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await i1(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&zo(s.emulatorConfig.host)&&(g.credentials="include"),t1.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wA(s,e){return Ps(s,"POST","/v2/accounts:revokeToken",Pr(s,e))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=v_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await TA(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new So;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Ae(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function br(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new EA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Do(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s1(this,e)}reload(){return r1(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Do(this,_A(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:D,isAnonymous:V,providerData:U,stsTokenManager:B}=n;Ae(w&&B,e,"internal-error");const H=So.fromJSON(this.name,B);Ae(typeof w=="string",e,"internal-error"),br(r,e.name),br(l,e.name),Ae(typeof D=="boolean",e,"internal-error"),Ae(typeof V=="boolean",e,"internal-error"),br(u,e.name),br(d,e.name),br(p,e.name),br(g,e.name),br(y,e.name),br(T,e.name);const ie=new xi({uid:w,auth:e,email:l,emailVerified:D,displayName:r,isAnonymous:V,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:y,lastLoginAt:T});return U&&Array.isArray(U)&&(ie.providerData=U.map(he=>({...he}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,r=!1){const l=new So;l.updateFromServerResponse(n);const u=new xi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Ae(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?a1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new So;p.updateFromIdToken(r);const g=new xi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const E_=new Map;function Rs(s){Ms(s instanceof Function,"Expected a class definition");let e=E_.get(s);return e?(Ms(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,E_.set(s,e),e)}class o1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}o1.type="NONE";const pm=o1;function $c(s,e,n){return`firebase:${s}:${e}:${n}`}class Ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=$c(this.userKey,l.apiKey,u),this.fullPersistenceKey=$c("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ao(Rs(pm),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Rs(pm);const d=$c(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let w;if(typeof T=="string"){const D=await oh(e,{idToken:T}).catch(()=>{});if(!D)break;w=await xi._fromGetAccountInfoResponse(e,D,T)}else w=xi._fromJSON(e,T);y!==u&&(p=w),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ao(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Ao(u,e,r))}}function b_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d1(e))return"Blackberry";if(m1(e))return"Webos";if(u1(e))return"Safari";if((e.includes("chrome/")||c1(e))&&!e.includes("edge/"))return"Chrome";if(f1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function l1(s=cn()){return/firefox\//i.test(s)}function u1(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c1(s=cn()){return/crios\//i.test(s)}function h1(s=cn()){return/iemobile/i.test(s)}function f1(s=cn()){return/android/i.test(s)}function d1(s=cn()){return/blackberry/i.test(s)}function m1(s=cn()){return/webos/i.test(s)}function Fm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function SA(s=cn()){return Fm(s)&&!!window.navigator?.standalone}function AA(){return Lw()&&document.documentMode===10}function p1(s=cn()){return Fm(s)||f1(s)||m1(s)||d1(s)||/windows phone/i.test(s)||h1(s)}function g1(s,e=[]){let n;switch(s){case"Browser":n=b_(cn());break;case"Worker":n=`${b_(cn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${r}`}class xA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function CA(s,e={}){return Ps(s,"GET","/v2/passwordPolicy",Pr(s,e))}const RA=6;class IA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class NA{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new xA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Is(this));const n=e?vn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CA(this),n=new IA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lr(s){return vn(s)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qw(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DA(s){Ch=s}function y1(s){return Ch.loadJS(s)}function OA(){return Ch.recaptchaEnterpriseScript}function MA(){return Ch.gapiScript}function kA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class VA{constructor(){this.enterprise=new jA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PA="recaptcha-enterprise",_1="NO_RECAPTCHA";class LA{constructor(e){this.type=PA,this.auth=Lr(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{yA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new gA(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;__(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(_1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!n&&__(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=OA();g.length!==0&&(g+=p),y1(g).then(()=>{l(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function w_(s,e,n,r=!1,l=!1){const u=new LA(s);let d;if(l)d=_1;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function gm(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await w_(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await w_(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function v1(s,e){const n=Lm(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ya(u,e??{}))return l;mi(l,"already-initialized")}return n.initialize({options:e})}function UA(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function E1(s,e,n){const r=Lr(s);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=b1(e),{host:d,port:p}=zA(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(ya(y,r.config.emulator)&&ya(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,zo(d)?(Gv(`${u}//${d}${g}`),Qv("Auth",!0)):BA()}function b1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function zA(s){const e=b1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:S_(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:S_(d)}}}function S_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function BA(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Rh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function qA(s,e){return Ps(s,"POST","/v1/accounts:signUp",e)}async function HA(s,e){return mu(s,"POST","/v1/accounts:signInWithPassword",Pr(s,e))}async function FA(s,e){return mu(s,"POST","/v1/accounts:signInWithEmailLink",Pr(s,e))}async function GA(s,e){return mu(s,"POST","/v1/accounts:signInWithEmailLink",Pr(s,e))}class Oo extends Rh{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Oo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,n,"signInWithPassword",HA);case"emailLink":return FA(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,r,"signUpPassword",qA);case"emailLink":return GA(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(s,e){return mu(s,"POST","/v1/accounts:signInWithIdp",Pr(s,e))}const QA="http://localhost";class Nr extends Rh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Nr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:QA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function KA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YA(s){const e=Hl(Fl(s)).link,n=e?Hl(Fl(e)).deep_link_id:null,r=Hl(Fl(s)).deep_link_id;return(r?Hl(Fl(r)).link:null)||r||n||e||s}class Ih{constructor(e){const n=Hl(Fl(e)),r=n.apiKey??null,l=n.oobCode??null,u=KA(n.mode??null);Ae(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=YA(e);try{return new Ih(n)}catch{return null}}}class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return Oo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ih.parseLink(n);return Ae(r,"argument-error"),Oo._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends Gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ss extends pu{constructor(){super("facebook.com")}static credential(e){return Nr._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";class Gi extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";class As extends pu{constructor(){super("github.com")}static credential(e){return Nr._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";class xs extends pu{constructor(){super("twitter.com")}static credential(e,n){return Nr._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";async function XA(s,e){return mu(s,"POST","/v1/accounts:signUp",Pr(s,e))}class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await xi._fromIdTokenResponse(e,r,l),d=A_(r);return new va({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=A_(r);return new va({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function A_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends js{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new uh(e,n,r,l)}}function T1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,u,e,r):u})}async function $A(s,e,n=!1){const r=await Do(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return va._forOperation(s,"link",r)}async function JA(s,e,n=!1){const{auth:r}=s;if(Qn(r.app))return Promise.reject(Is(r));const l="reauthenticate";try{const u=await Do(s,T1(r,l,e,s),n);Ae(u.idToken,r,"internal-error");const d=Hm(u.idToken);Ae(d,r,"internal-error");const{sub:p}=d;return Ae(s.uid===p,r,"user-mismatch"),va._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&mi(r,"user-mismatch"),u}}async function w1(s,e,n=!1){if(Qn(s.app))return Promise.reject(Is(s));const r="signIn",l=await T1(s,r,e),u=await va._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function S1(s,e){return w1(Lr(s),e)}async function A1(s){const e=Lr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WA(s,e,n){if(Qn(s.app))return Promise.reject(Is(s));const r=Lr(s),d=await gm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&A1(s),g}),p=await va._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function ZA(s,e,n){return Qn(s.app)?Promise.reject(Is(s)):S1(vn(s),wa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&A1(s),r})}async function e2(s,e){return Ps(s,"POST","/v1/accounts:update",e)}async function t2(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vn(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await Do(r,e2(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function x1(s,e,n,r){return vn(s).onIdTokenChanged(e,n,r)}function C1(s,e,n){return vn(s).beforeAuthStateChanged(e,n)}function R1(s,e,n,r){return vn(s).onAuthStateChanged(e,n,r)}function I1(s){return vn(s).signOut()}const ch="__sak";class N1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const n2=1e3,i2=10;class D1 extends N1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);AA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,i2):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}D1.type="LOCAL";const O1=D1;class M1 extends N1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M1.type="SESSION";const Qm=M1;function s2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await s2(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function Km(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class r2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=Km("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const D=w;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ki(){return window}function a2(s){Ki().location.href=s}function k1(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function o2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l2(){return navigator?.serviceWorker?.controller||null}function u2(){return k1()?self:null}const V1="firebaseLocalStorageDb",c2=1,hh="firebaseLocalStorage",j1="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function h2(){const s=indexedDB.deleteDatabase(V1);return new gu(s).toPromise()}function ym(){const s=indexedDB.open(V1,c2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:j1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await h2(),e(await ym()))})})}async function x_(s,e,n){const r=Dh(s,!0).put({[j1]:e,value:n});return new gu(r).toPromise()}async function f2(s,e){const n=Dh(s,!1).get(e),r=await new gu(n).toPromise();return r===void 0?null:r.value}function C_(s,e){const n=Dh(s,!0).delete(e);return new gu(n).toPromise()}const d2=800,m2=3;class P1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>m2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(u2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await o2(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await x_(e,ch,"1"),await C_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Dh(l,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P1.type="LOCAL";const L1=P1;new du(3e4,6e4);function U1(s,e){return e?Rs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends Rh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p2(s){return w1(s.auth,new Ym(s),s.bypassAuthState)}function g2(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),JA(n,new Ym(s),s.bypassAuthState)}async function y2(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),$A(n,new Ym(s),s.bypassAuthState)}class z1{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:mi(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _2=new du(2e3,1e4);async function B1(s,e,n){if(Qn(s.app))return Promise.reject(Ri(s,"operation-not-supported-in-this-environment"));const r=Lr(s);oA(s,e,Gm);const l=U1(r,n);return new ma(r,"signInViaPopup",e,l).executeNotNull()}class ma extends z1{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_2.get())};e()}}ma.currentPopupAction=null;const v2="pendingRedirect",Jc=new Map;class E2 extends z1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const r=await b2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b2(s,e){const n=S2(e),r=w2(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function T2(s,e){Jc.set(s._key(),e)}function w2(s){return Rs(s._redirectPersistence)}function S2(s){return $c(v2,s.config.apiKey,s.name)}async function A2(s,e,n=!1){if(Qn(s.app))return Promise.reject(Is(s));const r=Lr(s),l=U1(r,e),d=await new E2(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const x2=600*1e3;class C2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!q1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function q1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function R2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q1(s);default:return!1}}async function I2(s,e={}){return Ps(s,"GET","/v1/projects",e)}const N2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D2=/^https?/;async function O2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await I2(s);for(const n of e)try{if(M2(n))return}catch{}mi(s,"unauthorized-domain")}function M2(s){const e=dm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!D2.test(n))return!1;if(N2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const k2=new du(3e4,6e4);function I_(){const s=Ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function V2(s){return new Promise((e,n)=>{function r(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(Ri(s,"network-request-failed"))},timeout:k2.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)r();else{const l=kA("iframefcb");return Ki()[l]=()=>{gapi.load?r():n(Ri(s,"network-request-failed"))},y1(`${MA()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function j2(s){return Wc=Wc||V2(s),Wc}const P2=new du(5e3,15e3),L2="__/auth/iframe",U2="emulator/auth/iframe",z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q2(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?qm(e,U2):`https://${s.config.authDomain}/${L2}`,r={apiKey:e.apiKey,appName:s.name,v:Bo},l=B2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${fu(r).slice(1)}`}async function H2(s){const e=await j2(s),n=Ki().gapi;return Ae(n,s,"internal-error"),e.open({where:document.body,url:q2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),p=Ki().setTimeout(()=>{u(d)},P2.get());function g(){Ki().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const F2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,Q2=600,K2="_blank",Y2="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X2(s,e,n,r=G2,l=Q2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...F2,width:r.toString(),height:l.toString(),top:u,left:d},y=cn().toLowerCase();n&&(p=c1(y)?K2:n),l1(y)&&(e=e||Y2,g.scrollbars="yes");const T=Object.entries(g).reduce((D,[V,U])=>`${D}${V}=${U},`,"");if(SA(y)&&p!=="_self")return $2(e||"",p),new N_(null);const w=window.open(e||"",p,T);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new N_(w)}function $2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const J2="__/auth/handler",W2="emulator/auth/handler",Z2=encodeURIComponent("fac");async function D_(s,e,n,r,l,u){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Bo,eventId:l};if(e instanceof Gm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Gw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof pu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${Z2}=${encodeURIComponent(g)}`:"";return`${ex(s)}?${fu(p).slice(1)}${y}`}function ex({config:s}){return s.emulator?qm(s,W2):`https://${s.authDomain}/${J2}`}const tm="webStorageSupport";class tx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qm,this._completeRedirectFn=A2,this._overrideRedirectResult=T2}async _openPopup(e,n,r,l){Ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await D_(e,n,r,dm(),l);return X2(e,u,Km())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await D_(e,n,r,dm(),l);return a2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Ms(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H2(e),r=new C2(e);return n.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tm,{type:tm},l=>{const u=l?.[0]?.[tm];u!==void 0&&n(!!u),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return p1()||u1()||Fm()}}const H1=tx;var O_="@firebase/auth",M_="1.12.0";class nx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ix(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sx(s){No(new _a("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g1(s)},y=new NA(r,l,u,g);return UA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),No(new _a("auth-internal",e=>{const n=Lr(e.getProvider("auth").getImmediate());return(r=>new nx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(O_,M_,ix(s)),Cr(O_,M_,"esm2020")}const rx=300,ax=Fv("authIdTokenMaxAge")||rx;let k_=null;const ox=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ax)return;const l=n?.token;k_!==l&&(k_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function F1(s=Um()){const e=Lm(s,"auth");if(e.isInitialized())return e.getImmediate();const n=v1(s,{popupRedirectResolver:H1,persistence:[L1,O1,Qm]}),r=Fv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=ox(u.toString());C1(n,d,()=>d(n.currentUser)),x1(n,p=>d(p))}}const l=qv("auth");return l&&E1(n,`http://${l}`),n}function lx(){return document.getElementsByTagName("head")?.[0]??document}DA({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ri("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",lx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sx("Browser");const V_=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Ih,AuthCredential:Rh,EmailAuthCredential:Oo,EmailAuthProvider:wa,FacebookAuthProvider:Ss,GithubAuthProvider:As,GoogleAuthProvider:Gi,OAuthCredential:Nr,TwitterAuthProvider:xs,beforeAuthStateChanged:C1,browserLocalPersistence:O1,browserPopupRedirectResolver:H1,browserSessionPersistence:Qm,connectAuthEmulator:E1,createUserWithEmailAndPassword:WA,getAuth:F1,getIdTokenResult:s1,inMemoryPersistence:pm,indexedDBLocalPersistence:L1,initializeAuth:v1,onAuthStateChanged:R1,onIdTokenChanged:x1,prodErrorMap:Zv,reload:r1,signInWithCredential:S1,signInWithEmailAndPassword:ZA,signInWithPopup:B1,signOut:I1,updateProfile:t2},Symbol.toStringTag,{value:"Module"}));var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rr,G1;(function(){var s;function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(M,O,j){for(var A=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)A[Le-2]=arguments[Le];return x.prototype[O].apply(M,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)M[O]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],O=R.g[2];let j=R.g[3],A;A=x+(j^C&(O^j))+M[0]+3614090360&4294967295,x=C+(A<<7&4294967295|A>>>25),A=j+(O^x&(C^O))+M[1]+3905402710&4294967295,j=x+(A<<12&4294967295|A>>>20),A=O+(C^j&(x^C))+M[2]+606105819&4294967295,O=j+(A<<17&4294967295|A>>>15),A=C+(x^O&(j^x))+M[3]+3250441966&4294967295,C=O+(A<<22&4294967295|A>>>10),A=x+(j^C&(O^j))+M[4]+4118548399&4294967295,x=C+(A<<7&4294967295|A>>>25),A=j+(O^x&(C^O))+M[5]+1200080426&4294967295,j=x+(A<<12&4294967295|A>>>20),A=O+(C^j&(x^C))+M[6]+2821735955&4294967295,O=j+(A<<17&4294967295|A>>>15),A=C+(x^O&(j^x))+M[7]+4249261313&4294967295,C=O+(A<<22&4294967295|A>>>10),A=x+(j^C&(O^j))+M[8]+1770035416&4294967295,x=C+(A<<7&4294967295|A>>>25),A=j+(O^x&(C^O))+M[9]+2336552879&4294967295,j=x+(A<<12&4294967295|A>>>20),A=O+(C^j&(x^C))+M[10]+4294925233&4294967295,O=j+(A<<17&4294967295|A>>>15),A=C+(x^O&(j^x))+M[11]+2304563134&4294967295,C=O+(A<<22&4294967295|A>>>10),A=x+(j^C&(O^j))+M[12]+1804603682&4294967295,x=C+(A<<7&4294967295|A>>>25),A=j+(O^x&(C^O))+M[13]+4254626195&4294967295,j=x+(A<<12&4294967295|A>>>20),A=O+(C^j&(x^C))+M[14]+2792965006&4294967295,O=j+(A<<17&4294967295|A>>>15),A=C+(x^O&(j^x))+M[15]+1236535329&4294967295,C=O+(A<<22&4294967295|A>>>10),A=x+(O^j&(C^O))+M[1]+4129170786&4294967295,x=C+(A<<5&4294967295|A>>>27),A=j+(C^O&(x^C))+M[6]+3225465664&4294967295,j=x+(A<<9&4294967295|A>>>23),A=O+(x^C&(j^x))+M[11]+643717713&4294967295,O=j+(A<<14&4294967295|A>>>18),A=C+(j^x&(O^j))+M[0]+3921069994&4294967295,C=O+(A<<20&4294967295|A>>>12),A=x+(O^j&(C^O))+M[5]+3593408605&4294967295,x=C+(A<<5&4294967295|A>>>27),A=j+(C^O&(x^C))+M[10]+38016083&4294967295,j=x+(A<<9&4294967295|A>>>23),A=O+(x^C&(j^x))+M[15]+3634488961&4294967295,O=j+(A<<14&4294967295|A>>>18),A=C+(j^x&(O^j))+M[4]+3889429448&4294967295,C=O+(A<<20&4294967295|A>>>12),A=x+(O^j&(C^O))+M[9]+568446438&4294967295,x=C+(A<<5&4294967295|A>>>27),A=j+(C^O&(x^C))+M[14]+3275163606&4294967295,j=x+(A<<9&4294967295|A>>>23),A=O+(x^C&(j^x))+M[3]+4107603335&4294967295,O=j+(A<<14&4294967295|A>>>18),A=C+(j^x&(O^j))+M[8]+1163531501&4294967295,C=O+(A<<20&4294967295|A>>>12),A=x+(O^j&(C^O))+M[13]+2850285829&4294967295,x=C+(A<<5&4294967295|A>>>27),A=j+(C^O&(x^C))+M[2]+4243563512&4294967295,j=x+(A<<9&4294967295|A>>>23),A=O+(x^C&(j^x))+M[7]+1735328473&4294967295,O=j+(A<<14&4294967295|A>>>18),A=C+(j^x&(O^j))+M[12]+2368359562&4294967295,C=O+(A<<20&4294967295|A>>>12),A=x+(C^O^j)+M[5]+4294588738&4294967295,x=C+(A<<4&4294967295|A>>>28),A=j+(x^C^O)+M[8]+2272392833&4294967295,j=x+(A<<11&4294967295|A>>>21),A=O+(j^x^C)+M[11]+1839030562&4294967295,O=j+(A<<16&4294967295|A>>>16),A=C+(O^j^x)+M[14]+4259657740&4294967295,C=O+(A<<23&4294967295|A>>>9),A=x+(C^O^j)+M[1]+2763975236&4294967295,x=C+(A<<4&4294967295|A>>>28),A=j+(x^C^O)+M[4]+1272893353&4294967295,j=x+(A<<11&4294967295|A>>>21),A=O+(j^x^C)+M[7]+4139469664&4294967295,O=j+(A<<16&4294967295|A>>>16),A=C+(O^j^x)+M[10]+3200236656&4294967295,C=O+(A<<23&4294967295|A>>>9),A=x+(C^O^j)+M[13]+681279174&4294967295,x=C+(A<<4&4294967295|A>>>28),A=j+(x^C^O)+M[0]+3936430074&4294967295,j=x+(A<<11&4294967295|A>>>21),A=O+(j^x^C)+M[3]+3572445317&4294967295,O=j+(A<<16&4294967295|A>>>16),A=C+(O^j^x)+M[6]+76029189&4294967295,C=O+(A<<23&4294967295|A>>>9),A=x+(C^O^j)+M[9]+3654602809&4294967295,x=C+(A<<4&4294967295|A>>>28),A=j+(x^C^O)+M[12]+3873151461&4294967295,j=x+(A<<11&4294967295|A>>>21),A=O+(j^x^C)+M[15]+530742520&4294967295,O=j+(A<<16&4294967295|A>>>16),A=C+(O^j^x)+M[2]+3299628645&4294967295,C=O+(A<<23&4294967295|A>>>9),A=x+(O^(C|~j))+M[0]+4096336452&4294967295,x=C+(A<<6&4294967295|A>>>26),A=j+(C^(x|~O))+M[7]+1126891415&4294967295,j=x+(A<<10&4294967295|A>>>22),A=O+(x^(j|~C))+M[14]+2878612391&4294967295,O=j+(A<<15&4294967295|A>>>17),A=C+(j^(O|~x))+M[5]+4237533241&4294967295,C=O+(A<<21&4294967295|A>>>11),A=x+(O^(C|~j))+M[12]+1700485571&4294967295,x=C+(A<<6&4294967295|A>>>26),A=j+(C^(x|~O))+M[3]+2399980690&4294967295,j=x+(A<<10&4294967295|A>>>22),A=O+(x^(j|~C))+M[10]+4293915773&4294967295,O=j+(A<<15&4294967295|A>>>17),A=C+(j^(O|~x))+M[1]+2240044497&4294967295,C=O+(A<<21&4294967295|A>>>11),A=x+(O^(C|~j))+M[8]+1873313359&4294967295,x=C+(A<<6&4294967295|A>>>26),A=j+(C^(x|~O))+M[15]+4264355552&4294967295,j=x+(A<<10&4294967295|A>>>22),A=O+(x^(j|~C))+M[6]+2734768916&4294967295,O=j+(A<<15&4294967295|A>>>17),A=C+(j^(O|~x))+M[13]+1309151649&4294967295,C=O+(A<<21&4294967295|A>>>11),A=x+(O^(C|~j))+M[4]+4149444226&4294967295,x=C+(A<<6&4294967295|A>>>26),A=j+(C^(x|~O))+M[11]+3174756917&4294967295,j=x+(A<<10&4294967295|A>>>22),A=O+(x^(j|~C))+M[2]+718787259&4294967295,O=j+(A<<15&4294967295|A>>>17),A=C+(j^(O|~x))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+j&4294967295}r.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,M=this.C;let O=this.h,j=0;for(;j<x;){if(O==0)for(;j<=C;)l(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<x;)if(M[O++]=R.charCodeAt(j++),O==this.blockSize){l(this,M),O=0;break}}else for(;j<x;)if(M[O++]=R[j++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=x},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)R[x++]=this.g[C]>>>M&255;return R};function u(R,x){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function d(R,x){this.h=x;const C=[];let M=!0;for(let O=R.length-1;O>=0;O--){const j=R[O]|0;M&&j==x||(C[O]=j,M=!1)}this.g=C}var p={};function g(R){return-128<=R&&R<128?u(R,function(x){return new d([x|0],x<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return H(y(-R));const x=[];let C=1;for(let M=0;R>=C;M++)x[M]=R/C|0,C*=4294967296;return new d(x,0)}function T(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return H(T(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let M=w;for(let j=0;j<R.length;j+=8){var O=Math.min(8,R.length-j);const A=parseInt(R.substring(j,j+O),x);O<8?(O=y(Math.pow(x,O)),M=M.j(O).add(y(A))):(M=M.j(C),M=M.add(y(A)))}return M}var w=g(0),D=g(1),V=g(16777216);s=d.prototype,s.m=function(){if(B(this))return-H(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);R+=(M>=0?M:4294967296+M)*x,x*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(U(this))return"0";if(B(this))return"-"+H(this).toString(R);const x=y(Math.pow(R,6));var C=this;let M="";for(;;){const O=Oe(C,x).g;C=ie(C,O.j(x));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=O,U(C))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function U(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function B(R){return R.h==-1}s.l=function(R){return R=ie(this,R),B(R)?-1:U(R)?0:1};function H(R){const x=R.g.length,C=[];for(let M=0;M<x;M++)C[M]=~R.g[M];return new d(C,~R.h).add(D)}s.abs=function(){return B(this)?H(this):this},s.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let M=0;for(let O=0;O<=x;O++){let j=M+(this.i(O)&65535)+(R.i(O)&65535),A=(j>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);M=A>>>16,j&=65535,A&=65535,C[O]=A<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ie(R,x){return R.add(H(x))}s.j=function(R){if(U(this)||U(R))return w;if(B(this))return B(R)?H(this).j(H(R)):H(H(this).j(R));if(B(R))return H(this.j(H(R)));if(this.l(V)<0&&R.l(V)<0)return y(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<R.g.length;O++){const j=this.i(M)>>>16,A=this.i(M)&65535,Le=R.i(O)>>>16,Ke=R.i(O)&65535;C[2*M+2*O]+=A*Ke,he(C,2*M+2*O),C[2*M+2*O+1]+=j*Ke,he(C,2*M+2*O+1),C[2*M+2*O+1]+=A*Le,he(C,2*M+2*O+1),C[2*M+2*O+2]+=j*Le,he(C,2*M+2*O+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new d(C,0)};function he(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function pe(R,x){this.g=R,this.h=x}function Oe(R,x){if(U(x))throw Error("division by zero");if(U(R))return new pe(w,w);if(B(R))return x=Oe(H(R),x),new pe(H(x.g),H(x.h));if(B(x))return x=Oe(R,H(x)),new pe(H(x.g),x.h);if(R.g.length>30){if(B(R)||B(x))throw Error("slowDivide_ only works with positive integers.");for(var C=D,M=x;M.l(R)<=0;)C=Ee(C),M=Ee(M);var O=we(C,1),j=we(M,1);for(M=we(M,2),C=we(C,2);!U(M);){var A=j.add(M);A.l(R)<=0&&(O=O.add(C),j=A),M=we(M,1),C=we(C,1)}return x=ie(R,O.j(x)),new pe(O,x)}for(O=w;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=y(C),A=j.j(x);B(A)||A.l(R)>0;)C-=M,j=y(C),A=j.j(x);U(j)&&(j=D),O=O.add(j),R=ie(R,A)}return new pe(O,R)}s.B=function(R){return Oe(this,R).h},s.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&R.i(M);return new d(C,this.h&R.h)},s.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|R.i(M);return new d(C,this.h|R.h)},s.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^R.i(M);return new d(C,this.h^R.h)};function Ee(R){const x=R.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=R.i(M)<<1|R.i(M-1)>>>31;return new d(C,R.h)}function we(R,x){const C=x>>5;x%=32;const M=R.g.length-C,O=[];for(let j=0;j<M;j++)O[j]=x>0?R.i(j+C)>>>x|R.i(j+C+1)<<32-x:R.i(j+C);return new d(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,G1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Rr=d}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Q1,Gl,K1,Zc,_m,Y1,X1,$1;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,G){for(var ue=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ue[Ve-2]=arguments[Ve];return m.prototype[L].apply(S,ue)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function U(c,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const G=L.length||0;c.length=v+G;for(let ue=0;ue<G;ue++)c[v+ue]=L[ue]}else c.push(L)}}class B{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(c){d.setTimeout(()=>{throw c},0)}function ie(){var c=R;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class he{constructor(){this.h=this.g=null}add(m,v){const S=pe.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pe=new B(()=>new Oe,c=>c.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,we=!1,R=new he,x=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(C)}};function C(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){H(v)}var m=pe;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}we=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function A(c){return/^[\s\xa0]*$/.test(c)}function Le(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(Le,O),Le.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),Y=0;function K(c,m,v,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++Y,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function Ce(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function I(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let G=0;G<X.length;G++)v=X[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,m,v,S,L){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ue=_e(c,m,S,L);return ue>-1?(m=c[ue],v||(m.fa=!1)):(m=new K(m,this.src,G,!!S,L),m.fa=v,c.push(m)),m};function ce(c,m){const v=m.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,m,void 0),G;(G=L>=0)&&Array.prototype.splice.call(S,L,1),G&&(se(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _e(c,m,v,S){for(let L=0;L<c.length;++L){const G=c[L];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==S)return L}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Be={};function it(c,m,v,S,L){if(Array.isArray(m)){for(let G=0;G<m.length;G++)it(c,m[G],v,S,L);return null}return v=ke(v),c&&c[Ke]?c.J(m,v,p(S)?!!S.capture:!1,L):Nn(c,m,v,!1,S,L)}function Nn(c,m,v,S,L,G){if(!m)throw Error("Invalid event type");const ue=p(L)?!!L.capture:!!L;let Ve=On(c);if(Ve||(c[ve]=Ve=new le(c)),v=Ve.add(m,v,S,ue,G),v.proxy)return v;if(S=Kn(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)j||(L=ue),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(Yt(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kn(){function c(v){return m.call(c.src,c.listener,v)}const m=Ii;return c}function Dn(c,m,v,S,L){if(Array.isArray(m))for(var G=0;G<m.length;G++)Dn(c,m[G],v,S,L);else S=p(S)?!!S.capture:!!S,v=ke(v),c&&c[Ke]?(c=c.i,G=String(m).toString(),G in c.g&&(m=c.g[G],v=_e(m,v,S,L),v>-1&&(se(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[G],c.h--)))):c&&(c=On(c))&&(m=c.g[m.toString()],c=-1,m&&(c=_e(m,v,S,L)),(v=c>-1?m[c]:null)&&pi(v))}function pi(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ke])ce(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(Yt(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=On(m))?(ce(v,c),v.h==0&&(v.src=null,m[ve]=null)):se(c)}}}function Yt(c){return c in Be?Be[c]:Be[c]="on"+c}function Ii(c,m){if(c.da)c=!0;else{m=new Le(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&pi(c),c=v.call(S,m)}return c}function On(c){return c=c[ve],c instanceof le?c:null}var Mn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ke(c){return typeof c=="function"?c:(c[Mn]||(c[Mn]=function(m){return c.handleEvent(m)}),c[Mn])}function Me(){M.call(this),this.i=new le(this),this.M=this,this.G=null}w(Me,M),Me.prototype[Ke]=!0,Me.prototype.removeEventListener=function(c,m,v,S){Dn(this,c,m,v,S)};function Ye(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(S,c),re(m,L)}L=!0;let G,ue;if(v)for(ue=v.length-1;ue>=0;ue--)G=m.g=v[ue],L=zt(G,S,!0,m)&&L;if(G=m.g=c,L=zt(G,S,!0,m)&&L,L=zt(G,S,!1,m)&&L,v)for(ue=0;ue<v.length;ue++)G=m.g=v[ue],L=zt(G,S,!1,m)&&L}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)se(v[S]);delete c.g[m],c.h--}}this.G=null},Me.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},Me.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function zt(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let G=0;G<m.length;++G){const ue=m[G];if(ue&&!ue.da&&ue.capture==v){const Ve=ue.listener,Ct=ue.ha||ue.src;ue.fa&&ce(c.i,ue),L=Ve.call(Ct,S)!==!1&&L}}return L&&!S.defaultPrevented}function Yn(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Ls(c){c.g=Yn(()=>{c.g=null,c.i&&(c.i=!1,Ls(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Gt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ls(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(c){M.call(this),this.h=c,this.g={}}w(Dt,M);var hn=[];function Ur(c){fe(c.g,function(m,v){this.g.hasOwnProperty(v)&&pi(m)},c),c.g={}}Dt.prototype.N=function(){Dt.Z.N.call(this),Ur(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=d.JSON.stringify,Qo=d.JSON.parse,zr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Br(){}function es(){}var fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ot(){O.call(this,"d")}w(ot,O);function dn(){O.call(this,"c")}w(dn,O);var vt={},Ra=null;function gi(){return Ra=Ra||new Me}vt.Ia="serverreachability";function Us(c){O.call(this,vt.Ia,c)}w(Us,O);function mn(c){const m=gi();Ye(m,new Us(m))}vt.STAT_EVENT="statevent";function Di(c,m){O.call(this,vt.STAT_EVENT,c),this.stat=m}w(Di,O);function wt(c){const m=gi();Ye(m,new Di(m,c))}vt.Ja="timingevent";function kn(c,m){O.call(this,vt.Ja,c),this.size=m}w(kn,O);function En(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function bn(){this.g=!0}bn.prototype.ua=function(){this.g=!1};function Ia(c,m,v,S,L,G){c.info(function(){if(c.g)if(G){var ue="",Ve=G.split("&");for(let tt=0;tt<Ve.length;tt++){var Ct=Ve[tt].split("=");if(Ct.length>1){const yt=Ct[0];Ct=Ct[1];const ii=yt.split("_");ue=ii.length>=2&&ii[1]=="type"?ue+(yt+"="+Ct+"&"):ue+(yt+"=redacted&")}}}else ue=null;else ue=G;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+ue})}function Na(c,m,v,S,L,G,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+G+" "+ue})}function Xn(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ko(c,v)+(S?" "+S:"")})}function ts(c,m){c.info(function(){return"TIMEOUT: "+m})}bn.prototype.info=function(){};function Ko(c,m){if(!c.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return Ni(G)}catch{return m}}var ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},is;function ss(){}w(ss,Br),ss.prototype.g=function(){return new XMLHttpRequest},is=new ss;function yi(c){return encodeURIComponent(String(c))}function Da(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function jn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new Dt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var St={},Ot={};function $n(c,m,v){c.M=1,c.A=Ie(bt(m)),c.u=v,c.R=!0,zs(c,null)}function zs(c,m){c.F=Date.now(),Jn(c),c.B=bt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Pa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Pn,c.g=Mu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new Gt(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(hn[0]=L.toString()),L=hn);for(let G=0;G<L.length;G++){const ue=it(v,L[G],S||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=c.J?I(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),mn(),Ia(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Ei(c)==3?m.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=Ei(this.g),Ct=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ve!=4||Ct==7||(Ct==8||tt<=0?mn(3):mn(2)),Wn(this);var m=this.g.ca();this.X=m;var v=Oa(this);if(this.o=m==200,Na(this.i,this.v,this.B,this.l,this.S,Ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(S)){var G=S;break t}}G=null}if(c=G)Xn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ln(this,c);else{this.o=!1,this.m=3,wt(12),pn(this),Tn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=ka(this,v),yt==Ot){Ve==4&&(this.m=4,wt(14),c=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==St){this.m=4,wt(15),Xn(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Xn(this.i,this.l,yt,null),Ln(this,yt);if(Ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||v.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)Xn(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),nl(ue),ue.P=!0,wt(11))}}else Xn(this.i,this.l,v,null),Ln(this,v);Ve==4&&pn(this),this.o&&!this.K&&(Ve==4?Iu(this.j,this):(this.o=!1,Jn(this)))}else as(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),pn(this),Tn(this)}}}catch{}finally{}};function Oa(c){if(!Ma(c))return c.g.la();const m=Xt(c.g);if(m==="")return"";let v="";const S=m.length,L=Ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Tn(c),"";c.h.i=new d.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(m[G],{stream:!(L&&G==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Ma(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ka(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Ot:(v=Number(m.substring(v,S)),isNaN(v)?St:(S+=1,S+v>m.length?Ot:(m=m.slice(S,S+v),c.C=S+v,m)))}jn.prototype.cancel=function(){this.K=!0,pn(this)};function Jn(c){c.T=Date.now()+c.H,Bs(c,c.H)}function Bs(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=En(y(c.aa,c),m)}function Wn(c){c.D&&(d.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ts(this.i,this.B),this.M!=2&&(mn(),wt(17)),pn(this),this.m=2,Tn(this)):Bs(this,this.T-c)};function Tn(c){c.j.I==0||c.K||Iu(c.j,c)}function pn(c){Wn(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ur(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ln(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ei(v.h,c))){if(!c.L&&ei(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)qa(v),Js(v);else break e;$r(v),wt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=En(y(v.Va,v),6e3));Zn(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((c.L||v.g==c)&&qa(v),!A(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let tt=L[m];const yt=tt[0];if(!(yt<=v.K))if(v.K=yt,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const ii=tt[3];ii!=null&&(v.ka=ii,v.j.info("VER="+v.ka));const Pi=tt[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const bi=tt[5];bi!=null&&typeof bi=="number"&&bi>0&&(S=1.5*bi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Ti=c.g;if(Ti){const Jr=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var G=S.h;G.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Hs(G,G.h),G.h=null))}if(S.G){const Ha=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(S.wa=Ha,oe(S.J,S.G,Ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ue=c;if(S.na=Ou(S,S.L?S.ba:null,S.W),ue.L){Hr(S.h,ue);var Ve=ue,Ct=S.O;Ct&&(Ve.H=Ct),Ve.D&&(Wn(Ve),Jn(Ve)),S.g=ue}else Cu(S);v.i.length>0&&Vi(v)}else tt[0]!="stop"&&tt[0]!="close"||ji(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ji(v,7):el(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}mn(4)}catch{}}var Et=class{constructor(c,m){this.g=c,this.map=m}};function qs(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Zn(c){return c.h?1:c.g?c.g.size:0}function ei(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Hs(c,m){c.g?c.g.add(m):c.h=m}function Hr(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}qs.prototype.cancel=function(){if(this.i=Fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fr(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return V(c.i)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,G=null;S>=0?(L=c[v].substring(0,S),G=c[v].substring(S+1)):L=c[v],m(L,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof sn?(this.l=c.l,Mt(this,c.j),this.o=c.o,this.g=c.g,W(this,c.u),this.h=c.h,ae(this,Au(c.i)),this.m=c.m):c&&(m=String(c).match(Va))?(this.l=!1,Mt(this,m[1]||"",!0),this.o=Je(m[2]||""),this.g=Je(m[3]||"",!0),W(this,m[4]),this.h=Je(m[5]||"",!0),ae(this,m[6]||"",!0),this.m=Je(m[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}sn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(gn(m,ja,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(gn(m,ja,!0),"@"),c.push(yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gn(v,v.charAt(0)=="/"?Yo:Tu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gn(v,wu)),c.join("")},sn.prototype.resolve=function(c){const m=bt(this);let v=!!c.j;v?Mt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)W(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const G=[];for(let ue=0;ue<L.length;){const Ve=L[ue++];Ve=="."?S&&ue==L.length&&G.push(""):Ve==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ue==L.length&&G.push("")):(G.push(Ve),S=!0)}S=G.join("/")}else S=L}return v?m.h=S:v=c.i.toString()!=="",v?ae(m,Au(c.i)):v=!!c.m,v&&(m.m=c.m),m};function bt(c){return new sn(c)}function Mt(c,m,v){c.j=v?Je(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function W(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function ae(c,m,v){m instanceof Qs?(c.i=m,La(c.i,c.l)):(v||(m=gn(m,Gs)),c.i=new Qs(m,c.l))}function oe(c,m,v){c.i.set(m,v)}function Ie(c){return oe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Je(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gn(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ja=/[#\/\?@]/g,Tu=/[#\?:]/g,Yo=/[#\?]/g,Gs=/[#\?@]/g,wu=/#/g;function Qs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&Fs(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Qs.prototype,s.add=function(c,m){wn(this),this.i=null,c=Ks(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Su(c,m){wn(c),m=Ks(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Xo(c,m){return wn(c),m=Ks(c,m),c.g.has(m)}s.forEach=function(c,m){wn(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(m,L,S,this)},this)},this)};function $o(c,m){wn(c);let v=[];if(typeof m=="string")Xo(c,m)&&(v=v.concat(c.g.get(Ks(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return wn(this),this.i=null,c=Ks(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=$o(this,c),c.length>0?String(c[0]):m):m};function Pa(c,m,v){Su(c,m),v.length>0&&(c.i=null,c.g.set(Ks(c,m),V(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=yi(v);v=$o(this,v);for(let G=0;G<v.length;G++){let ue=L;v[G]!==""&&(ue+="="+yi(v[G])),c.push(ue)}}return this.i=c.join("&")};function Au(c){const m=new Qs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ks(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function La(c,m){m&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(Su(this,S),Pa(this,L,v))},c)),c.j=m}function _i(c,m){const v=new bn;if(d.Image){const S=new Image;S.onload=T(ti,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(ti,v,"TestLoadImage: error",!1,m,S),S.onabort=T(ti,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(ti,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Jo(c,m){const v=new bn,S=new AbortController,L=setTimeout(()=>{S.abort(),ti(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(L),G.ok?ti(v,"TestPingServer: ok",!0,m):ti(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ti(v,"TestPingServer: error",!1,m)})}function ti(c,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Ys(){this.g=new zr}function Oi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Oi,Br),Oi.prototype.g=function(){return new Gr(this.i,this.h)};function Gr(c,m){Me.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Gr,Me),s=Gr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,vi(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Xs(this):vi(this),this.readyState==3&&Ua(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Xs(this))},s.Na=function(c){this.g&&(this.response=c,Xs(this))},s.ga=function(){this.g&&Xs(this)};function Xs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,vi(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ni(c){let m="";return fe(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Qr(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=ni(v),typeof c=="string"?v!=null&&yi(v):oe(c,m,v))}function lt(c){Me.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(lt,Me);var Mi=/^https?$/i,Wo=["POST","PUT"];s=lt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():is.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(G){Kr(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Wo,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of v)this.g.setRequestHeader(G,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Kr(this,G)}};function Kr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Zo(c),rs(c)}function Zo(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ye(this,"complete"),Ye(this,"abort"),rs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},s.Xa=function(){Yr(this)};function Yr(c){if(c.h&&typeof u<"u"){if(c.v&&Ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ye(c,"readystatechange"),Ei(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=G===0){let ue=String(c.D).match(Va)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),S=!Mi.test(ue?ue.toLowerCase():"")}v=S}if(v)Ye(c,"complete"),Ye(c,"success");else{c.o=6;try{var L=Ei(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Zo(c)}}finally{rs(c)}}}}function rs(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ye(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ei(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Qo(m)}};function Xt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function as(c){const m={};c=(c.g&&Ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(A(c[S]))continue;var v=Da(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[L]||[];m[L]=G,G.push(v)}Ce(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function $s(c){this.za=0,this.i=[],this.j=new bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,c),this.Za=ki("retryDelaySeedMs",1e4,c),this.Ta=ki("forwardChannelMaxRetries",2,c),this.va=ki("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qs(c&&c.concurrentRequestLimit),this.Ba=new Ys,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=$s.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){wt(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Ou(this,null,this.W),Vi(this)};function el(c){if(za(c),c.I==3){var m=c.V++,v=bt(c.J);if(oe(v,"SID",c.M),oe(v,"RID",m),oe(v,"TYPE","terminate"),Xr(c,v),m=new jn(c,c.j,m),m.M=2,m.A=Ie(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Jn(m)}Du(c)}function Js(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function za(c){Js(c),c.v&&(d.clearTimeout(c.v),c.v=null),qa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Vi(c){if(!qr(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ee||x(),we||(Ee(),we=!0),R.add(m,c),c.D=0}}function Ba(c,m){return Zn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=En(y(c.Ea,c,m),Nu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new jn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=I(G),re(G,this.U)):G=this.U),this.u!==null||this.R||(L.J=G,G=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=xu(this,L,m),v=bt(this.J),oe(v,"RID",c),oe(v,"CVER",22),this.G&&oe(v,"X-HTTP-Session-Id",this.G),Xr(this,v),G&&(this.R?m="headers="+yi(ni(G))+"&"+m:this.u&&Qr(v,this.u,G)),Hs(this.h,L),this.Ra&&oe(v,"TYPE","init"),this.S?(oe(v,"$req",m),oe(v,"SID","null"),L.U=!0,$n(L,v,null)):$n(L,v,m),this.I=2}}else this.I==3&&(c?tl(this,c):this.i.length==0||qr(this.h)||tl(this))};function tl(c,m){var v;m?v=m.l:v=c.V++;const S=bt(c.J);oe(S,"SID",c.M),oe(S,"RID",v),oe(S,"AID",c.K),Xr(c,S),c.u&&c.o&&Qr(S,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Hs(c.h,v),$n(v,S,m)}function Xr(c,m){c.H&&fe(c.H,function(v,S){oe(m,S,v)}),c.l&&fe({},function(v,S){oe(m,S,v)})}function xu(c,m,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ve=-1;for(;;){const Ct=["count="+v];Ve==-1?v>0?(Ve=L[0].g,Ct.push("ofs="+Ve)):Ve=0:Ct.push("ofs="+Ve);let tt=!0;for(let yt=0;yt<v;yt++){var G=L[yt].g;const ii=L[yt].map;if(G-=Ve,G<0)Ve=Math.max(0,L[yt].g-100),tt=!1;else try{G="req"+G+"_"||"";try{var ue=ii instanceof Map?ii:Object.entries(ii);for(const[Pi,bi]of ue){let Ti=bi;p(bi)&&(Ti=Ni(bi)),Ct.push(G+Pi+"="+encodeURIComponent(Ti))}}catch(Pi){throw Ct.push(G+"type="+encodeURIComponent("_badmap")),Pi}}catch{S&&S(ii)}}if(tt){ue=Ct.join("&");break e}}ue=void 0}return c=c.i.splice(0,v),m.G=c,ue}function Cu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ee||x(),we||(Ee(),we=!0),R.add(m,c),c.A=0}}function $r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=En(y(c.Da,c),Nu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=En(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Js(this),Ru(this))};function nl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Ru(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=bt(c.na);oe(m,"RID","rpc"),oe(m,"SID",c.M),oe(m,"AID",c.K),oe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&oe(m,"TO",c.ia),oe(m,"TYPE","xmlhttp"),Xr(c,m),c.u&&c.o&&Qr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ie(bt(m)),v.u=null,v.R=!0,zs(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Js(this),$r(this),wt(19))};function qa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Iu(c,m){var v=null;if(c.g==m){qa(c),nl(c),c.g=null;var S=2}else if(ei(c.h,m))v=m.G,Hr(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;S=gi(),Ye(S,new kn(S,v)),Vi(c)}else Cu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&Ba(c,m)||S==2&&$r(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Nu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function ji(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),S=c.Ua;const L=!S;S=new sn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Mt(S,"https"),Ie(S),L?_i(S.toString(),v):Jo(S.toString(),v)}else wt(2);c.I=0,c.l&&c.l.pa(m),Du(c),za(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const m=Fr(c.h);(m.length!=0||c.i.length!=0)&&(U(c.ja,m),U(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function Ou(c,m,v){var S=v instanceof sn?bt(v):new sn(v);if(S.g!="")m&&(S.g=m+"."+S.g),W(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const G=new sn(null);S&&Mt(G,S),m&&(G.g=m),L&&W(G,L),v&&(G.h=v),S=G}return v=c.G,m=c.wa,v&&m&&oe(S,v,m),oe(S,"VER",c.ka),Xr(c,S),S}function Mu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new lt(new Oi({ab:v})):new lt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}s=ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ws(){}Ws.prototype.g=function(c,m){return new yn(c,m)};function yn(c,m){Me.call(this),this.g=new $s(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!A(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new os(this)}w(yn,Me),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){el(this.g)},yn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ni(c),c=v);m.i.push(new Et(m.Ya++,c)),m.I==3&&Vi(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,yn.Z.N.call(this)};function Vu(c){ot.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Vu,ot);function ju(){dn.call(this),this.status=1}w(ju,dn);function os(c){this.g=c}w(os,ku),os.prototype.ra=function(){Ye(this.g,"a")},os.prototype.qa=function(c){Ye(this.g,new Vu(c))},os.prototype.pa=function(c){Ye(this.g,new ju)},os.prototype.oa=function(){Ye(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,$1=function(){return new Ws},X1=function(){return gi()},Y1=vt,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Zc=ns,Vn.COMPLETE="complete",K1=Vn,es.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",Me.prototype.listen=Me.prototype.J,Gl=es,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,Q1=lt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",L_="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let qo="12.7.0";const Ea=new jm("@firebase/firestore");function Eo(){return Ea.logLevel}function de(s,...e){if(Ea.logLevel<=Fe.DEBUG){const n=e.map(Xm);Ea.debug(`Firestore (${qo}): ${s}`,...n)}}function ks(s,...e){if(Ea.logLevel<=Fe.ERROR){const n=e.map(Xm);Ea.error(`Firestore (${qo}): ${s}`,...n)}}function Mo(s,...e){if(Ea.logLevel<=Fe.WARN){const n=e.map(Xm);Ea.warn(`Firestore (${qo}): ${s}`,...n)}}function Xm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function xe(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,J1(s,r,n)}function J1(s,e,n){let r=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ks(r),new Error(r)}function st(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||J1(e,l,r)}function De(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class W1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class cx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hx{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ns,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ns)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new W1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class fx{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dx{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function px(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=px(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function vm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return nm(l)===nm(u)?Ge(l,u):nm(l)?1:-1}return Ge(s.length,e.length)}const gx=55296,yx=57343;function nm(s){const e=s.charCodeAt(0);return e>=gx&&e<=yx}function ko(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const z_="__name__";class Fi{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Fi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Fi.isNumericId(e),l=Fi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Fi.extractNumericId(e).compare(Fi.extractNumericId(n)):vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class pt extends Fi{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const _x=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Fi{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return _x.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z_}static keyField(){return new tn([z_])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(pt.fromString(e))}static fromName(e){return new Te(pt.fromString(e).popFirst(5))}static empty(){return new Te(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new pt(e.slice()))}}function Z1(s,e,n){if(!n)throw new ye(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function vx(s,e,n,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function B_(s){if(!Te.isDocumentKey(s))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function q_(s){if(Te.isDocumentKey(s))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":xe(12329,{type:typeof s})}function ba(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jm(s);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ut(s,e){const n={typeString:s};return e&&(n.value=e),n}function yu(s,e){if(!eE(s))throw new ye(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ye(ne.INVALID_ARGUMENT,n);return!0}const H_=-62135596800,F_=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F_);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H_)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ut("string",gt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new gt(0,0))}static max(){return new Re(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function Ex(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Dr(l,Te.empty(),e)}function bx(s){return new Dr(s.readTime,s.key,iu)}class Dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dr(Re.min(),Te.empty(),iu)}static max(){return new Dr(Re.max(),Te.empty(),iu)}}function Tx(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(s.documentKey,e.documentKey),n!==0?n:Ge(s.largestBatchId,e.largestBatchId))}const wx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ho(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==wx)throw s;de("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(g=>r(g)))})),d=!0,u===l&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((l=>l?ee.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((T=>{d[y]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new ee(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function Ax(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(s){return s.name==="IndexedDbTransactionError"}class Oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oh.ce=-1;const Wm=-1;function Mh(s){return s==null}function fh(s){return s===0&&1/s==-1/0}function xx(s){return typeof s=="number"&&Number.isInteger(s)&&!fh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const tE="";function Cx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=G_(e)),e=Rx(s.get(n),e);return G_(e)}function Rx(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case tE:n+="";break;default:n+=u}}return n}function G_(s){return s+tE+""}function Q_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Sa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function nE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??en.RED,this.left=l??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new en(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ci{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new Ft(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class iE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iE("Invalid base64 string: "+u):u}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Ix=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(s){if(st(!!s,39018),typeof s=="string"){let e=0;const n=Ix.exec(s);if(st(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(s.seconds),nanos:Nt(s.nanos)}}function Nt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Mr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const sE="server_timestamp",rE="__type__",aE="__previous_value__",oE="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[rE]?.stringValue===sE}function kh(s){const e=s.mapValue.fields[aE];return Zm(e)?kh(e):e}function su(s){const e=Or(s.mapValue.fields[oE].timestampValue);return new gt(e.seconds,e.nanos)}class Nx{constructor(e,n,r,l,u,d,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const dh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}const lE="__type__",Dx="__max__",Hc={mapValue:{}},uE="__vector__",mh="value";function kr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:Mx(s)?9007199254740991:Ox(s)?10:11:xe(28295,{value:s})}function Wi(s,e){if(s===e)return!0;const n=kr(s);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return su(s).isEqual(su(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Or(l.timestampValue),p=Or(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return Mr(l.bytesValue).isEqual(Mr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Nt(l.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(l.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Nt(l.integerValue)===Nt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Nt(l.doubleValue),p=Nt(u.doubleValue);return d===p?fh(d)===fh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return ko(s.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(Q_(d)!==Q_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Wi(d[g],p[g])))return!1;return!0})(s,e);default:return xe(52216,{left:s})}}function au(s,e){return(s.values||[]).find((n=>Wi(n,e)))!==void 0}function Vo(s,e){if(s===e)return 0;const n=kr(s),r=kr(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Nt(u.integerValue||u.doubleValue),g=Nt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return Y_(s.timestampValue,e.timestampValue);case 4:return Y_(su(s),su(e));case 5:return vm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=Mr(u),g=Mr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Ge(p[y],g[y]);if(T!==0)return T}return Ge(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ge(Nt(u.latitude),Nt(d.latitude));return p!==0?p:Ge(Nt(u.longitude),Nt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return X_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[mh]?.arrayValue,T=g[mh]?.arrayValue,w=Ge(y?.values?.length||0,T?.values?.length||0);return w!==0?w:X_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Hc.mapValue&&d===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let w=0;w<g.length&&w<T.length;++w){const D=vm(g[w],T[w]);if(D!==0)return D;const V=Vo(p[g[w]],y[T[w]]);if(V!==0)return V}return Ge(g.length,T.length)})(s.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function Y_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const n=Or(s),r=Or(e),l=Ge(n.seconds,r.seconds);return l!==0?l:Ge(n.nanos,r.nanos)}function X_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=Vo(n[l],r[l]);if(u)return u}return Ge(n.length,r.length)}function jo(s){return Em(s)}function Em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Mr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Te.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Em(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Em(n.fields[d])}`;return l+"}"})(s.mapValue):xe(61005,{value:s})}function eh(s){switch(kr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(s);return e?16+eh(e):16;case 5:return 2*s.stringValue.length;case 6:return Mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+eh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Sa(r.fields,((u,d)=>{l+=u.length+eh(d)})),l})(s.mapValue);default:throw xe(13486,{value:s})}}function bm(s){return!!s&&"integerValue"in s}function ep(s){return!!s&&"arrayValue"in s}function $_(s){return!!s&&"nullValue"in s}function J_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function th(s){return!!s&&"mapValue"in s}function Ox(s){return(s?.mapValue?.fields||{})[lE]?.stringValue===uE}function Jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sa(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Jl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(s.arrayValue.values[n]);return e}return{...s}}function Mx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Dx}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=tn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Jl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];th(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Sa(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new fi(Jl(this.value))}}function cE(s){const e=[];return Sa(s.fields,((n,r)=>{const l=new tn([n]);if(th(r)){const u=cE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Ci(e)}class un{constructor(e,n,r,l,u,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),fi.empty(),0)}static newFoundDocument(e,n,r,l){return new un(e,1,n,Re.min(),r,l,0)}static newNoDocument(e,n){return new un(e,2,n,Re.min(),Re.min(),fi.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Re.min(),Re.min(),fi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,n){this.position=e,this.inclusive=n}}function W_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=Te.comparator(Te.fromName(d.referenceValue),n.key):r=Vo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Wi(s.position[n],e.position[n]))return!1;return!0}class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function kx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class hE{}class qt extends hE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jx(e,n,r):n==="array-contains"?new Ux(e,r):n==="in"?new zx(e,r):n==="not-in"?new Bx(e,r):n==="array-contains-any"?new qx(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Px(e,r):new Lx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends hE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zi(e,n)}matches(e){return fE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fE(s){return s.op==="and"}function dE(s){return Vx(s)&&fE(s)}function Vx(s){for(const e of s.filters)if(e instanceof Zi)return!1;return!0}function Tm(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+jo(s.value);if(dE(s))return s.filters.map((e=>Tm(e))).join(",");{const e=s.filters.map((n=>Tm(n))).join(",");return`${s.op}(${e})`}}function mE(s,e){return s instanceof qt?(function(r,l){return l instanceof qt&&r.op===l.op&&r.field.isEqual(l.field)&&Wi(r.value,l.value)})(s,e):s instanceof Zi?(function(r,l){return l instanceof Zi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&mE(d,l.filters[p])),!0):!1})(s,e):void xe(19439)}function pE(s){return s instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`})(s):s instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(pE).join(" ,")+"}"})(s):"Filter"}class jx extends qt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class Px extends qt{constructor(e,n){super(e,"in",n),this.keys=gE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Lx extends qt{constructor(e,n){super(e,"not-in",n),this.keys=gE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gE(s,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class Ux extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ep(n)&&au(n.arrayValue,this.value)}}class zx extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class Bx extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class qx extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}class Hx{constructor(e,n=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function ev(s,e=null,n=[],r=[],l=null,u=null,d=null){return new Hx(s,e,n,r,l,u,d)}function tp(s){const e=De(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Tm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>jo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>jo(r))).join(",")),e.Te=n}return e.Te}function np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!kx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!mE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Z_(s.startAt,e.startAt)&&Z_(s.endAt,e.endAt)}function wm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Vh{constructor(e,n=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fx(s,e,n,r,l,u,d,p){return new Vh(s,e,n,r,l,u,d,p)}function ip(s){return new Vh(s)}function tv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Gx(s){return s.collectionGroup!==null}function Wl(s){const e=De(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ft(tn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gh(u,r))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new gh(tn.keyField(),r))}return e.Ie}function Yi(s){const e=De(s);return e.Ee||(e.Ee=Qx(e,Wl(s))),e.Ee}function Qx(s,e){if(s.limitType==="F")return ev(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new gh(l.field,u)}));const n=s.endAt?new ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ph(s.startAt.position,s.startAt.inclusive):null;return ev(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Sm(s,e,n){return new Vh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function jh(s,e){return np(Yi(s),Yi(e))&&s.limitType===e.limitType}function yE(s){return`${tp(Yi(s))}|lt:${s.limitType}`}function bo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>pE(l))).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>jo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>jo(l))).join(",")),`Target(${r})`})(Yi(s))}; limitType=${s.limitType})`}function Ph(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Te.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Wl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=W_(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,Wl(r),l)||r.endAt&&!(function(d,p,g){const y=W_(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,Wl(r),l))})(s,e)}function Kx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _E(s){return(e,n)=>{let r=!1;for(const l of Wl(s)){const u=Yx(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function Yx(s,e,n){const r=s.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Vo(g,y):xe(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:s.dir})}}class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}const Xx=new Tt(Te.comparator);function Vs(){return Xx}const vE=new Tt(Te.comparator);function Ql(...s){let e=vE;for(const n of s)e=e.insert(n.key,n);return e}function EE(s){let e=vE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function pa(){return Zl()}function bE(){return Zl()}function Zl(){return new Aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const $x=new Tt(Te.comparator),Jx=new Ft(Te.comparator);function Qe(...s){let e=Jx;for(const n of s)e=e.add(n);return e}const Wx=new Ft(Ge);function Zx(){return Wx}function sp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function TE(s){return{integerValue:""+s}}function eC(s,e){return xx(e)?TE(e):sp(s,e)}class Lh{constructor(){this._=void 0}}function tC(s,e,n){return s instanceof ou?(function(l,u){const d={fields:{[rE]:{stringValue:sE},[oE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Zm(u)&&(u=kh(u)),u&&(d.fields[aE]=u),{mapValue:d}})(n,e):s instanceof lu?SE(s,e):s instanceof uu?AE(s,e):(function(l,u){const d=wE(l,u),p=nv(d)+nv(l.Ae);return bm(d)&&bm(l.Ae)?TE(p):sp(l.serializer,p)})(s,e)}function nC(s,e,n){return s instanceof lu?SE(s,e):s instanceof uu?AE(s,e):n}function wE(s,e){return s instanceof yh?(function(r){return bm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ou extends Lh{}class lu extends Lh{constructor(e){super(),this.elements=e}}function SE(s,e){const n=xE(e);for(const r of s.elements)n.some((l=>Wi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class uu extends Lh{constructor(e){super(),this.elements=e}}function AE(s,e){let n=xE(e);for(const r of s.elements)n=n.filter((l=>!Wi(l,r)));return{arrayValue:{values:n}}}class yh extends Lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nv(s){return Nt(s.integerValue||s.doubleValue)}function xE(s){return ep(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class iC{constructor(e,n){this.field=e,this.transform=n}}function sC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof lu&&l instanceof lu||r instanceof uu&&l instanceof uu?ko(r.elements,l.elements,Wi):r instanceof yh&&l instanceof yh?Wi(r.Ae,l.Ae):r instanceof ou&&l instanceof ou})(s.transform,e.transform)}class rC{constructor(e,n){this.version=e,this.transformResults=n}}class Ds{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ds}static exists(e){return new Ds(void 0,e)}static updateTime(e){return new Ds(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Uh{}function CE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new IE(s.key,Ds.none()):new _u(s.key,s.data,Ds.none());{const n=s.data,r=fi.empty();let l=new Ft(tn.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new xa(s.key,r,new Ci(l.toArray()),Ds.none())}}function aC(s,e,n){s instanceof _u?(function(l,u,d){const p=l.value.clone(),g=sv(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof xa?(function(l,u,d){if(!nh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=sv(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(RE(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function eu(s,e,n,r){return s instanceof _u?(function(u,d,p,g){if(!nh(u.precondition,d))return p;const y=u.value.clone(),T=rv(u.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof xa?(function(u,d,p,g){if(!nh(u.precondition,d))return p;const y=rv(u.fieldTransforms,g,d),T=d.data;return T.setAll(RE(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,n,r):(function(u,d,p){return nh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function oC(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=wE(r.transform,l||null);u!=null&&(n===null&&(n=fi.empty()),n.set(r.field,u))}return n||null}function iv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ko(r,l,((u,d)=>sC(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class _u extends Uh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xa extends Uh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function RE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function sv(s,e,n){const r=new Map;st(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,nC(d,p,n[l]))}return r}function rv(s,e,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,tC(u,d,e))}return r}class IE extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lC extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uC{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&aC(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const g=CE(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((n,r)=>iv(n,r)))&&ko(this.baseMutations,e.baseMutations,((n,r)=>iv(n,r)))}}class rp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return $x})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new rp(e,n,r,l)}}class cC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,$e;function fC(s){switch(s){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:s})}}function NE(s){if(s===void 0)return ks("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Lt.OK:return ne.OK;case Lt.CANCELLED:return ne.CANCELLED;case Lt.UNKNOWN:return ne.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ne.INTERNAL;case Lt.UNAVAILABLE:return ne.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ne.NOT_FOUND;case Lt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Lt.ABORTED:return ne.ABORTED;case Lt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Lt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:s})}}($e=Lt||(Lt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function dC(){return new TextEncoder}const mC=new Rr([4294967295,4294967295],0);function av(s){const e=dC().encode(s),n=new G1;return n.update(e),new Uint8Array(n.digest())}function ov(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([l,u],0)]}class ap{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Rr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Rr.fromNumber(r)));return l.compare(mC)===1&&(l=new Rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=av(e),[r,l]=ov(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ap(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=av(e),[r,l]=ov(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(Re.min(),l,new Tt(Ge),Vs(),Qe())}}class vu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,Qe(),Qe(),Qe())}}class ih{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class DE{constructor(e,n){this.targetId=e,this.Ce=n}}class OE{constructor(e,n,r=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class lv{constructor(){this.ve=0,this.Fe=uv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),r=Qe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:xe(38017,{changeType:u})}})),new vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=uv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vs(),this.Je=Fc(),this.He=Fc(),this.Ye=new Tt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(wm(u))if(r===0){const d=new Te(u.path);this.et(n,d,un.newNoDocument(d,Re.min()))}else st(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=Mr(r).toUint8Array()}catch(g){if(g instanceof iE)return Mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ap(d,l,u)}catch(g){return Mo(g instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&wm(p.target)){const g=new Te(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,un.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let r=Qe();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new zh(e,n,this.Ye,this.je,r);return this.je=Vs(),this.Je=Fc(),this.He=Fc(),this.Ye=new Tt(Ge),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new Tt(Te.comparator)}function uv(){return new Tt(Te.comparator)}const gC={asc:"ASCENDING",desc:"DESCENDING"},yC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class vC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Am(s,e){return s.useProto3Json||Mh(e)?e:{value:e}}function _h(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ME(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function EC(s,e){return _h(s,e.toTimestamp())}function Xi(s){return st(!!s,49232),Re.fromTimestamp((function(n){const r=Or(n);return new gt(r.seconds,r.nanos)})(s))}function op(s,e){return xm(s,e).canonicalString()}function xm(s,e){const n=(function(l){return new pt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function kE(s){const e=pt.fromString(s);return st(UE(e),10190,{key:e.toString()}),e}function Cm(s,e){return op(s.databaseId,e.path)}function im(s,e){const n=kE(e);if(n.get(1)!==s.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Te(jE(n))}function VE(s,e){return op(s.databaseId,e)}function bC(s){const e=kE(s);return e.length===4?pt.emptyPath():jE(e)}function Rm(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function jE(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function cv(s,e,n){return{name:Cm(s,e),fields:n.value.mapValue.fields}}function TC(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(st(T===void 0||typeof T=="string",58123),nn.fromBase64String(T||"")):(st(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),nn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?ne.UNKNOWN:NE(y.code);return new ye(T,y.message||"")})(d);n=new OE(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=im(s,r.document.name),u=Xi(r.document.updateTime),d=r.document.createTime?Xi(r.document.createTime):Re.min(),p=new fi({mapValue:{fields:r.document.fields}}),g=un.newFoundDocument(l,u,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new ih(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=im(s,r.document),u=r.readTime?Xi(r.readTime):Re.min(),d=un.newNoDocument(l,u),p=r.removedTargetIds||[];n=new ih([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=im(s,r.document),u=r.removedTargetIds||[];n=new ih([],u,l,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new hC(l,u),p=r.targetId;n=new DE(p,d)}}return n}function wC(s,e){let n;if(e instanceof _u)n={update:cv(s,e.key,e.value)};else if(e instanceof IE)n={delete:Cm(s,e.key)};else if(e instanceof xa)n={update:cv(s,e.key,e.data),updateMask:OC(e.fieldMask)};else{if(!(e instanceof lC))return xe(16599,{Vt:e.type});n={verify:Cm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof ou)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof yh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw xe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:EC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(s,e.precondition)),n}function SC(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Xi(l.updateTime):Xi(u);return d.isEqual(Re.min())&&(d=Xi(u)),new rC(d,l.transformResults||[])})(n,e)))):[]}function AC(s,e){return{documents:[VE(s,e.path)]}}function xC(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VE(s,l);const u=(function(y){if(y.length!==0)return LE(Zi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(D){return{field:To(D.field),direction:IC(D.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Am(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function CC(s){let e=bC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){st(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(w){const D=PE(w);return D instanceof Zi&&dE(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(w){return w.map((D=>(function(U){return new gh(wo(U.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(D)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let D;return D=typeof w=="object"?w.value:w,Mh(D)?null:D})(n.limit));let g=null;n.startAt&&(g=(function(w){const D=!!w.before,V=w.values||[];return new ph(V,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const D=!w.before,V=w.values||[];return new ph(V,D)})(n.endAt)),Fx(e,l,d,u,p,"F",g,y)}function RC(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wo(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=wo(n.unaryFilter.field);return qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wo(n.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(s):s.fieldFilter!==void 0?(function(n){return qt.create(wo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((r=>PE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(s):xe(30097,{filter:s})}function IC(s){return gC[s]}function NC(s){return yC[s]}function DC(s){return _C[s]}function To(s){return{fieldPath:s.canonicalString()}}function wo(s){return tn.fromServerFormat(s.fieldPath)}function LE(s){return s instanceof qt?(function(n){if(n.op==="=="){if(J_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:NC(n.op),value:n.value}}})(s):s instanceof Zi?(function(n){const r=n.getFilters().map((l=>LE(l)));return r.length===1?r[0]:{compositeFilter:{op:DC(n.op),filters:r}}})(s):xe(54877,{filter:s})}function OC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function UE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Tr{constructor(e,n,r,l,u=Re.min(),d=Re.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MC{constructor(e){this.yt=e}}function kC(s){const e=CC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sm(e,e.limit,"L"):e}class VC{constructor(){this.Cn=new jC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Dr.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class jC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Ft(pt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ft(pt.comparator)).toArray()}}const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(zE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}const fv="LruGarbageCollector",PC=1048576;function dv([s,e],[n,r]){const l=Ge(s,n);return l===0?Ge(e,r):l}class LC{constructor(e){this.Ir=e,this.buffer=new Ft(dv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?de(fv,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.Vr(3e5)}))}}class zC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Oh.ce);const r=new LC(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(hv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,u,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),Eo()<=Fe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function BC(s,e){return new zC(s,e)}class qC{constructor(){this.changes=new Aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FC{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&eu(r.mutation,l,Ci.empty(),gt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Qe()){const l=pa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let d=Ql();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Qe())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let u=Vs();const d=Zl(),p=(function(){return Zl()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof xa)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),eu(T.mutation,y,T.mutation.getFieldMask(),gt.now())):d.set(y.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new HC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Zl();let l=new Tt(((d,p)=>d-p)),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||Ci.empty();T=p.applyToLocalView(y,T),r.set(g,T);const w=(l.get(p.batchId)||Qe()).add(g);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,w=bE();T.forEach((D=>{if(!u.has(D)){const V=CE(n.get(D),r.get(D));V!==null&&w.set(D,V),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ee.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):ee.resolve(pa());let p=iu,g=u;return d.next((y=>ee.forEach(y,((T,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((D=>{g=g.insert(T,D)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Qe()))).next((T=>({batchId:p,changes:EE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let l=Ql();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,u).next((p=>ee.forEach(p,(g=>{const y=(function(w,D){return new Vh(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((w,D)=>{d=d.insert(w,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((d=>{u.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,un.newInvalidDocument(T)))}));let p=Ql();return d.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&eu(T.mutation,y,Ci.empty(),gt.now()),Ph(n,y)&&(p=p.insert(g,y))})),p}))}}class GC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Xi(l.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:kC(l.bundledQuery),readTime:Xi(l.readTime)}})(n)),ee.resolve()}}class QC{constructor(){this.overlays=new Tt(Te.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return ee.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const l=pa(),u=n.length+1,d=new Te(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new Tt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=pa(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=pa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return ee.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new cC(n,r));let u=this.qr.get(n);u===void 0&&(u=Qe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class KC{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class lp{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Te(new pt([])),r=new Kt(n,e),l=new Kt(n,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new pt([])),r=new Kt(n,e),l=new Kt(n,e+1);let u=Qe();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}class YC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uC(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Kt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),l=new Kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Ge);return n.forEach((l=>{const u=new Kt(l,0),d=new Kt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;Te.isDocumentKey(u)||(u=u.child(""));const d=new Kt(new Te(u),0);let p=new Ft(Ge);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),ee.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(l=>{const u=new Kt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kt(n,0),l=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class XC{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Vs();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():un.newInvalidDocument(l))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=Vs();const d=n.path,p=new Te(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Tx(bx(T),r)<=0||(l.has(T.key)||Ph(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,r,l){xe(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $C(this)}getSize(e){return ee.resolve(this.size)}}class $C extends qC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class JC{constructor(e){this.persistence=e,this.si=new Aa((n=>tp(n)),np),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new lp,this.targetCount=0,this.ai=Po.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ee.waitFor(u).next((()=>l))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class BE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Oh(0),this.li=!1,this.li=!0,this.hi=new KC,this.referenceDelegate=e(this),this.Pi=new JC(this),this.indexManager=new VC,this.remoteDocumentCache=(function(l){return new XC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new MC(n),this.Ii=new GC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YC(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const l=new WC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class WC extends Sx{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Ri=new lp,this.Vi=null}static mi(e){return new up(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const l=Te.fromPath(r);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.pi=new Aa((r=>Cx(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=BC(this,n)}static mi(e,n){return new vh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?ee.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,u.removeEntry(d,Re.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ee.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Qe(),l=Qe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new cp(e,n.fromCache,r,l)}}class ZC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Uw()?8:Ax(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new ZC;return this.Ss(e,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>u.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(Eo()<=Fe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Eo()<=Fe.DEBUG&&de("QueryEngine","Query:",bo(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Eo()<=Fe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ee.resolve())}ys(e,n){if(tv(n))return ee.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Sm(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Qe(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Sm(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return tv(n)||l.isEqual(Re.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,r,l)?ee.resolve(null):(Eo()<=Fe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),bo(n)),this.vs(e,d,n,Ex(l,iu)).next((p=>p)))}))}Ds(e,n){let r=new Ft(_E(e));return n.forEach(((l,u)=>{Ph(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,r){return Eo()<=Fe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",bo(n)),this.ps.getDocumentsMatchingQuery(e,n,Dr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const hp="LocalStore",tR=3e8;class nR{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new Tt(Ge),this.xs=new Aa((u=>tp(u)),np),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iR(s,e,n,r){return new nR(s,e,n,r)}async function qE(s,e){const n=De(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Qe();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function sR(s,e){const n=De(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const w=y.batch,D=w.keys();let V=ee.resolve();return D.forEach((U=>{V=V.next((()=>T.getEntry(g,U))).next((B=>{const H=y.docVersions.get(U);st(H!==null,48541),B.version.compareTo(H)<0&&(w.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),T.addEntry(B)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Qe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function HE(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rR(s,e){const n=De(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,w)=>{const D=l.get(w);if(!D)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w))));let V=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(nn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),l=l.insert(w,V),(function(B,H,ie){return B.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=tR?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(D,V,T)&&p.push(n.Pi.updateTargetData(u,V))}));let g=Vs(),y=Qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(aR(u,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(Re.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return ee.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function aR(s,e,n){let r=Qe(),l=Qe();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=Vs();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):de(hp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function oR(s,e){const n=De(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lR(s,e){const n=De(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((u=>u?(l=u,ee.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new Tr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Im(s,e,n){const r=De(s),l=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Fo(d))throw d;de(hp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function mv(s,e,n){const r=De(s);let l=Re.min(),u=Qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const w=De(g),D=w.xs.get(T);return D!==void 0?ee.resolve(w.Ms.get(D)):w.Pi.getTargetData(y,T)})(r,d,Yi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:Re.min(),n?u:Qe()))).next((p=>(uR(r,Kx(e),p),{documents:p,Qs:u})))))}function uR(s,e,n){let r=s.Os.get(e)||Re.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class pv{constructor(){this.activeTargetIds=Zx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(){this.Mo=new pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hR{Oo(e){}shutdown(){}}const gv="ConnectivityMonitor";class yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(gv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(gv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Nm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const sm="RestConnection",fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,u){const d=Nm(),p=this.zo(e,n.toUriEncodedString());de(sm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),T=zo(y);return this.Jo(e,p,g,r,T).then((w=>(de(sm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Mo(sm,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,n,r,l,u,d){return this.Go(e,n,r,l,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const r=fR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class mR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class pR extends dR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,u){const d=Nm();return new Promise(((p,g)=>{const y=new Q1;y.setWithCredentials(!0),y.listenOnce(K1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Zc.NO_ERROR:const w=y.getResponseJson();de(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Zc.TIMEOUT:de(on,`RPC '${e}' ${d} timed out`),g(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const D=y.getStatus();if(de(on,`RPC '${e}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=V?.error;if(U&&U.status&&U.message){const B=(function(ie){const he=ie.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(he)>=0?he:ne.UNKNOWN})(U.status);g(new ye(B,U.message))}else g(new ye(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(on,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);de(on,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=Nm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$1(),p=X1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");de(on,`Creating RPC '${e}' stream ${l}: ${T}`,g);const w=d.createWebChannel(T,g);this.I_(w);let D=!1,V=!1;const U=new mR({Yo:H=>{V?de(on,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(D||(de(on,`Opening RPC '${e}' stream ${l} transport.`),w.open(),D=!0),de(on,`RPC '${e}' stream ${l} sending:`,H),w.send(H))},Zo:()=>w.close()}),B=(H,ie,he)=>{H.listen(ie,(pe=>{try{he(pe)}catch(Oe){setTimeout((()=>{throw Oe}),0)}}))};return B(w,Gl.EventType.OPEN,(()=>{V||(de(on,`RPC '${e}' stream ${l} transport opened.`),U.o_())})),B(w,Gl.EventType.CLOSE,(()=>{V||(V=!0,de(on,`RPC '${e}' stream ${l} transport closed`),U.a_(),this.E_(w))})),B(w,Gl.EventType.ERROR,(H=>{V||(V=!0,Mo(on,`RPC '${e}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),U.a_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))})),B(w,Gl.EventType.MESSAGE,(H=>{if(!V){const ie=H.data[0];st(!!ie,16349);const he=ie,pe=he?.error||he[0]?.error;if(pe){de(on,`RPC '${e}' stream ${l} received error:`,pe);const Oe=pe.status;let Ee=(function(x){const C=Lt[x];if(C!==void 0)return NE(C)})(Oe),we=pe.message;Ee===void 0&&(Ee=ne.INTERNAL,we="Unknown error status: "+Oe+" with message "+pe.message),V=!0,U.a_(new ye(Ee,we)),w.close()}else de(on,`RPC '${e}' stream ${l} received:`,ie),U.u_(ie)}})),B(p,Y1.STAT_EVENT,(H=>{H.stat===_m.PROXY?de(on,`RPC '${e}' stream ${l} detected buffering proxy`):H.stat===_m.NOPROXY&&de(on,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rm(){return typeof document<"u"?document:null}function Bh(s){return new vC(s,!0)}class FE{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _v="PersistentStream";class GE{constructor(e,n,r,l,u,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ks(n.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(_v,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gR extends GE{constructor(e,n,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Re.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Xi(d.readTime):Re.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Rm(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=wm(g)?{documents:AC(u,g)}:{query:xC(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ME(u,d.resumeToken);const y=Am(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=_h(u,d.snapshotVersion.toTimestamp());const y=Am(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=RC(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Rm(this.serializer),n.removeTarget=e,this.q_(n)}}class yR extends GE{constructor(e,n,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SC(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>wC(this.serializer,r)))};this.q_(n)}}class _R{}class vR extends _R{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,xm(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())}))}Ho(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,xm(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ye(ne.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ER{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ks(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ta="RemoteStore";class bR{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ca(this)&&(de(Ta,"Restarting streams for network reachability change."),await(async function(g){const y=De(g);y.Ea.add(4),await Eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await qh(y)})(this))}))})),this.Ra=new ER(r,l)}}async function qh(s){if(Ca(s))for(const e of s.da)await e(!0)}async function Eu(s){for(const e of s.da)await e(!1)}function QE(s,e){const n=De(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pp(n)?mp(n):Go(n).O_()&&dp(n,e))}function fp(s,e){const n=De(s),r=Go(n);n.Ia.delete(e),r.O_()&&KE(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ca(n)&&n.Ra.set("Unknown"))}function dp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(s).Y_(e)}function KE(s,e){s.Va.Ue(e),Go(s).Z_(e)}function mp(s){s.Va=new pC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Go(s).start(),s.Ra.ua()}function pp(s){return Ca(s)&&!Go(s).x_()&&s.Ia.size>0}function Ca(s){return De(s).Ea.size===0}function YE(s){s.Va=void 0}async function TR(s){s.Ra.set("Online")}async function wR(s){s.Ia.forEach(((e,n)=>{dp(s,e)}))}async function SR(s,e){YE(s),pp(s)?(s.Ra.ha(e),mp(s)):s.Ra.set("Unknown")}async function AR(s,e,n){if(s.Ra.set("Online"),e instanceof OE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){de(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(s,r)}else if(e instanceof ih?s.Va.Ze(e):e instanceof DE?s.Va.st(e):s.Va.tt(e),!n.isEqual(Re.min()))try{const r=await HE(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(nn.EMPTY_BYTE_STRING,T.snapshotVersion)),KE(u,g);const w=new Tr(T.target,g,y,T.sequenceNumber);dp(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){de(Ta,"Failed to raise snapshot:",r),await Eh(s,r)}}async function Eh(s,e,n){if(!Fo(e))throw e;s.Ea.add(1),await Eu(s),s.Ra.set("Offline"),n||(n=()=>HE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(Ta,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await qh(s)}))}function XE(s,e){return e().catch((n=>Eh(s,n,e)))}async function Hh(s){const e=De(s),n=Vr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;xR(e);)try{const l=await oR(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,CR(e,l)}catch(l){await Eh(e,l)}$E(e)&&JE(e)}function xR(s){return Ca(s)&&s.Ta.length<10}function CR(s,e){s.Ta.push(e);const n=Vr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function $E(s){return Ca(s)&&!Vr(s).x_()&&s.Ta.length>0}function JE(s){Vr(s).start()}async function RR(s){Vr(s).ra()}async function IR(s){const e=Vr(s);for(const n of s.Ta)e.ea(n.mutations)}async function NR(s,e,n){const r=s.Ta.shift(),l=rp.from(r,e,n);await XE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Hh(s)}async function DR(s,e){e&&Vr(s).X_&&await(async function(r,l){if((function(d){return fC(d)&&d!==ne.ABORTED})(l.code)){const u=r.Ta.shift();Vr(r).B_(),await XE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Hh(r)}})(s,e),$E(s)&&JE(s)}async function vv(s,e){const n=De(s);n.asyncQueue.verifyOperationInProgress(),de(Ta,"RemoteStore received new credentials");const r=Ca(n);n.Ea.add(3),await Eu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qh(n)}async function OR(s,e){const n=De(s);e?(n.Ea.delete(2),await qh(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function Go(s){return s.ma||(s.ma=(function(n,r,l){const u=De(n);return u.sa(),new gR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:TR.bind(null,s),t_:wR.bind(null,s),r_:SR.bind(null,s),H_:AR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),pp(s)?mp(s):s.Ra.set("Unknown")):(await s.ma.stop(),YE(s))}))),s.ma}function Vr(s){return s.fa||(s.fa=(function(n,r,l){const u=De(n);return u.sa(),new yR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:RR.bind(null,s),r_:DR.bind(null,s),ta:IR.bind(null,s),na:NR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Hh(s)):(await s.fa.stop(),s.Ta.length>0&&(de(Ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gp{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const d=Date.now()+r,p=new gp(e,n,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(s,e){if(ks("AsyncQueue",`${e}: ${s}`),Fo(s))return new ye(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Ql(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Ev{constructor(){this.ga=new Tt(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Lo{constructor(e,n,r,l,u,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Lo(e,n,Co.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class MR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kR{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=De(n),u=l.queries;l.queries=bv(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function bv(){return new Aa((s=>yE(s)),jh)}async function WE(s,e){const n=De(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new MR,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=yp(d,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&_p(n)}async function ZE(s,e){const n=De(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VR(s,e){const n=De(s);let r=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&_p(n)}function jR(s,e,n){const r=De(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(e)}function _p(s){s.Ca.forEach((e=>{e.next()}))}var Dm,Tv;(Tv=Dm||(Dm={})).Ma="default",Tv.Cache="cache";class eb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dm.Cache}}class tb{constructor(e){this.key=e}}class nb{constructor(e){this.key=e}}class PR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=_E(e),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ev,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,w)=>{const D=l.get(T),V=Ph(this.query,w)?w:null,U=!!D&&this.mutatedKeys.has(D.key),B=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;D&&V?D.data.isEqual(V.data)?U!==B&&(r.track({type:3,doc:V}),H=!0):this.su(D,V)||(r.track({type:2,doc:V}),H=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(p=!0)):!D&&V?(r.track({type:0,doc:V}),H=!0):D&&!V&&(r.track({type:1,doc:D}),H=!0,(g||y)&&(p=!0)),H&&(V?(d=d.add(V),u=B?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(V,U){const B=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:H})}};return B(V)-B(U)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Lo(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new nb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new tb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vp="SyncEngine";class LR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UR{constructor(e){this.key=e,this.hu=!1}}class zR{constructor(e,n,r,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Aa((p=>yE(p)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Te.comparator),this.Au=new Map,this.Ru=new lp,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BR(s,e,n=!0){const r=lb(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await ib(r,e,n,!0),l}async function qR(s,e){const n=lb(s);await ib(n,e,!0,!1)}async function ib(s,e,n,r){const l=await lR(s.localStore,Yi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await HR(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&QE(s.remoteStore,l),p}async function HR(s,e,n,r,l){s.pu=(w,D,V)=>(async function(B,H,ie,he){let pe=H.view.ru(ie);pe.Cs&&(pe=await mv(B.localStore,H.query,!1).then((({documents:R})=>H.view.ru(R,pe))));const Oe=he&&he.targetChanges.get(H.targetId),Ee=he&&he.targetMismatches.get(H.targetId)!=null,we=H.view.applyChanges(pe,B.isPrimaryClient,Oe,Ee);return Sv(B,H.targetId,we.au),we.snapshot})(s,w,D,V);const u=await mv(s.localStore,e,!0),d=new PR(e,u.Qs),p=d.ru(u.documents),g=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);Sv(s,n,y.au);const T=new LR(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function FR(s,e,n){const r=De(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!jh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&fp(r.remoteStore,l.targetId),Om(r,l.targetId)})).catch(Ho)):(Om(r,l.targetId),await Im(r.localStore,l.targetId,!0))}async function GR(s,e){const n=De(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fp(n.remoteStore,r.targetId))}async function QR(s,e,n){const r=ZR(s);try{const l=await(function(d,p){const g=De(d),y=gt.now(),T=p.reduce(((V,U)=>V.add(U.key)),Qe());let w,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let U=Vs(),B=Qe();return g.Ns.getEntries(V,T).next((H=>{U=H,U.forEach(((ie,he)=>{he.isValidDocument()||(B=B.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,U))).next((H=>{w=H;const ie=[];for(const he of p){const pe=oC(he,w.get(he.key).overlayedDocument);pe!=null&&ie.push(new xa(he.key,pe,cE(pe.value.mapValue),Ds.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,ie,p)})).next((H=>{D=H;const ie=H.applyToLocalDocumentSet(w,B);return g.documentOverlayCache.saveOverlays(V,H.batchId,ie)}))})).then((()=>({batchId:D.batchId,changes:EE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new Tt(Ge)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await bu(r,l.changes),await Hh(r.remoteStore)}catch(l){const u=yp(l,"Failed to persist write");n.reject(u)}}async function sb(s,e){const n=De(s);try{const r=await rR(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(st(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?st(d.hu,14607):l.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await bu(n,r,e)}catch(r){await Ho(r)}}function wv(s,e,n){const r=De(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=De(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,w)=>{for(const D of w.Sa)D.va(p)&&(y=!0)})),y&&_p(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KR(s,e,n){const r=De(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new Tt(Te.comparator);d=d.insert(u,un.newNoDocument(u,Re.min()));const p=Qe().add(u),g=new zh(Re.min(),new Map,new Tt(Ge),d,p);await sb(r,g),r.du=r.du.remove(u),r.Au.delete(e),Ep(r)}else await Im(r.localStore,e,!1).then((()=>Om(r,e,n))).catch(Ho)}async function YR(s,e){const n=De(s),r=e.batch.batchId;try{const l=await sR(n.localStore,e);ab(n,r,null),rb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bu(n,l)}catch(l){await Ho(l)}}async function XR(s,e,n){const r=De(s);try{const l=await(function(d,p){const g=De(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(st(w!==null,37113),T=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);ab(r,e,n),rb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bu(r,l)}catch(l){await Ho(l)}}function rb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function ab(s,e,n){const r=De(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Om(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||ob(s,r)}))}function ob(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(fp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Ep(s))}function Sv(s,e,n){for(const r of n)r instanceof tb?(s.Ru.addReference(r.key,e),$R(s,r)):r instanceof nb?(de(vp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||ob(s,r.key)):xe(19791,{wu:r})}function $R(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(de(vp,"New document in limbo: "+n),s.Eu.add(r),Ep(s))}function Ep(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Te(pt.fromString(e)),r=s.fu.next();s.Au.set(r,new UR(n)),s.du=s.du.insert(n,r),QE(s.remoteStore,new Tr(Yi(ip(n.path)),r,"TargetPurposeLimboResolution",Oh.ce))}}async function bu(s,e,n){const r=De(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=cp.As(g.targetId,y);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=De(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ee.forEach(y,(D=>ee.forEach(D.Es,(V=>T.persistence.referenceDelegate.addReference(w,D.targetId,V))).next((()=>ee.forEach(D.ds,(V=>T.persistence.referenceDelegate.removeReference(w,D.targetId,V)))))))))}catch(w){if(!Fo(w))throw w;de(hp,"Failed to update sequence numbers: "+w)}for(const w of y){const D=w.targetId;if(!w.fromCache){const V=T.Ms.get(D),U=V.snapshotVersion,B=V.withLastLimboFreeSnapshotVersion(U);T.Ms=T.Ms.insert(D,B)}}})(r.localStore,u))}async function JR(s,e){const n=De(s);if(!n.currentUser.isEqual(e)){de(vp,"User change. New user:",e.toKey());const r=await qE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ye(ne.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bu(n,r.Ls)}}function WR(s,e){const n=De(s),r=n.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let l=Qe();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function lb(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KR.bind(null,e),e.Pu.H_=VR.bind(null,e.eventManager),e.Pu.yu=jR.bind(null,e.eventManager),e}function ZR(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XR.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iR(this.persistence,new eR,e.initialUser,this.serializer)}Cu(e){return new BE(up.mi,this.serializer)}Du(e){return new cR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class eI extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new BE((r=>vh.mi(r,n)),this.serializer)}}class Mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JR.bind(null,this.syncEngine),await OR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kR})()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=(function(u){return new pR(u)})(e.databaseInfo);return(function(u,d,p,g){return new vR(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,d,p){return new bR(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>wv(this.syncEngine,n,0)),(function(){return yv.v()?new yv:new hR})())}createSyncEngine(e,n){return(function(l,u,d,p,g,y,T){const w=new zR(l,u,d,p,g,y);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);de(Ta,"RemoteStore shutting down."),r.Ea.add(5),await Eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const jr="FirestoreClient";class tI{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{de(jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function am(s,e){s.asyncQueue.verifyOperationInProgress(),de(jr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await qE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Av(s,e){s.asyncQueue.verifyOperationInProgress();const n=await nI(s);de(jr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>vv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>vv(e.remoteStore,l))),s._onlineComponents=e}async function nI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(jr,"Using user provided OfflineComponentProvider");try{await am(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await am(s,new bh)}}else de(jr,"Using default OfflineComponentProvider"),await am(s,new eI(void 0));return s._offlineComponents}async function cb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(jr,"Using user provided OnlineComponentProvider"),await Av(s,s._uninitializedComponentsProvider._online)):(de(jr,"Using default OnlineComponentProvider"),await Av(s,new Mm))),s._onlineComponents}function iI(s){return cb(s).then((e=>e.syncEngine))}async function hb(s){const e=await cb(s),n=e.eventManager;return n.onListen=BR.bind(null,e.syncEngine),n.onUnlisten=FR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GR.bind(null,e.syncEngine),n}function sI(s,e,n={}){const r=new Ns;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new ub({next:D=>{T.Nu(),d.enqueueAndForget((()=>ZE(u,w)));const V=D.docs.has(p);!V&&D.fromCache?y.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&D.fromCache&&g&&g.source==="server"?y.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),w=new eb(ip(p.path),T,{includeMetadataChanges:!0,qa:!0});return WE(u,w)})(await hb(s),s.asyncQueue,e,n,r))),r.promise}function rI(s,e,n={}){const r=new Ns;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const T=new ub({next:D=>{T.Nu(),d.enqueueAndForget((()=>ZE(u,w))),D.fromCache&&g.source==="server"?y.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),w=new eb(p,T,{includeMetadataChanges:!0,qa:!0});return WE(u,w)})(await hb(s),s.asyncQueue,e,n,r))),r.promise}function fb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const xv=new Map;const db="firestore.googleapis.com",Cv=!0;class Rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=db,this.ssl=Cv}else this.host=e.host,this.ssl=e.ssl??Cv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PC)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ux;switch(r.type){case"firstParty":return new dx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=xv.get(n);r&&(de("ComponentProvider","Removing Datastore"),xv.delete(n),r.terminate())})(this),Promise.resolve()}}function aI(s,e,n,r={}){s=ba(s,Fh);const l=zo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(Gv(`https://${p}`),Qv("Firestore",!0)),u.host!==db&&u.host!==p&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!ya(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=ln.MOCK_USER;else{y=Nw(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(w)}s._authCredentials=new cx(new W1(y,T))}}class Gh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gh(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yu(n,Ht._jsonSchema))return new Ht(e,r||null,new Te(pt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ut("string",Ht._jsonSchemaVersion),referencePath:Ut("string")};class Ir extends Gh{constructor(e,n,r){super(e,n,ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Te(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function oI(s,e,...n){if(s=vn(s),Z1("collection","path",e),s instanceof Fh){const r=pt.fromString(e,...n);return q_(r),new Ir(s,null,r)}{if(!(s instanceof Ht||s instanceof Ir))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...n));return q_(r),new Ir(s.firestore,null,r)}}function Uo(s,e,...n){if(s=vn(s),arguments.length===1&&(e=$m.newId()),Z1("doc","path",e),s instanceof Fh){const r=pt.fromString(e,...n);return B_(r),new Ht(s,null,new Te(r))}{if(!(s instanceof Ht||s instanceof Ir))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...n));return B_(r),new Ht(s.firestore,s instanceof Ir?s.converter:null,new Te(r))}}const Iv="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FE(this,"async_queue_retry"),this._c=()=>{const r=rm();r&&de(Iv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fo(e))throw e;de(Iv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ks("INTERNAL UNHANDLED ERROR: ",Dv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=gp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&xe(47125,{Pc:Dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Dv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Qh extends Fh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Nv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function lI(s,e){const n=typeof s=="object"?s:Um(),r=typeof s=="string"?s:dh,l=Lm(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=Rw("firestore");u&&aI(l,...u)}return l}function bp(s){if(s._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uI(s),s._firestoreClient}function uI(s){const e=s._freezeSettings(),n=(function(l,u,d,p){return new Nx(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,fb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new tI(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(nn.fromBase64String(e))}catch(n){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new di(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Ut("string",di._jsonSchemaVersion),bytes:Ut("string")};class Tp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wp{constructor(e){this._methodName=e}}class $i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(yu(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Ut("string",$i._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ji(e.vectorValues);throw new ye(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:Ut("string",Ji._jsonSchemaVersion),vectorValues:Ut("object")};const cI=/^__.*__$/;class hI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}function mb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:s})}}class Sp{constructor(e,n,r,l,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mb(this.Ac)&&cI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}Cc(e,n,r,l=!1){return new Sp({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dI(s){const e=s._freezeSettings(),n=Bh(s._databaseId);return new fI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function mI(s,e,n,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,n,l);_b("Data must be an object, but it was:",d,r);const p=gb(r,d);let g,y;if(u.merge)g=new Ci(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const D=pI(e,w,n);if(!d.contains(D))throw new ye(ne.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);yI(T,D)||T.push(D)}g=new Ci(T),y=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=d.fieldTransforms;return new hI(new fi(p),g,y)}class Ap extends wp{_toFieldTransform(e){return new iC(e.path,new ou)}isEqual(e){return e instanceof Ap}}function pb(s,e){if(yb(s=vn(s)))return _b("Unsupported field value:",e,s),gb(s,e);if(s instanceof wp)return(function(r,l){if(!mb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=pb(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=gt.fromDate(r);return{timestampValue:_h(l.serializer,u)}}if(r instanceof gt){const u=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(l.serializer,u)}}if(r instanceof $i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof di)return{bytesValue:ME(l.serializer,r._byteString)};if(r instanceof Ht){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:op(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ji)return(function(d,p){return{mapValue:{fields:{[lE]:{stringValue:uE},[mh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return sp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Jm(r)}`)})(s,e)}function gb(s,e){const n={};return nE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(s,((r,l)=>{const u=pb(l,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function yb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof $i||s instanceof di||s instanceof Ht||s instanceof wp||s instanceof Ji)}function _b(s,e,n){if(!yb(n)||!eE(n)){const r=Jm(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function pI(s,e,n){if((e=vn(e))instanceof Tp)return e._internalPath;if(typeof e=="string")return vb(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,n)}const gI=new RegExp("[~\\*/\\[\\]]");function vb(s,e,n){if(e.search(gI)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Tp(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Th(s,e,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new ye(ne.INVALID_ARGUMENT,p+s+g)}function yI(s,e){return s.some((n=>n.isEqual(e)))}class Eb{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _I extends Eb{data(){return super.data()}}function bb(s,e){return typeof e=="string"?vb(s,e):e instanceof Tp?e._internalPath:e._delegate._internalPath}function vI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EI{convertValue(e,n="none"){switch(kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sa(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[mh].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new Ji(n)}convertGeoPoint(e){return new $i(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Or(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);st(UE(r),9688,{name:e});const l=new ru(r.get(1),r.get(3)),u=new Te(r.popFirst(5));return l.isEqual(n)||ks(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function bI(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends Eb{constructor(e,n,r,l,u,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:Ut("string",ga._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class sh extends ga{data(e={}){return super.data(e)}}class Ro{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Yl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new sh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:TI(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:s})}}function xp(s){s=ba(s,Ht);const e=ba(s.firestore,Qh);return sI(bp(e),s._key).then((n=>AI(e,s,n)))}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Ut("string",Ro._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Tb extends EI{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function wI(s){s=ba(s,Gh);const e=ba(s.firestore,Qh),n=bp(e),r=new Tb(e);return vI(s._query),rI(n,s._query).then((l=>new Ro(e,r,s,l)))}function Io(s,e,n){s=ba(s,Ht);const r=ba(s.firestore,Qh),l=bI(s.converter,e,n);return SI(r,[mI(dI(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Ds.none())])}function SI(s,e){return(function(r,l){const u=new Ns;return r.asyncQueue.enqueueAndForget((async()=>QR(await iI(r),l,u))),u.promise})(bp(s),e)}function AI(s,e,n){const r=n.docs.get(e._key),l=new Tb(s);return new ga(s,l,e._key,r,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function Bl(){return new Ap("serverTimestamp")}(function(e,n=!0){(function(l){qo=l})(Bo),No(new _a("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Qh(new hx(r.getProvider("auth-internal")),new mx(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(y.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Cr(P_,L_,e),Cr(P_,L_,"esm2020")})();const xI={apiKey:"AIzaSyDRfJevjEjaG66KDpNNSw4jVIeFfrEg6KE",authDomain:"japanese-learning-app-fcb27.firebaseapp.com",projectId:"japanese-learning-app-fcb27",storageBucket:"japanese-learning-app-fcb27.appspot.com",messagingSenderId:"999126999380",appId:"1:999126999380:web:21b7ec4100378178ec10c1"},wb=KS().length?Um():Xv(xI),wr=F1(wb),wh=lI(wb);const CI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ov=s=>{const e=RI(s);return e.charAt(0).toUpperCase()+e.slice(1)},Sb=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),II=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var NI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DI=te.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>te.createElement("svg",{ref:g,...NI,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:Sb("lucide",l),...!u&&!II(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>te.createElement(y,T)),...Array.isArray(u)?u:[u]]));const et=(s,e)=>{const n=te.forwardRef(({className:r,...l},u)=>te.createElement(DI,{ref:u,iconNode:e,className:Sb(`lucide-${CI(Ov(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Ov(s),n};const OI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ab=et("arrow-right",OI);const MI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cu=et("chevron-down",MI);const kI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],VI=et("chevron-left",kI);const jI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PI=et("chevron-right",jI);const LI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UI=et("chevron-up",LI);const zI=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],BI=et("chevrons-left",zI);const qI=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],HI=et("chevrons-right",qI);const FI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sh=et("circle-alert",FI);const GI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QI=et("circle-check-big",GI);const KI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xb=et("circle-x",KI);const YI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],XI=et("download",YI);const $I=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],JI=et("eye-off",$I);const WI=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Mv=et("folder",WI);const ZI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],eN=et("layers",ZI);const tN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Cb=et("loader",tN);const nN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iN=et("log-out",nN);const sN=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Rb=et("pause",sN);const rN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],aN=et("pen-tool",rN);const oN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Cp=et("play",oN);const lN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uN=et("refresh-cw",lN);const cN=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],hN=et("repeat",cN);const fN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ib=et("save",fN);const dN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mN=et("settings",dN);const pN=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],gN=et("shuffle",pN);const yN=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],_N=et("skip-back",yN);const vN=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],EN=et("skip-forward",vN);const bN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],TN=et("star",bN);const wN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SN=et("trash-2",wN);const AN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kv=et("triangle-alert",AN);const xN=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],CN=et("undo",xN);const RN=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],IN=et("volume-2",RN);const NN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nb=et("x",NN),DN=new Set(["id","localId","book","folderId","isMarked"]),ON=[{id:"isMarked",label:"",width:"w-12",type:"action"},{id:"audio",label:"",width:"w-12",type:"action"}],MN={id:"selection",label:"#",width:"w-10",type:"system",fixed:"left"},kN=(s,e)=>{const n={...s},r=s.id?String(s.id):null;return n.id=r,n.localId=r||`local_${e}_${Date.now()}`,n.book=String(s.book||"1"),n.folderId=String(s.book||"Uncategorized"),n.isMarked=s.is_problem===!0||s.is_problem==="true",n.japanese===void 0&&(n.japanese=String(s.hiragana||s.japanese||"")),s.japanese||Object.defineProperty(n,"_isSyntheticJapanese",{value:!0,enumerable:!1}),n.lesson||(n.lesson=String(s.lesson||"1")),n.cando||(n.cando=String(s.cando||"1")),n.bangla||(n.bangla=String(s.bangla||"")),n},Vv=(s,e)=>{const n={};let r=!1;return["japanese","bangla","lesson","cando","isMarked"].forEach(u=>{JSON.stringify(s[u])!==JSON.stringify(e[u])&&(u==="japanese"?n.hiragana=e[u]:u==="isMarked"?n.is_problem=e[u]:n[u]=e[u],r=!0)}),r?n:null},VN=({message:s,type:e,onClose:n})=>{te.useEffect(()=>{const u=setTimeout(n,3e3);return()=>clearTimeout(u)},[n]);let r="bg-slate-800";e==="error"&&(r="bg-red-600"),e==="warning"&&(r="bg-amber-600"),e==="success"&&(r="bg-green-600");const l=typeof s=="object"?JSON.stringify(s):s;return E.jsx("div",{className:`fixed bottom-24 right-6 ${r} text-white px-6 py-3 rounded-lg shadow-xl z-[100] flex items-center font-medium animate-in fade-in slide-in-from-bottom-5`,children:l})},jN=Qi.memo(({item:s,columnOrder:e,columnDefs:n,columnVisibility:r,columnWidths:l,hiddenColumns:u,revealedCells:d,selectedIds:p,playbackMode:g,isPlaying:y,playbackQueue:T,currentIndex:w,index:D,isEditMode:V,onToggleSelection:U,onUpdateCell:B,onRevealCell:H,onPlaySingle:ie,onMark:he,onDeleteRequest:pe})=>{if(!s)return null;const Oe=p.has(s.localId),Ee=g==="playlist"&&T[w]===s.localId,we=g==="single"&&T[w]===s.localId,R=Ee||we,x=C=>{if(!r||!(r[C]!==!1))return null;const O="",j=u[C];switch(C){case"selection":return E.jsx("td",{"data-col-id":C,className:"w-10 px-2 py-0.5 border-r border-slate-100 text-center font-medium text-slate-400 text-xs",children:D+1});case"audio":return E.jsx("td",{"data-col-id":C,className:`w-12 px-2 py-0.5 border-r border-slate-100 text-center ${O}`,children:E.jsx("button",{onClick:()=>ie(s),className:`p-1 rounded-full transition-colors ${R?"bg-indigo-600 text-white":"text-slate-400 hover:text-indigo-600 hover:bg-indigo-50"}`,children:R&&y?E.jsx(Rb,{size:14}):E.jsx(Cp,{size:14})})});case"isMarked":return E.jsx("td",{"data-col-id":C,className:`w-12 px-2 py-0.5 border-r border-slate-100 text-center ${O}`,children:E.jsx("button",{onClick:()=>he(s.localId),className:"p-0.5 hover:bg-slate-100 rounded",children:E.jsx(Sh,{size:16,className:s.isMarked?"text-red-500 fill-red-500":"text-slate-200"})})});default:const A=s[C],Le=typeof A=="object"&&A!==null?JSON.stringify(A):String(A||""),Ke=d[C]===s.localId,Y=!j||Ke,K=C==="japanese"||C==="hiragana"||C==="Hiragana";return E.jsx("td",{"data-col-id":C,className:`px-0 border-r border-slate-100 ${!Y&&!V?"bg-slate-100":"bg-white"}`,children:!Y&&!V?E.jsx("div",{onClick:()=>H(s.localId,C),className:"w-full h-full px-2 py-0.5 text-transparent cursor-pointer hover:bg-slate-200 flex items-center justify-center transition-colors group/cell",children:E.jsx(JI,{size:16,className:"text-slate-300 group-hover/cell:text-slate-500"})}):V?E.jsx("input",{className:"w-full h-full px-2 py-0.5 bg-transparent outline-none text-sm border-2 border-transparent focus:border-amber-500 focus:bg-amber-50 transition-all",value:Le,onChange:se=>B(s.localId,C,se.target.value)}):E.jsx("div",{className:`w-full h-full px-2 py-0.5 flex items-center text-sm leading-tight ${K?"font-bold":""} ${R?"text-indigo-700":"text-slate-800"}`,children:Le})})}};return E.jsx("tr",{className:`group border-b border-slate-100 hover:bg-blue-50/30 transition-colors ${Oe?"bg-blue-50":R?"bg-indigo-50 border-indigo-200":"bg-white"}`,children:e.map(C=>E.jsx(Qi.Fragment,{children:(!n.find(M=>M.id===C)?.editOnly||V)&&x(C)},C))})}),PN=({playbackMode:s,playbackQueue:e,currentIndex:n,vocabList:r,isPlaying:l,audioConfig:u,onPrevTrack:d,onNextTrack:p,onTogglePlayPause:g,onCycleRepeat:y,onCycleSpeed:T,onToggleBangla:w,onHide:D,onToggleMark:V})=>{if(s!=="playlist"||e.length===0)return null;const U=r.find(B=>B.localId===e[n]);return U?E.jsxs("div",{className:"w-full bg-white/95 backdrop-blur-sm border-t border-slate-200 h-12 flex items-center justify-between px-3 md:px-4 shadow-[0_-4px_10px_-1px_rgba(0,0,0,0.1)] z-50 transition-transform duration-300",children:[E.jsxs("div",{className:"flex items-center gap-2 w-1/4 min-w-0",children:[E.jsx("div",{className:"bg-indigo-100 p-1.5 rounded-lg text-indigo-600 hidden md:block shrink-0",children:E.jsx(eN,{size:18})}),E.jsxs("div",{className:"overflow-hidden flex flex-col justify-center",children:[E.jsx("div",{className:"font-bold text-slate-800 truncate text-sm leading-tight",children:U.japanese}),E.jsx("div",{className:"text-[10px] text-slate-500 truncate leading-tight",children:U.bangla})]})]}),E.jsxs("div",{className:"flex items-center justify-center gap-2 flex-1",children:[E.jsx("button",{onClick:d,className:"text-slate-400 hover:text-indigo-600 hover:bg-slate-100 p-1.5 rounded-full transition-colors",children:E.jsx(_N,{size:18})}),E.jsx("button",{onClick:g,className:"flex-shrink-0 w-9 h-9 flex items-center justify-center rounded-full shadow-sm transform active:scale-95 transition-all bg-indigo-600 text-white hover:bg-indigo-700",children:l?E.jsx(Rb,{size:18,fill:"white"}):E.jsx(Cp,{size:18,fill:"white",className:"ml-0.5"})}),E.jsx("button",{onClick:p,className:"text-slate-400 hover:text-indigo-600 hover:bg-slate-100 p-1.5 rounded-full transition-colors",children:E.jsx(EN,{size:18})}),E.jsx("button",{onClick:()=>V(U.id||U.localId),className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full transition-colors order-last outline-none ${U.isMarked?"text-amber-400 bg-amber-50":"text-slate-300 hover:text-amber-400 hover:bg-slate-50"}`,title:U.isMarked?"Unmark":"Mark",children:E.jsx(TN,{size:18,fill:U.isMarked?"currentColor":"none"})}),E.jsxs("div",{className:"hidden md:block text-[9px] text-slate-400 font-mono tracking-widest uppercase ml-2",children:[n+1," / ",e.length,"  ",u.repeatMode.toUpperCase()]})]}),E.jsxs("div",{className:"flex items-center gap-2 w-1/4 justify-end min-w-0",children:[E.jsxs("div",{className:"relative group shrink-0",children:[E.jsx("select",{value:u.repeatPerItem,onChange:B=>{const H=parseInt(B.target.value);y(H)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",children:[1,2,3,5,10,20,30,40,50,100].map(B=>E.jsxs("option",{value:B,children:[B,"x"]},B))}),E.jsxs("button",{className:`px-2 py-1 rounded-[6px] flex items-center gap-1 transition-all ${u.repeatPerItem>1?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"}`,title:`Repeat: ${u.repeatPerItem}x`,children:[E.jsx(hN,{size:14}),E.jsxs("span",{className:"text-[10px] font-bold",children:[u.repeatPerItem,"x"]})]})]}),E.jsxs("button",{onClick:T,className:"px-2 py-1 rounded-[6px] bg-slate-100 text-slate-500 text-[10px] font-bold w-10 hover:bg-slate-200 transition-colors",title:"Speed",children:[u.speed,"x"]}),E.jsx("button",{onClick:D,className:"p-1 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors ml-1",title:"Hide",children:E.jsx(cu,{size:18})})]})]}):null},LN=({colId:s,def:e,isEditMode:n,sortConfig:r,onSort:l,columnVisibility:u,onDragStart:d,onDragOver:p,onDrop:g,columnWidths:y,setColumnWidths:T})=>{if(!e||u[s]===!1)return null;const w=e.fixed||e.id==="selection"||e.id==="delete",D=V=>{V.preventDefault(),V.stopPropagation();const U=V.clientX,B=y[s]||160,H=document.getElementById(`col-${s}`);let ie;const he=Oe=>{ie&&cancelAnimationFrame(ie),ie=requestAnimationFrame(()=>{const Ee=Oe.clientX-U,we=Math.max(80,B+Ee);H&&(H.style.width=`${we}px`)})},pe=Oe=>{document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",pe),ie&&cancelAnimationFrame(ie);const Ee=Oe.clientX-U,we=Math.max(80,B+Ee);T(R=>({...R,[s]:we}))};document.addEventListener("mousemove",he),document.addEventListener("mouseup",pe)};return E.jsxs("th",{draggable:!w,onDragStart:V=>!w&&d(V,s),onDragOver:w?void 0:p,onDrop:V=>!w&&g(V,s),"data-col-id":s,className:`
        relative
        px-2 py-1
        bg-slate-50
        border-b border-r border-slate-200
        text-xs font-bold uppercase tracking-wider
        select-none
        ${w?"text-center":"cursor-move hover:bg-slate-100"}
        ${n?"bg-amber-50 border-amber-200":""}
      `,children:[E.jsxs("div",{className:"flex items-center gap-1",onClick:()=>e.sortable&&l(e.id),children:[e.icon&&E.jsx(e.icon,{size:14}),E.jsx("span",{children:e.label}),r.key===e.id&&E.jsx("span",{className:"ml-auto",children:r.direction==="asc"?"":""})]}),!w&&E.jsx("div",{onMouseDown:D,className:`\r
            absolute top-0 right-0\r
            h-full w-1\r
            cursor-col-resize\r
            hover:bg-indigo-400\r
          `})]})},jv=({label:s,items:e,activeValues:n,onToggle:r,color:l="blue"})=>{if(!e||e.length===0)return null;const u=Array.isArray(n)?n:[],d={blue:{active:"bg-blue-600 text-white shadow-md shadow-blue-200",inactive:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-blue-300"},indigo:{active:"bg-indigo-600 text-white shadow-md shadow-indigo-200",inactive:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-indigo-300"}},p=d[l]||d.blue;return E.jsxs("div",{className:"flex items-center gap-2 overflow-hidden px-1 select-none transition-all duration-300 h-7 border-b border-transparent",children:[E.jsx("div",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider mr-0.5 w-[50px] shrink-0 text-right",children:s==="L"?"Lesson":"Can-do"}),E.jsxs("div",{className:"flex gap-1 overflow-x-auto items-center h-full no-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[E.jsx("style",{children:" .no-scrollbar::-webkit-scrollbar { display: none; } "}),e.map(([g,y])=>{const T=u.includes(g);return E.jsxs("button",{onClick:()=>r(g),title:`${s==="L"?"Lesson":"Can-do"} ${g}  ${y} words`,className:`
                                    flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold transition-all whitespace-nowrap border shrink-0
                                    ${T?p.active:p.inactive}
                                `,children:[E.jsxs("span",{children:[s,g]}),E.jsx("span",{className:`text-[9px] opacity-70 ${T?"bg-white/20 px-1 rounded-[2px]":"text-slate-400 bg-slate-100 px-1 rounded-[2px]"}`,children:y}),T&&E.jsx(Nb,{size:10,className:"ml-0.5 opacity-80 hover:opacity-100"})]},g)})]})]})},UN=(s,e=600)=>{const[n,r]=te.useState(0);return Qi.useEffect(()=>{let l=n;const u=performance.now();let d;const p=g=>{const y=g-u,T=Math.min(y/e,1),w=1-Math.pow(1-T,4);r(Math.floor(l+(s-l)*w)),T<1&&(d=requestAnimationFrame(p))};return l!==s&&(d=requestAnimationFrame(p)),()=>cancelAnimationFrame(d)},[s]),n},Pv=({label:s,options:e,selectedValues:n,onChange:r})=>{const l=Array.isArray(n)?n:[],u=l.length===0,[d,p]=te.useState(!1),g=Qi.useRef(null),[y,T]=te.useState({top:0,left:0}),w=Qi.useRef(null);Qi.useEffect(()=>{const B=ie=>{g.current&&!g.current.contains(ie.target)&&(!w.current||!w.current.contains(ie.target))&&p(!1)},H=ie=>{w.current&&w.current.contains(ie.target)||d&&p(!1)};return document.addEventListener("mousedown",B),window.addEventListener("scroll",H,!0),()=>{document.removeEventListener("mousedown",B),window.removeEventListener("scroll",H,!0)}},[d]);const D=B=>{let H;l.includes(B)?H=l.filter(ie=>ie!==B):H=[...l,B],r(H)},V=()=>{r([])},U=u?"All":l.length===1?l[0]:`${l.length} selected`;return E.jsxs("div",{className:"relative group flex-shrink-0",ref:g,children:[E.jsxs("button",{onClick:B=>{if(!d){const H=B.currentTarget.getBoundingClientRect();T({top:H.bottom+4,left:H.left})}p(!d)},title:`${s} Filter`,className:`
                    flex items-center justify-center gap-2 appearance-none 
                    transition-all duration-200
                    text-xs font-bold 
                    rounded shadow-sm
                    focus:outline-none 
                    ${d?"ring-2 ring-indigo-200":""}
                    h-8 min-w-[32px] md:min-w-[100px] md:px-2 md:justify-between px-0
                    ${u?"bg-white text-slate-700 border border-slate-300 hover:border-indigo-400":"bg-indigo-600 text-white border border-indigo-600 shadow-indigo-200"}
                `,children:[E.jsxs("div",{className:"md:hidden flex items-center justify-center gap-0.5",children:[E.jsx("span",{className:"text-[11px] uppercase",children:s.charAt(0)}),E.jsx(cu,{size:10,strokeWidth:3,className:`transition-transform ${d?"rotate-180":""} opacity-80`})]}),E.jsxs("span",{className:"hidden md:block truncate max-w-[100px]",children:[s,": ",U]}),E.jsx(cu,{size:12,className:`hidden md:block transition-transform ${d?"rotate-180":""} ${u?"text-slate-400":"text-indigo-200"}`})]}),d&&E.jsxs("div",{ref:w,style:{position:"fixed",top:y.top,left:y.left},className:"w-48 bg-white rounded-lg shadow-xl border border-slate-200 z-[9999] max-h-64 overflow-y-auto p-1 animate-in fade-in zoom-in-95 duration-100 origin-top-left",children:[E.jsxs("div",{onClick:()=>{V(),p(!1)},className:`flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer text-xs font-bold ${u?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[E.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${u?"bg-indigo-600 border-indigo-600":"border-slate-300 bg-white"}`,children:u&&E.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-sm"})}),"All"]}),E.jsx("div",{className:"h-px bg-slate-100 my-1"}),e.map(B=>{const H=l.includes(B);return E.jsxs("div",{onClick:()=>D(B),className:`flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer text-xs font-medium ${H?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[E.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${H?"bg-indigo-600 border-indigo-600 text-white":"border-slate-300 bg-white"}`,children:H&&E.jsx("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),s," ",B]},B)})]})]})},zN=({currentFolderId:s,folders:e,vocabList:n,selectedIds:r,isEditMode:l,hasUnsavedChanges:u,filters:d,hiddenColumns:p,viewMode:g,onFolderChange:y,onDeleteRequest:T,onEditModeToggle:w,onFilterChange:D,onViewModeChange:V,onVisibilityToggle:U,onSave:B,onDiscard:H,onPracticeStart:ie,onPlaylistStart:he,onImportOpen:pe,setIsColumnManagerOpen:Oe,isSyncing:Ee,filteredData:we,onStartSmartPractice:R,trendData:x,suggestion:C,onApplySuggestion:M,onRefresh:O,onShuffle:j,isPlaying:A,onTogglePlay:Le,showingCount:Ke,totalCount:Y})=>{UN(Ke!==void 0?Ke:we.length);const[K,se]=te.useState(!1),[fe,Ce]=te.useState(!1),I=Qi.useRef(null),[X,re]=te.useState(0),[le,ce]=te.useState(typeof window<"u"?window.innerWidth>=768:!0);Qi.useLayoutEffect(()=>{const ke=()=>ce(window.innerWidth>=768);window.addEventListener("resize",ke);const Me=new ResizeObserver(Ye=>{for(let zt of Ye)zt.contentRect.width>0&&re(Math.floor(zt.contentRect.width))});return I.current&&Me.observe(I.current),I.current&&re(I.current.offsetWidth),()=>{window.removeEventListener("resize",ke),Me.disconnect()}},[]);const _e=90,ve=36;let Be=X-_e;const it=le||Be>=ve;!le&&it&&(Be-=ve);const Nn=le||!l&&Be>=ve;!le&&Nn&&!l&&(Be-=ve);const Kn=le||!l&&Be>=ve;!le&&Kn&&!l&&(Be-=ve);const Dn=le||Be>=ve;!le&&Dn&&(Be-=ve);const pi=le||Be>=ve;!le&&pi&&(Be-=ve);const Yt=le||Be>=ve;!le&&Yt&&(Be-=ve);const Ii=le||Be>=100,On=te.useMemo(()=>{const ke={};return n.forEach(Me=>{const Ye=Me.lesson||"?";ke[Ye]=(ke[Ye]||0)+1}),Object.entries(ke).sort((Me,Ye)=>(parseInt(Me[0])||999)-(parseInt(Ye[0])||999))},[n]),Mn=te.useMemo(()=>{const ke={};return n.forEach(Me=>{const Ye=Me.cando||"?";ke[Ye]=(ke[Ye]||0)+1}),Object.entries(ke).sort()},[n]);return E.jsxs("div",{className:"bg-white border-b border-slate-200 flex flex-col flex-shrink-0 z-20 shadow-sm sticky top-0 max-w-[100vw]",children:[K&&E.jsxs("div",{className:"flex flex-col gap-0.5 p-0.5 bg-slate-50/50 border-b border-slate-100 overflow-hidden animate-in slide-in-from-top-2 duration-300",children:[E.jsx(jv,{label:"L",items:On,activeValues:d.lesson,onToggle:ke=>{const Me=d.lesson||[];let zt=Me.includes(ke)?Me.filter(Yn=>Yn!==ke):[...Me,ke];D({...d,lesson:zt})},color:"blue"}),E.jsx(jv,{label:"C",items:Mn,activeValues:d.cando,onToggle:ke=>{const Me=d.cando||[];let zt=Me.includes(ke)?Me.filter(Yn=>Yn!==ke):[...Me,ke];D({...d,cando:zt})},color:"indigo"})]}),E.jsx("div",{className:"bg-white z-10 border-b border-slate-200 shadow-sm max-w-[100vw]",children:E.jsxs("div",{ref:I,className:"flex items-center gap-1 p-1 overflow-x-auto no-scrollbar",children:[Ee&&E.jsx(Cb,{size:12,className:"text-blue-600 animate-spin mr-2 flex-shrink-0"}),u&&!Ee&&E.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse flex-shrink-0",title:"Unsaved Changes"}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx(Pv,{label:"Lesson",options:[...new Set(n.map(ke=>String(ke.lesson)))].sort((ke,Me)=>(parseInt(ke)||0)-(parseInt(Me)||0)),selectedValues:d.lesson,onChange:ke=>D({...d,lesson:ke})}),E.jsx(Pv,{label:"Can-do",options:[...new Set(n.map(ke=>String(ke.cando)))].sort((ke,Me)=>(parseInt(ke)||0)-(parseInt(Me)||0)),selectedValues:d.cando,onChange:ke=>D({...d,cando:ke})})]}),E.jsx("div",{className:"w-px h-6 bg-slate-100 mx-1 flex-shrink-0"}),it&&E.jsxs("button",{onClick:()=>V("problem"),className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-bold transition-all whitespace-nowrap ${g==="problem"?"bg-red-100 text-red-600 border border-red-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,title:"Toggle Marked View",children:[E.jsx(Sh,{size:14}),E.jsx("span",{className:"hidden md:inline",children:"Marked"})]}),!l&&E.jsxs(E.Fragment,{children:[Nn&&E.jsx("button",{onClick:A?Le:he,disabled:Ee,className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg shadow-sm transition-colors disabled:opacity-50 ${A?"bg-slate-800 text-white hover:bg-slate-900":"bg-white border border-slate-200 text-slate-800 hover:bg-slate-50"}`,title:A?"Pause":"Start Playlist",children:A?E.jsxs("div",{className:"flex gap-0.5",children:[E.jsx("div",{className:"w-1 h-3 bg-current rounded-full"}),E.jsx("div",{className:"w-1 h-3 bg-current rounded-full"})]}):E.jsx(Cp,{size:14,className:"ml-0.5"})}),Kn&&E.jsx("button",{onClick:j,disabled:Ee,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-purple-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Shuffle",children:E.jsx(gN,{size:14})})]}),pi&&E.jsx("button",{onClick:O,disabled:Ee,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-slate-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Refresh",children:E.jsx(uN,{size:14,className:Ee?"animate-spin":""})}),Ii&&E.jsxs("div",{className:"hidden md:flex items-center gap-0.5 scale-90 origin-left",children:[E.jsx("button",{onClick:()=>U("bangla"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${p.bangla?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"BN"}),E.jsx("button",{onClick:()=>U("japanese"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${p.japanese?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"JP"})]}),Ii&&E.jsxs("div",{className:"md:hidden flex items-center gap-0.5",children:[E.jsx("button",{onClick:()=>U("bangla"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${p.bangla?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"BN"}),E.jsx("button",{onClick:()=>U("japanese"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${p.japanese?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"JP"})]}),l&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:H,className:"bg-white border px-2 py-1 rounded text-xs whitespace-nowrap",children:E.jsx(CN,{size:14})}),E.jsx("button",{onClick:B,className:"bg-green-600 text-white px-2 py-1 rounded text-xs whitespace-nowrap",children:E.jsx(Ib,{size:14})})]}),Dn&&E.jsxs("button",{onClick:()=>se(!K),className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-semibold transition-all shadow-sm ${K?"bg-indigo-600 text-white border border-indigo-600 shadow-indigo-200":"bg-white text-slate-600 border border-slate-200"}`,title:K?"Hide Chips":"Show Chips",children:[K?E.jsx(cu,{size:14}):E.jsx(Ab,{size:14}),E.jsx("span",{className:"hidden md:inline",children:"Chips"})]}),Yt&&E.jsx("button",{onClick:()=>Oe(!0),className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-slate-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Columns",children:E.jsx(mN,{size:14})}),E.jsxs("div",{className:"hidden md:flex items-center gap-2 ml-auto mr-2 text-[11px] bg-slate-100 px-3 py-1.5 rounded-full border border-slate-200",children:[E.jsx("div",{className:"font-bold text-slate-700 max-w-[200px] truncate",children:s==="root"?"My Drive":e.find(ke=>ke.id===s)?.name||"..."}),E.jsx("div",{className:"text-slate-300",children:"|"}),E.jsxs("div",{className:"text-slate-600 font-medium",children:["Showing ",E.jsx("span",{className:"text-slate-900 font-bold font-mono",children:Ke!==void 0?Ke:we.length})," / ",E.jsx("span",{className:"font-mono",children:Y!==void 0?Y:n.length})]})]})]})})]})},BN=({isOpen:s,onClose:e,allColumns:n,columnOrder:r,setColumnOrder:l,columnVisibility:u,setColumnVisibility:d})=>{if(!s)return null;const p=(y,T)=>{if(T<0||T>=r.length)return;const w=[...r],[D]=w.splice(y,1);w.splice(T,0,D),l(w)},g=y=>{d(T=>({...T,[y]:!T[y]}))};return E.jsx("div",{className:"fixed inset-0 z-[120] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden flex flex-col max-h-[80vh]",children:[E.jsxs("div",{className:"p-4 border-b bg-slate-50 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-slate-700",children:"Manage Columns"}),E.jsx("button",{onClick:e,children:E.jsx(xb,{size:20,className:"text-slate-400 hover:text-slate-600"})})]}),E.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-2",children:r.map((y,T)=>{const w=n.find(V=>V.id===y);if(!w)return null;const D=u[y]!==!1;return E.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg border ${D?"bg-white border-slate-200":"bg-slate-50 border-slate-100 opacity-60"}`,children:[E.jsx("input",{type:"checkbox",checked:D,onChange:()=>g(w.id),className:"rounded text-indigo-600 focus:ring-indigo-500",disabled:w.id==="selection"}),E.jsx("span",{className:"flex-1 text-sm font-bold text-slate-700",children:w.label||(w.icon?E.jsx(w.icon,{size:14}):"System")}),D&&E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>p(T,T-1),disabled:T===0||w.fixed||w.id==="selection"||w.id==="delete",className:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-indigo-600 disabled:opacity-20",children:E.jsx(UI,{size:16})}),E.jsx("button",{onClick:()=>p(T,T+1),disabled:T===r.length-1||w.fixed||w.id==="selection"||w.id==="delete",className:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-indigo-600 disabled:opacity-20",children:E.jsx(cu,{size:16})})]})]},w.id)})}),E.jsxs("div",{className:"p-4 border-t bg-slate-50 text-right",children:[E.jsx("button",{onClick:()=>{l(n.map(T=>T.id));const y={};n.forEach(T=>y[T.id]=!0),d(y)},className:"text-xs text-red-500 font-bold hover:underline mr-4",children:"Reset Default"}),E.jsx("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 text-sm",children:"Done"})]})]})})},qN=({isOpen:s,onClose:e,onImport:n})=>{const[r,l]=te.useState("input"),[u,d]=te.useState(""),[p,g]=te.useState([]),[y,T]=te.useState([]);if(!s)return null;const w=()=>{const B=u.trim().split(`
`).map(ie=>ie.split("	")).filter(ie=>ie.length>0&&ie.some(he=>he.trim()));if(B.length===0){alert("No data found");return}g(B);const H=Math.max(...B.map(ie=>ie.length));T(new Array(H).fill("skip")),l("mapping")},D=(U,B)=>{const H=[...y];B!=="skip"&&H.includes(B)&&(H[H.indexOf(B)]="skip"),H[U]=B,T(H)},V=()=>{const U=p.map(B=>{const H={};return y.forEach((ie,he)=>{ie!=="skip"&&(H[ie]=B[he])}),H});n(U),l("input"),d(""),g([])};return E.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r==="input"?"Step 1: Paste Data":"Step 2: Map Columns"}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:r==="input"?"Paste your vocabulary from Excel or Google Sheets.":"Assign column types. Hiragana is required."})]}),E.jsx("button",{onClick:e,children:E.jsx(xb,{className:"text-slate-400 hover:text-red-500",size:24})})]}),E.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:r==="input"?E.jsx("textarea",{autoFocus:!0,value:u,onChange:U=>d(U.target.value),placeholder:`Example:
			1	1
			1	1`,className:"w-full h-96 p-4 border border-slate-300 rounded-xl font-mono text-sm bg-slate-50 focus:ring-2 focus:ring-indigo-500 outline-none resize-none"}):E.jsx("div",{className:"space-y-6",children:E.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[E.jsx("thead",{children:E.jsx("tr",{children:y.map((U,B)=>E.jsxs("th",{className:"p-2 border-b border-r border-slate-200 bg-slate-50 min-w-[150px]",children:[E.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:["Column ",String.fromCharCode(65+B)]}),E.jsxs("select",{value:U,onChange:H=>D(B,H.target.value),className:`w-full p-2 rounded border text-sm font-bold ${U==="skip"?"text-slate-400 border-slate-200":"text-indigo-700 border-indigo-300 bg-indigo-50"}`,children:[E.jsx("option",{value:"skip",children:"Skip"}),E.jsx("option",{value:"japanese",children:"Hiragana (Req)"}),E.jsx("option",{value:"bangla",children:"Bangla"}),E.jsx("option",{value:"lesson",children:"Lesson No."}),E.jsx("option",{value:"cando",children:"Can-do No."})]})]},B))})}),E.jsx("tbody",{children:p.slice(0,5).map((U,B)=>E.jsx("tr",{className:"border-b border-slate-100 last:border-0",children:y.map((H,ie)=>E.jsx("td",{className:`p-3 border-r border-slate-100 ${y[ie]==="skip"?"text-slate-400 bg-slate-50":"text-slate-800"}`,children:U[ie]||E.jsx("span",{className:"italic text-slate-300",children:"empty"})},ie))},B))})]})})})}),E.jsx("div",{className:"p-6 border-t bg-slate-50 rounded-b-2xl flex justify-between items-center",children:E.jsxs("div",{className:"flex gap-3 ml-auto",children:[r==="mapping"&&E.jsx("button",{onClick:()=>l("input"),className:"px-4 py-2.5 text-slate-600 font-bold hover:bg-slate-200 rounded-lg transition-colors",children:"Back"}),r==="input"?E.jsxs("button",{onClick:w,disabled:!u.trim(),className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors shadow-sm flex items-center gap-2",children:["Next Step ",E.jsx(Ab,{size:16})]}):E.jsxs("button",{onClick:V,disabled:!y.includes("japanese"),className:"px-6 py-2.5 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:bg-slate-400 shadow-sm transition-colors flex items-center gap-2",children:[E.jsx(QI,{size:16})," Confirm Import"]})]})})]})})},HN=({user:s,isMobile:e})=>{const[n,r]=te.useState(!1),l=te.useRef(null);te.useEffect(()=>{const d=p=>{l.current&&!l.current.contains(p.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const u=async()=>{try{await I1(wr)}catch(d){console.error("Logout failed",d)}};return s?E.jsxs("div",{className:"relative p-4 mt-auto border-t border-slate-800",ref:l,children:[E.jsxs("button",{onClick:()=>r(!n),className:`flex items-center gap-3 w-full p-2 rounded-full hover:bg-slate-800 transition-colors ${n?"bg-slate-800":""}`,title:s.email,children:[E.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-slate-600 bg-slate-700 flex items-center justify-center shrink-0",children:s.photoURL?E.jsx("img",{src:s.photoURL,alt:"User",className:"w-full h-full object-cover"}):E.jsx("div",{className:"text-slate-300 font-bold text-sm",children:(s.displayName||s.email||"U").charAt(0).toUpperCase()})}),E.jsxs("div",{className:`flex-1 text-left overflow-hidden ${e?"block":"hidden lg:block"}`,children:[E.jsx("div",{className:"text-sm font-medium text-white truncate",children:s.displayName||"User"}),E.jsx("div",{className:"text-xs text-slate-400 truncate",children:s.email})]})]}),n&&E.jsxs("div",{className:"absolute bottom-full left-4 mb-2 w-48 bg-white rounded-lg shadow-xl overflow-hidden py-1 z-50 animate-in fade-in zoom-in-95 origin-bottom-left",style:{left:e?"16px":"64px",bottom:"16px"},children:[E.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:[E.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:s.displayName||"User"}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email})]}),E.jsxs("button",{onClick:u,className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 font-medium",children:[E.jsx(iN,{size:16}),"Sign out"]})]})]}):null},Lv=({folders:s,currentFolderId:e,handleFolderChange:n,isMobile:r=!1,user:l})=>E.jsxs("div",{className:`${r?"w-full":"w-16 lg:w-64"} bg-slate-900 border-r border-slate-800 flex flex-col h-full flex-shrink-0 transition-all`,children:[E.jsxs("div",{className:`p-4 h-16 border-b border-slate-800 flex items-center ${r?"justify-start":"justify-center lg:justify-start"} gap-3`,children:[E.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg text-white flex items-center justify-center font-bold text-lg shadow-lg flex-shrink-0",children:""}),E.jsxs("span",{className:`${r?"block":"hidden lg:block"} font-bold text-white text-lg`,children:["Irodori",E.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-1",children:[E.jsx("div",{className:`${r?"block":"hidden lg:block"} px-4 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2`,children:"My Workbooks"}),E.jsxs("button",{onClick:()=>n("root"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors ${e==="root"?"bg-slate-800 text-white border-r-2 border-indigo-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[E.jsx(Mv,{size:20,className:"flex-shrink-0"}),E.jsx("span",{className:`${r?"block":"hidden lg:block"}`,children:"All Books"})]}),s.filter(u=>u.parentId==="root").map(u=>E.jsx("div",{className:"group relative",children:E.jsxs("button",{onClick:()=>n(u.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors ${e===u.id?"bg-slate-800 text-white border-r-2 border-indigo-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[E.jsx(Mv,{size:20,className:`flex-shrink-0 ${e===u.id?"text-yellow-400 fill-yellow-400":""}`}),E.jsx("span",{className:`${r?"block":"hidden lg:block"}`,children:u.name})]})},u.id))]}),E.jsx(HN,{user:l,isMobile:r})]}),FN=({currentPage:s,totalPages:e,itemsPerPage:n,onPageChange:r,onItemsPerPageChange:l,totalItems:u})=>{const d=[50,100,150,250,500,1e3],p=te.useMemo(()=>{const g=[];if(e<=7)for(let y=1;y<=e;y++)g.push(y);else if(s<=4){for(let y=1;y<=5;y++)g.push(y);g.push("..."),g.push(e)}else if(s>=e-3){g.push(1),g.push("...");for(let y=e-4;y<=e;y++)g.push(y)}else g.push(1),g.push("..."),g.push(s-1),g.push(s),g.push(s+1),g.push("..."),g.push(e);return g},[s,e]);return E.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-between gap-2 py-2 px-3 bg-white border-t border-slate-100 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.02)] z-20 text-xs",children:[E.jsxs("div",{className:"flex items-center gap-2 group order-1",children:[E.jsx("label",{htmlFor:"rows-per-page",className:"hidden sm:block text-[10px] font-bold uppercase tracking-wider text-slate-400 group-hover:text-slate-600 transition-colors",children:"Rows"}),E.jsxs("div",{className:"relative",children:[E.jsx("select",{id:"rows-per-page",value:n,onChange:g=>l(Number(g.target.value)),className:"appearance-none bg-slate-50 border border-slate-200 text-slate-700 text-xs font-bold rounded pl-2 pr-6 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 hover:border-slate-300 transition-all cursor-pointer shadow-sm",children:d.map(g=>E.jsx("option",{value:g,children:g},g))}),E.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-slate-500",children:E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),E.jsxs("div",{className:"flex items-center gap-1 order-2",children:[E.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[E.jsx(Qc,{onClick:()=>r(1),disabled:s===1,title:"First Page",children:E.jsx(BI,{size:14})}),E.jsx(Qc,{onClick:()=>r(s-1),disabled:s===1,title:"Previous Page",children:E.jsx(VI,{size:14})})]}),E.jsx("div",{className:"flex items-center gap-1",children:p.map((g,y)=>E.jsx(Qi.Fragment,{children:g==="..."?E.jsx("span",{className:"text-slate-400 px-0.5 select-none font-medium",children:"..."}):E.jsx("button",{onClick:()=>r(g),className:`
                    min-w-[28px] h-7 px-1.5 rounded text-xs font-bold transition-all duration-200 border
                    ${s===g?"bg-indigo-600 text-white border-indigo-600 shadow-sm shadow-indigo-200":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:text-indigo-600 hover:border-indigo-200"}
                  `,children:g})},y))}),E.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[E.jsx(Qc,{onClick:()=>r(s+1),disabled:s===e,title:"Next Page",children:E.jsx(PI,{size:14})}),E.jsx(Qc,{onClick:()=>r(e),disabled:s===e,title:"Last Page",children:E.jsx(HI,{size:14})})]})]})]})},Qc=({onClick:s,disabled:e,title:n,children:r})=>E.jsx("button",{onClick:s,disabled:e,title:n,className:`
      p-1.5 rounded transition-all duration-200 flex items-center justify-center border
      ${e?"text-slate-300 bg-slate-50 border-transparent cursor-not-allowed":"text-slate-500 bg-white border-slate-200 hover:text-indigo-600 hover:bg-indigo-50 hover:border-indigo-100 active:scale-95"}
    `,children:r}),km={YIELD_TO_UI:!1,PRELOAD_VOICE:!0,FORCE_RELOAD_ON_EVERY_CLICK:!1,FALLBACK_TIMEOUT_MS:50};window._speechUtteranceHolder=null;window.androidAudioFinished=()=>{window._currentAndroidCallback&&(window._currentAndroidCallback(),window._currentAndroidCallback=null)};const qi=()=>{window.Android&&window.Android.stop?(window.Android.stop(),window._currentAndroidCallback=null):window.AndroidNative&&window.AndroidNative.stop&&(window.AndroidNative.stop(),window._currentAndroidCallback=null),window.speechSynthesis&&window.speechSynthesis.cancel(),window._speechUtteranceHolder=null};let Sr=null;const Ah=()=>{if(!Sr)try{const s=window.speechSynthesis.getVoices();Sr=s.find(e=>e.lang==="ja-JP"&&/natural|google|premium|kyoko|otoya/i.test(e.name)),Sr||(Sr=s.find(e=>e.lang==="ja-JP"))}catch(s){console.warn("TTS Voice Load Error",s)}};window.speechSynthesis&&km.PRELOAD_VOICE&&setTimeout(()=>{Ah(),window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=Ah)},100);const Kc=(s,e)=>{GN(s,e)},GN=(s,e)=>{if(window.Android&&window.Android.speak){window._currentAndroidCallback=e,window.Android.speak(s);return}if(window.AndroidNative&&window.AndroidNative.speak){window._currentAndroidCallback=e,window.AndroidNative.speak(s);return}if(!window.speechSynthesis){e&&e();return}if(!s){e&&e();return}try{window.speechSynthesis.cancel()}catch(l){console.warn("TTS Cancel failed",l)}const n=(l=1)=>{try{const u=new SpeechSynthesisUtterance(s);u.lang="ja-JP",u.rate=1,(!Sr||km.FORCE_RELOAD_ON_EVERY_CLICK)&&Ah(),Sr&&(u.voice=Sr),window._speechUtteranceHolder=u,u.onstart=()=>{u._hasStarted=!0},u.onend=()=>{window._speechUtteranceHolder=null,e&&e()},u.onerror=d=>{console.error(`TTS Error (Attempt ${l})`,d),window._speechUtteranceHolder=null,!u._hasStarted&&l<=2?(console.log("Retrying TTS..."),setTimeout(()=>n(l+1),50)):e&&e()},window.speechSynthesis.speak(u)}catch(u){console.error("TTS Speak Error",u),l<=2?setTimeout(()=>n(l+1),50):e&&e()}},r=window.speechSynthesis.getVoices();if(Sr||r.length>0)n();else{const l=()=>{Ah(),n(),window.speechSynthesis.removeEventListener("voiceschanged",l)};window.speechSynthesis.addEventListener("voiceschanged",l),setTimeout(()=>{window._speechUtteranceHolder===null&&n()},km.FALLBACK_TIMEOUT_MS)}},QN=(s,e,n)=>{const[r,l]=te.useState([]),[u,d]=te.useState(-1),[p,g]=te.useState(!1),[y,T]=te.useState(0),[w,D]=te.useState(null),[V,U]=te.useState(!1),[B,H]=te.useState({speed:1,repeatMode:"1x",includeBangla:!1}),[ie,he]=te.useState(!1),pe=w?"single":r.length>0?"playlist":"idle",Oe=p||V,Ee=te.useCallback(()=>{qi(),g(!1),U(!1),D(null),l([]),d(-1),T(0),he(!1)},[]),we=te.useCallback(()=>{w?V?(qi(),U(!1)):(U(!0),Kc(w.japanese,()=>{D(null),U(!1)})):r.length>0&&(p?(qi(),g(!1)):g(!0))},[w,V,r.length,p]),R=te.useCallback(()=>{if(p){if(y<(B.repeatPerItem||1)-1){qi(),setTimeout(()=>T(A=>A+1),500);return}u<r.length-1?(qi(),setTimeout(()=>{T(0),d(A=>A+1)},800)):B.playlistLoop?(qi(),setTimeout(()=>{T(0),d(0)},800)):(qi(),g(!1),T(0),d(0),n("Playback Finished"))}},[p,y,B,u,r.length,n]),x=()=>{const A=r[u],Le=s.find(Ke=>Ke.localId===A)||s.find(Ke=>Ke.id===A);if(!Le){R();return}Kc(Le.japanese,()=>{R()})};te.useEffect(()=>{p&&!w&&u>=0&&u<r.length&&x()},[p,u,r,y,w]),te.useEffect(()=>{const A=()=>{w?(D(null),U(!1)):p&&R()};return window.addEventListener("android-audio-ended",A),()=>window.removeEventListener("android-audio-ended",A)},[w,p,R]);const C=(A=0)=>{qi(),U(!1),D(null),l(e.map(Le=>Le.localId)),d(A),g(!0),he(!1)},M=te.useCallback(A=>{if(w&&w.localId===A.localId&&V){qi(),U(!1);return}if(w&&w.localId===A.localId&&!V){U(!0),Kc(A.japanese,()=>{D(null),U(!1)});return}qi(),g(!1),D(A),U(!0),Kc(A.japanese,()=>{D(null),U(!1)})},[w,V]),O=()=>{u>0&&d(A=>A-1)},j=()=>{u<r.length-1&&d(A=>A+1)};return{playbackMode:pe,isPlaying:Oe,playbackQueue:w?[w.localId]:r,currentIndex:w?0:u,audioConfig:B,isAudioBarManuallyHidden:ie,setAudioConfig:H,setIsAudioBarManuallyHidden:he,togglePlayPause:we,stopPlaylist:Ee,startPlaylist:C,handlePlaySingle:M,onPrevTrack:O,onNextTrack:j}},KN=(s=[],e,n,r,l,u,d,p)=>{const g=d?p:s,y=Array.isArray(g)?g:[],T=te.useMemo(()=>{let V=[...y];if(e!=="root"&&(V=V.filter(U=>U.folderId===e)),n){const U=n.toLowerCase();V=V.filter(B=>B.japanese.includes(U)||B.bangla.includes(U))}if(Array.isArray(r.lesson)&&r.lesson.length>0){const U=r.lesson.map(String);V=V.filter(B=>U.includes(String(B.lesson)))}else r.lesson!=="all"&&!Array.isArray(r.lesson)&&(V=V.filter(U=>String(U.lesson)===String(r.lesson)));if(Array.isArray(r.cando)&&r.cando.length>0){const U=r.cando.map(String);V=V.filter(B=>U.includes(String(B.cando)))}else r.cando!=="all"&&!Array.isArray(r.cando)&&(V=V.filter(U=>String(U.cando)===String(r.cando)));if(u==="problem"?V=V.filter(U=>U.isMarked):u==="weak"&&(V=V.filter(U=>U.isMarked)),l.key==="random"){let U=l.seed||0;const B=()=>{const H=Math.sin(U++)*1e4;return H-Math.floor(H)};for(let H=V.length-1;H>0;H--){const ie=Math.floor(B()*(H+1));[V[H],V[ie]]=[V[ie],V[H]]}}else l.key&&V.sort((U,B)=>{let H=U[l.key],ie=B[l.key];return typeof H=="string"&&(H=H.toLowerCase()),typeof ie=="string"&&(ie=ie.toLowerCase()),(H<ie?-1:1)*(l.direction==="asc"?1:-1)});return V},[y,e,n,r,l,u]),w=te.useMemo(()=>{if(!s||!Array.isArray(s))return[];const V=new Date;return Array.from({length:7},(U,B)=>{const H=new Date(V);return H.setDate(V.getDate()-(6-B)),{date:H.toISOString().split("T")[0],score:0,hasActivity:!1}})},[s]),D=te.useMemo(()=>{if(!s||!Array.isArray(s))return null;const V=s.filter(B=>B.isMarked);if(V.length===0)return null;const U={};return V.forEach(B=>{const H=`${B.lesson}-${B.cando}`;U[H]||(U[H]={count:0,lesson:B.lesson,cando:B.cando}),U[H].count++}),Object.values(U).sort((B,H)=>H.count-B.count)[0]||null},[s]);return{filteredAndSortedData:T,trendData:w,weaknessSuggestion:D,safeDataList:y}},YN=(s,e,n)=>te.useMemo(()=>{let r=0;return n==="root"?r=s.length:r=s.filter(u=>u.folderId===n).length,{showingCount:e.length,totalCount:r}},[s,e,n]),Kh=()=>wh,Yh=()=>wr.currentUser?wr.currentUser.uid:null,XN=async()=>{const s=Kh();if(!s)return null;const e=Yh();if(!e)return console.warn("[Firestore] No user ID available. Skipping load."),null;try{console.log(`[Firestore] Fetching config for ${e}`);const n=Uo(s,"users",e,"preferences","config"),r=await xp(n);return r.exists()?r.data():null}catch(n){return console.error("[Firestore] Failed to load config",n),null}},$N=async s=>{const e=Kh();if(!e)return;const n=Yh();if(!n){console.warn("[Firestore] No user ID available. Skipping save.");return}try{console.log(`[Firestore] Saving config for ${n}`,s);const r=Uo(e,"users",n,"preferences","config");await Io(r,s,{merge:!0})}catch(r){console.error("[Firestore] Failed to save config",r)}},Hi={itemsPerPage:"itemsPerPage",columnOrder:"columnOrder",columnVisibility:"columnVisibility",columnWidths:"columnWidths"},ql={itemsPerPage:500,columnOrder:[],columnVisibility:{},columnWidths:{}};class JN{constructor(){this._isHydrated=!1,this._listeners=new Set,this._backgroundSync()}loadPreferences(){return{itemsPerPage:this._get(Hi.itemsPerPage,ql.itemsPerPage),columnOrder:this._get(Hi.columnOrder,ql.columnOrder),columnVisibility:this._get(Hi.columnVisibility,ql.columnVisibility),columnWidths:this._get(Hi.columnWidths,ql.columnWidths)}}subscribe(e){return this._listeners.add(e),()=>this._listeners.delete(e)}_notifyListeners(){const e=this.loadPreferences();this._listeners.forEach(n=>n(e))}savePreferences(e){if(Object.keys(e).forEach(n=>{Hi[n]?this._set(Hi[n],e[n]):console.warn(`PreferenceStore: Unknown preference key '${n}'`)}),this._isHydrated){const n={};Object.keys(e).forEach(r=>{Hi[r]&&(n[r]=e[r])}),Object.keys(n).length>0&&$N(n)}else console.log("[PreferenceStore] Skipping Firestore save (not hydrated).",e)}async _backgroundSync(){const e=await XN();if(e){console.log("[PreferenceStore] Synced config from Firestore",e);let n=!1;Object.keys(Hi).forEach(r=>{if(e[r]!==void 0){const l=this._get(Hi[r],ql[r]);JSON.stringify(l)!==JSON.stringify(e[r])&&(this._set(Hi[r],e[r]),n=!0)}}),n&&this._notifyListeners()}this._isHydrated=!0,console.log("[PreferenceStore] Hydration complete. Firestore writes enabled.")}_get(e,n){try{const r=localStorage.getItem(e);return r===null?n:JSON.parse(r)}catch(r){return console.warn(`PreferenceStore: Failed to load '${e}'`,r),n}}_set(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn(`PreferenceStore: Failed to save '${e}'`,r)}}}const ws=new JN,WN=async()=>{const s=Kh();if(!s)return{};const e=Yh();if(!e)return console.warn("[Firestore] No user ID available for progress fetch."),{};try{console.log(`[Firestore] Fetching learning progress for ${e}`);const n=oI(s,"users",e,"progress"),r=await wI(n),l={};return r.empty?(console.log("[Firestore] No progress data found."),{}):(r.forEach(u=>{l[u.id]=u.data()}),console.log(`[Firestore] Loaded ${Object.keys(l).length} progress items.`),l)}catch(n){return console.error("[Firestore] Failed to fetch progress",n),{}}},ZN=async(s,e)=>{const n=Kh();if(!n)return;const r=Yh();if(!r){console.warn("[Firestore] No user ID available. Skipping save.");return}try{console.log(`[Firestore] Updating progress for ${s}`,e);const l=Uo(n,"users",r,"progress",s);await Io(l,{...e,updatedAt:new Date().toISOString()},{merge:!0})}catch(l){throw console.error("[Firestore] Failed to update progress",l),l}},Yc={mobileTableZoom:.7,desktopTableZoom:1,defaultDesktopColumnOrder:["selection","audio","japanese","bangla","isMarked"],defaultMobileColumnOrder:["selection","audio","japanese","bangla","isMarked"]};function e4({vocabList:s,setVocabList:e,folders:n,setFolders:r,currentFolderId:l,setCurrentFolderId:u,isLoading:d,setIsLoading:p,isSyncing:g,setIsSyncing:y,apiService:T,fetchSheetData:w,user:D}){const[V,U]=te.useState(!1),[B,H]=te.useState([]),[ie,he]=te.useState(!1),[pe,Oe]=te.useState({japanese:!1,bangla:!1}),[Ee,we]=te.useState({japanese:null,bangla:null}),R=te.useRef(0),[x,C]=te.useState(()=>{const W=ws.loadPreferences().columnOrder;return W&&W.length>0?W:window.innerWidth<=768?Yc.defaultMobileColumnOrder||[]:Yc.defaultDesktopColumnOrder||[]}),[M,O]=te.useState(()=>ws.loadPreferences().columnVisibility),[j,A]=te.useState(()=>ws.loadPreferences().columnWidths),[Le,Ke]=te.useState(!1),[Y,K]=te.useState(!1);te.useEffect(()=>{ws.savePreferences({columnWidths:j})},[j]);const se=te.useMemo(()=>{let W=[];if(s&&s.length>0){const ae=s[0];W=Object.keys(ae).filter(Ie=>!DN.has(Ie)).filter(Ie=>Ie!=="japanese"||!ae._isSyntheticJapanese).map(Ie=>({id:Ie,label:Ie,width:"min-w-[140px]",type:"text",sortable:!0}))}return[MN,...W,...ON]},[s]);te.useEffect(()=>{C(W=>{const ae=W||[],oe=new Set(ae),Ie=se.filter(Je=>!oe.has(Je.id)).map(Je=>Je.id);return[...ae,...Ie]})},[se]),te.useEffect(()=>{ws.savePreferences({columnOrder:x})},[x]),te.useEffect(()=>{ws.savePreferences({columnVisibility:M})},[M]);const[fe,Ce]=te.useState({key:null,direction:"asc"}),[I,X]=te.useState({lesson:[],cando:[]}),[re,le]=te.useState(""),[ce,_e]=te.useState("all"),[ve,Be]=te.useState(new Set),[it,Nn]=te.useState([]),[Kn,Dn]=te.useState(0),[pi,Yt]=te.useState(!1),[Ii,On]=te.useState(!1),[Mn,ke]=te.useState({open:!1,type:null,targetId:null,targetName:""}),[Me,Ye]=te.useState(!1),[zt,Yn]=te.useState({open:!1,pendingAction:null}),[Ls,Gt]=te.useState(null),Dt=te.useCallback((W,ae="success")=>Gt({message:W,type:ae}),[]),{filteredAndSortedData:hn,trendData:Ur,weaknessSuggestion:Ni,safeDataList:Qo}=KN(s,l,re,I,fe,ce,V,B),{showingCount:zr,totalCount:Br}=YN(s,hn,l),[es,fn]=te.useState(1),[ot,dn]=te.useState(()=>ws.loadPreferences().itemsPerPage);te.useEffect(()=>{ws.savePreferences({itemsPerPage:ot})},[ot]),te.useEffect(()=>{const W=ws.subscribe(ae=>{ae.itemsPerPage!==ot&&dn(ae.itemsPerPage),JSON.stringify(ae.columnOrder)!==JSON.stringify(x)&&C(ae.columnOrder),JSON.stringify(ae.columnVisibility)!==JSON.stringify(M)&&O(ae.columnVisibility),JSON.stringify(ae.columnWidths)!==JSON.stringify(j)&&A(ae.columnWidths)});return()=>W()},[ot,x,M,j]),te.useEffect(()=>{fn(1)},[l,re,I,ce,fe]);const vt=te.useMemo(()=>{const W=(es-1)*ot;return hn.slice(W,W+ot)},[hn,es,ot]),Ra=Math.ceil(hn.length/ot),{playbackMode:gi,isPlaying:Us,playbackQueue:mn,currentIndex:Di,audioConfig:wt,isAudioBarManuallyHidden:kn,setAudioConfig:En,setIsAudioBarManuallyHidden:bn,togglePlayPause:Ia,startPlaylist:Na,handlePlaySingle:Xn,onPrevTrack:ts,onNextTrack:Ko}=QN(s,hn,Dt),ns=te.useMemo(()=>l==="root"?s:s.filter(W=>W.folderId===l),[s,l]),Vn=W=>{V&&ie?Yn({open:!0,pendingAction:W}):(V&&U(!1),W())},is=W=>Vn(()=>u(W)),ss=W=>Vn(()=>X(W)),yi=(W="standard")=>{let ae=hn;if(W==="smart"&&(ae=ae.filter(oe=>oe.isMarked)),ae.length===0&&(ae=hn.slice(0,10)),ae.length===0){Dt("No words to practice!","error");return}Nn([...ae].sort(()=>Math.random()-.5)),Dn(0),Yt(!0)},Da=()=>Vn(()=>yi()),jn=()=>Vn(()=>Na(0)),Pn=W=>Vn(()=>_e(ce===W?"all":W)),St=W=>Vn(()=>X({lesson:W.lesson,cando:W.cando})),Ot=async()=>{if(V&&ie){Dt("Save or discard changes before refreshing","warning");return}y(!0);try{await w(!0),Dt("Data refreshed from Sheet","success")}catch(W){console.error(W),Dt("Refresh failed","error")}finally{y(!1)}},$n=()=>Vn(()=>{const W=s.filter(Ie=>Ie.isMarked),ae=Ie=>[...Ie].sort(()=>Math.random()-.5);let oe=[...ae(W).slice(0,15),...ae(s.filter(Ie=>!Ie.isMarked)).slice(0,5)];oe.length===0&&(oe=ae(s).slice(0,20)),Nn(oe),Dn(0),Yt(!0)}),zs=()=>{H(JSON.parse(JSON.stringify(s))),he(!1),U(!0),Ye(!1),Dt("Edit Mode Started","warning")},Oa=async()=>{if(g)return;const W=[],ae=[];if(B.forEach(oe=>{if(!oe.id)ae.push(oe);else{const Ie=s.find(Je=>Je.id===oe.id);Ie&&JSON.stringify(Vv(Ie,oe))&&W.push({id:oe.id,...Vv(Ie,oe)})}}),W.length===0&&ae.length===0){he(!1);return}y(!0),e(JSON.parse(JSON.stringify(B))),he(!1);try{ae.length&&await T.sendAdd(ae),W.length&&await T.sendUpdate(W),Dt("Saved!","success"),U(!1),await w()}catch(oe){console.error(oe),Dt("Save failed","error"),he(!0)}finally{y(!1)}},Ma=()=>{H([]),he(!1),U(!1)},ka=()=>{Oa(),Yn({open:!1,pendingAction:null}),zt.pendingAction?.()},Jn=()=>{he(!1),U(!1),Yn({open:!1,pendingAction:null}),zt.pendingAction?.()},Bs=()=>Yn({open:!1,pendingAction:null});te.useEffect(()=>{we({japanese:null,bangla:null})},[l,I,re,fe,ce]);const Wn=W=>{Oe(ae=>({...ae,[W]:!ae[W]})),we(ae=>({...ae,[W]:null}))},Tn=te.useCallback((W,ae)=>we(oe=>({...oe,[ae]:W})),[]),pn=te.useCallback((W,ae,oe)=>{V&&(H(Ie=>Ie.map(Je=>Je.localId===W?{...Je,[ae]:oe}:Je)),he(!0))},[V]),Ln=te.useCallback(async W=>{if(V)H(ae=>ae.map(oe=>oe.localId===W?{...oe,isMarked:!oe.isMarked}:oe)),he(!0);else{const ae=s.find(Ie=>Ie.localId===W);if(!ae||!ae.id)return;const oe=!ae.isMarked;e(Ie=>Ie.map(Je=>Je.localId===W?{...Je,isMarked:oe}:Je)),R.current===0&&y(!0),R.current+=1;try{await ZN(ae.id,{isMarked:oe})}catch(Ie){console.error(Ie),e(Je=>Je.map(gn=>gn.localId===W?{...gn,isMarked:!oe}:gn)),Dt("Failed to update mark","error")}finally{R.current-=1,R.current===0&&y(!1)}}},[V,s,T,e,Dt]),Et=async()=>{Yt(!1)},qs=te.useCallback((W,ae,oe)=>{!V&&W!=="folder"||ke({open:!0,type:W,targetId:ae,targetName:oe})},[V]),qr=async()=>{V&&(Mn.type==="single"?H(W=>W.filter(ae=>ae.localId!==Mn.targetId)):(H(W=>W.filter(ae=>!ve.has(ae.localId))),Be(new Set)),he(!0)),ke({open:!1,type:null,targetId:null,targetName:""})},Zn=te.useCallback(W=>{Be(ae=>{const oe=new Set(ae);return oe.has(W)?oe.delete(W):oe.add(W),oe})},[]),ei=W=>Ce({key:W,direction:fe.key===W&&fe.direction==="asc"?"desc":"asc"}),Hs=()=>Ce({key:"random",seed:Date.now()}),Hr=(W,ae)=>{W.dataTransfer.setData("text/plain",ae),W.dataTransfer.effectAllowed="move"},Fr=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},Va=(W,ae)=>{W.preventDefault();const oe=W.dataTransfer.getData("text/plain");if(oe===ae)return;const Ie=x.indexOf(oe),Je=x.indexOf(ae);if(Ie<0||Je<0)return;const gn=[...x],[rn]=gn.splice(Ie,1);gn.splice(Je,0,rn),C(gn)},Fs=async W=>{const ae=W.map(oe=>({...oe,id:null,localId:`imported_${Date.now()}_${Math.random()}`,folderId:l==="root"?"Uncategorized":l,book:n.find(Ie=>Ie.id===l)?.name||"Uncategorized",isMarked:!1,lesson:oe.lesson||"1",cando:oe.cando||"1",japanese:oe.japanese||"",bangla:oe.bangla||""}));if(V)H(oe=>[...oe,...ae]),he(!0);else{y(!0);try{await T.sendAdd(ae),Dt("Imported successfully","success"),await w()}catch{Dt("Import failed","error")}finally{y(!1)}}On(!1)},sn=W=>{Kn<it.length-1?Dn(ae=>ae+1):Et()};if(d)return E.jsxs("div",{className:"h-screen flex items-center justify-center font-bold text-slate-500",children:[E.jsx(Cb,{className:"animate-spin mr-2"})," Loading..."]});if(pi)return E.jsx("div",{className:"p-4 bg-slate-100 h-screen flex flex-col items-center justify-center",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl text-center",children:[E.jsx("h2",{className:"text-4xl font-bold mb-4",children:it[Kn]?.japanese}),E.jsxs("div",{className:"flex gap-4 mt-8",children:[E.jsx("button",{onClick:()=>sn(),className:"px-6 py-3 bg-red-100 text-red-600 rounded-lg font-bold",children:"Hard"}),E.jsx("button",{onClick:()=>sn(),className:"px-6 py-3 bg-green-100 text-green-600 rounded-lg font-bold",children:"Easy"})]}),E.jsx("button",{onClick:()=>Et(),className:"mt-8 text-slate-400 underline text-sm",children:"Save & Exit"})]})});const bt=gi==="playlist"&&mn.length>0&&!kn,Mt=gi==="playlist"&&mn.length>0&&kn;return E.jsxs("div",{className:"flex h-screen w-full bg-slate-100 font-sans text-slate-800 overflow-hidden",children:[Ls&&E.jsx(VN,{message:Ls.message,type:Ls.type,onClose:()=>Gt(null)}),E.jsx("div",{className:"hidden md:flex h-full flex-shrink-0",children:E.jsx(Lv,{folders:n,currentFolderId:l,handleFolderChange:is,user:D})}),Y&&E.jsxs("div",{className:"fixed inset-0 z-[100] md:hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>K(!1)}),E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-slate-900 shadow-2xl animate-in slide-in-from-left duration-200",children:E.jsx(Lv,{folders:n,currentFolderId:l,handleFolderChange:W=>{is(W),K(!1)},isMobile:!0,user:D})})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-slate-50",children:[E.jsxs("div",{className:"md:hidden bg-slate-900 text-white px-3 py-1.5 flex items-center justify-between shadow-md z-20 h-11 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-7 h-7 bg-indigo-600 rounded flex-shrink-0 flex items-center justify-center font-bold text-base shadow-lg",children:""}),E.jsxs("span",{className:"font-bold text-base tracking-tight leading-none",children:["Irodori",E.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("div",{className:"text-[10px] text-slate-300 font-mono text-right leading-none flex flex-col gap-0.5",children:[E.jsx("div",{className:"font-bold text-white max-w-[100px] truncate",children:l==="root"?"My Drive":n.find(W=>W.id===l)?.name||"..."}),E.jsxs("div",{className:"opacity-80",children:[zr," / ",Br]})]}),E.jsx("button",{onClick:()=>K(!0),className:"md:hidden p-1 -mr-1",children:E.jsxs("div",{className:"space-y-[3px]",children:[E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"}),E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"}),E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"})]})})]})]}),E.jsx(zN,{currentFolderId:l,folders:n,vocabList:ns,selectedIds:ve,isEditMode:V,hasUnsavedChanges:ie,filters:I,hiddenColumns:pe,viewMode:ce,onFolderChange:is,onDeleteRequest:qs,onEditModeToggle:()=>Ye(!0),onFilterChange:ss,onViewModeChange:Pn,onVisibilityToggle:Wn,onSave:Oa,onDiscard:Ma,onPracticeStart:Da,onPlaylistStart:jn,onImportOpen:()=>On(!0),setIsColumnManagerOpen:Ke,isSyncing:g,filteredData:hn,onStartSmartPractice:$n,trendData:Ur,suggestion:Ni,onApplySuggestion:St,onRefresh:Ot,onShuffle:Hs,isPlaying:Us,onTogglePlay:Ia,showingCount:zr,totalCount:Br}),E.jsx("div",{className:"flex-1 overflow-auto transition-all duration-300 mobile-zoom-table",style:{paddingBottom:bt?"96px":"0px","--mobile-zoom":Yc.mobileTableZoom,"--desktop-zoom":Yc.desktopTableZoom},children:E.jsxs("table",{className:"w-full border-collapse bg-white text-sm table-fixed",children:[E.jsx("colgroup",{children:x.map(W=>{const ae=se.find(Ie=>Ie.id===W);if(!ae||ae.editOnly&&!V||M[W]===!1)return null;let oe=j[W];if(!oe){const Ie={"w-10":40,"w-12":48,"w-16":64,"w-20":80,"w-24":96,"w-32":128,"w-40":160,"w-48":192,"w-64":256},Je=ae.width&&typeof ae.width=="string"&&ae.width.match(/w-(\d+)/);Ie[ae.width]?oe=Ie[ae.width]:Je?oe=parseInt(Je[1])*4:oe=160}return E.jsx("col",{id:`col-${W}`,style:{width:oe}},W)})}),E.jsx("thead",{className:"sticky top-0 z-10 shadow-sm",children:E.jsx("tr",{children:x.map(W=>{const ae=se.find(oe=>oe.id===W);return(!ae?.editOnly||V)&&E.jsx(LN,{colId:W,def:ae,isEditMode:V,sortConfig:fe,onSort:ei,columnVisibility:M,onDragStart:Hr,onDragOver:Fr,onDrop:Va,onShuffle:Hs,columnWidths:j,setColumnWidths:A},W)})})}),E.jsx("tbody",{children:vt.map((W,ae)=>E.jsx(jN,{item:W,index:(es-1)*ot+ae,columnOrder:x,columnDefs:se,columnVisibility:M,columnWidths:j,selectedIds:ve,playbackMode:gi,isPlaying:Us,playbackQueue:mn,currentIndex:Di,hiddenColumns:pe,revealedCells:Ee,isEditMode:V,onToggleSelection:Zn,onUpdateCell:pn,onRevealCell:Tn,onPlaySingle:Xn,onMark:Ln,onDeleteRequest:qs},W.localId))})]})}),E.jsx(FN,{currentPage:es,totalPages:Ra,itemsPerPage:ot,onPageChange:fn,onItemsPerPageChange:W=>{dn(W),fn(1)},totalItems:hn.length}),bt&&E.jsx(PN,{playbackMode:gi,playbackQueue:mn,currentIndex:Di,vocabList:Qo,isPlaying:Us,audioConfig:wt,onPrevTrack:ts,onNextTrack:Ko,onTogglePlayPause:Ia,onCycleRepeat:W=>En(ae=>({...ae,repeatPerItem:W,repeatMode:`${W}x`})),onCycleSpeed:()=>En(W=>({...W,speed:W.speed===1?1.5:1})),onToggleBangla:()=>En(W=>({...W,includeBangla:!W.includeBangla})),onHide:()=>bn(!0),onToggleMark:Ln}),Mt&&E.jsx("button",{onClick:()=>bn(!1),className:"fixed bottom-6 right-6 p-3 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 hover:scale-105 transition-all z-50 animate-bounce",title:"Show Player",children:E.jsx(IN,{size:24})})]}),Mn.open&&E.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:[E.jsxs("div",{className:"bg-red-50 p-6 flex flex-col items-center text-center",children:[E.jsx(Sh,{className:"text-red-600 mb-4",size:24}),E.jsx("h3",{className:"text-xl font-bold",children:"Delete?"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Delete ",Mn.targetName,"?"]})]}),E.jsxs("div",{className:"p-4 bg-white flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>ke({...Mn,open:!1}),className:"flex-1 px-4 py-2.5 font-bold text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),E.jsx("button",{onClick:qr,className:"flex-1 px-4 py-2.5 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700",children:"Delete"})]})]})}),Me&&E.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:[E.jsxs("div",{className:"bg-amber-50 p-6 flex flex-col items-center text-center",children:[E.jsx(aN,{className:"text-amber-600 mb-4",size:24}),E.jsx("h3",{className:"text-xl font-bold",children:"Enable Editing?"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["You are entering Edit Mode.",E.jsx("br",{}),"Changes are temporary until you click Save."]})]}),E.jsxs("div",{className:"p-4 bg-white flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>Ye(!1),className:"flex-1 px-4 py-2.5 font-bold text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),E.jsx("button",{onClick:zs,className:"flex-1 px-4 py-2.5 bg-amber-500 text-white font-bold rounded-lg hover:bg-amber-600",children:"Start Editing"})]})]})}),zt.open&&E.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/70 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[E.jsxs("div",{className:"bg-amber-50 p-6 flex flex-col items-center text-center border-b border-amber-100",children:[E.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4",children:E.jsx(Sh,{className:"text-amber-600",size:24})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Unsaved Changes"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["You have unsaved edits in this session.",E.jsx("br",{}),"What would you like to do?"]})]}),E.jsxs("div",{className:"p-4 bg-white flex flex-col gap-2",children:[E.jsxs("button",{onClick:ka,className:"w-full px-4 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[E.jsx(Ib,{size:16})," Save & Continue"]}),E.jsxs("button",{onClick:Jn,className:"w-full px-4 py-3 bg-white border-2 border-red-100 text-red-600 font-bold rounded-lg hover:bg-red-50 flex items-center justify-center gap-2",children:[E.jsx(SN,{size:16})," Discard Changes"]}),E.jsx("button",{onClick:Bs,className:"w-full px-4 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-lg",children:"Cancel (Stay Here)"})]})]})}),E.jsx(BN,{isOpen:Le,onClose:()=>Ke(!1),allColumns:se,columnOrder:x,setColumnOrder:C,columnVisibility:M,setColumnVisibility:O}),E.jsx(qN,{isOpen:Ii,onClose:()=>On(!1),onImport:Fs})]})}const t4=(s,e)=>{if(!s||!e)return null;const n=s.split(".").map(Number),r=e.split(".").map(Number);for(let l=0;l<Math.max(n.length,r.length);l++){const u=n[l]||0,d=r[l]||0;if(u>d)return 1;if(u<d)return-1}return 0},n4=()=>{const[s,e]=te.useState(!1),[n,r]=te.useState({force:!1,message:"",storeUrl:"",version:""});return te.useEffect(()=>{(async()=>{try{const u="https://japanese-learning-app-fcb27.web.app/app-version.json",d=await fetch(`${u}?t=${Date.now()}`,{cache:"no-store"});if(!d.ok)return;const p=await d.json();t4(p.version,"90.90.721")===1&&(e(!0),r(p))}catch{}})()},[]),{updateAvailable:s,...n}},i4=()=>{const{updateAvailable:s,force:e,message:n,version:r}=n4(),[l,u]=Qi.useState(!1);if(!s||l&&!e)return null;const d=()=>{window.location.reload()};return E.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-end sm:items-center justify-center p-4 pointer-events-none",children:[e&&E.jsx("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-md pointer-events-auto"}),!e&&E.jsx("div",{className:"absolute inset-0 bg-black/20 pointer-events-auto",onClick:()=>u(!0)}),E.jsxs("div",{className:`
                relative w-full max-w-md bg-white rounded-xl shadow-2xl overflow-hidden pointer-events-auto
                animate-in slide-in-from-bottom-4 duration-300
                ${e?"scale-105 ring-4 ring-red-500/20":"border border-slate-200"}
            `,children:[E.jsxs("div",{className:`${e?"bg-red-600":"bg-indigo-600"} px-6 py-4 flex items-center justify-between`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e?E.jsx(kv,{className:"text-white",size:20}):E.jsx(XI,{className:"text-white",size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold text-lg leading-none",children:e?"Critical Update Required":"Update Available"}),E.jsxs("p",{className:`${e?"text-red-100":"text-indigo-200"} text-xs mt-1`,children:["Version ",r]})]})]}),!e&&E.jsx("button",{onClick:()=>u(!0),className:"text-white/70 hover:text-white transition-colors p-1",children:E.jsx(Nb,{size:20})})]}),E.jsxs("div",{className:"p-6",children:[E.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed text-sm",children:n||"A new version of the application is available. Please update to continue ensuring the best experience."}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("button",{onClick:d,className:`w-full flex items-center justify-center gap-2 font-bold py-3.5 px-4 rounded-lg transition-all active:scale-95 text-sm
                                ${e?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-500/30":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-500/30"}`,children:e?"Update Now":"Reload to Update"}),!e&&E.jsx("button",{onClick:()=>u(!0),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-medium text-sm transition-colors",children:"Not now"})]}),e&&E.jsxs("div",{className:"flex items-start gap-2 mt-6 p-3 bg-red-50 rounded text-xs text-red-600 border border-red-100",children:[E.jsx(kv,{size:14,className:"min-w-[14px] mt-0.5"}),E.jsx("p",{children:"This update includes critical security or feature changes. You cannot continue using the app without updating."})]})]})]})]})},s4=async()=>{const s=new Gi;try{const n=(await B1(wr,s)).user,r=Uo(wh,"users",n.uid);return(await xp(r)).exists()||await Io(r,{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,createdAt:new Date,role:"user"}),n}catch(e){throw console.error("Google Login Error:",e),e}},om="https://script.google.com/macros/s/AKfycbwXyfE5aiGFaLh9MfX_4oxHLS9J_I6K8pyoHgUmJQZDmbqECS19Q8lGsOUxBFADWthh_Q/exec";function r4(){const[s,e]=te.useState(null),[n,r]=te.useState(!0),l=typeof window<"u"&&!!window.Android,[u,d]=te.useState([]),[p,g]=te.useState([]),[y,T]=te.useState("root"),[w,D]=te.useState(!0),[V,U]=te.useState(!1),[B,H]=te.useState(""),[ie,he]=te.useState(""),[pe,Oe]=te.useState(""),[Ee,we]=te.useState(!1),[R,x]=te.useState(!1),[C,M]=te.useState(""),[O,j]=te.useState(!1),A=async K=>{K.preventDefault(),M(""),j(!0);try{const{createUserWithEmailAndPassword:se,signInWithEmailAndPassword:fe,updateProfile:Ce}=await r_(async()=>{const{createUserWithEmailAndPassword:I,signInWithEmailAndPassword:X,updateProfile:re}=await Promise.resolve().then(()=>V_);return{createUserWithEmailAndPassword:I,signInWithEmailAndPassword:X,updateProfile:re}},void 0,import.meta.url);if(Ee){if(!pe.trim())throw new Error("First Name is required.");const I=await se(wr,B,ie);await Ce(I.user,{displayName:pe});const X=Uo(wh,"users",I.user.uid);await Io(X,{displayName:pe,email:B,uid:I.user.uid,provider:"password",deviceType:"android",createdAt:Bl(),lastLoginAt:Bl()},{merge:!0})}else await fe(wr,B,ie)}catch(se){console.error(se),M(se.message.replace("Firebase: ",""))}finally{j(!1)}},Le=async K=>{const se=Uo(wh,"users",K.uid),fe=await xp(se),Ce=!!window.Android,I={uid:K.uid,email:K.email,displayName:K.displayName,photoURL:K.photoURL,provider:"google",lastLoginAt:Bl(),deviceType:Ce?"android":"web",appVersion:"90.90.721"};if(fe.exists())try{await Io(se,I,{merge:!0}),console.log("User profile updated for",K.uid)}catch(X){console.error("Error updating user profile:",X)}else try{await Io(se,{...I,firstLoginAt:Bl(),createdAt:Bl()}),console.log("User profile created for",K.uid)}catch(X){console.error("Error creating user profile:",X)}};te.useEffect(()=>{const K=R1(wr,async se=>{se?(e(se),await Le(se),Y(!1)):(e(null),d([])),r(!1)});return()=>K()},[]);const Ke={sendAdd:async K=>{const se={action:"add",items:K.map(fe=>({hiragana:fe.japanese,bangla:fe.bangla,lesson:fe.lesson,cando:fe.cando,is_problem:fe.isMarked}))};await fetch(om,{method:"POST",body:JSON.stringify(se)})},sendUpdate:async K=>{await fetch(om,{method:"POST",body:JSON.stringify({action:"update",updates:K})})}},Y=async(K=!1)=>{!K&&u.length===0&&D(!0);try{const se=await fetch(om);if(!se.ok)throw new Error("Network response was not ok");const fe=await se.json();let Ce=[];if(typeof fe=="object"&&!Array.isArray(fe)&&!fe.data?Object.keys(fe).forEach(I=>{Array.isArray(fe[I])&&fe[I].forEach(X=>{Ce.push({...X,book:I})})}):Ce=Array.isArray(fe)?fe:fe.data||[],Ce.length>0){const I=Ce.map((ce,_e)=>kN(ce,_e)),re=[...new Set(I.map(ce=>ce.book))].filter(ce=>ce).map(ce=>({id:ce,name:ce,parentId:"root"}));g(re);const le=localStorage.getItem("vocabList");if(le)try{const ce=new Map(JSON.parse(le).map(_e=>[_e.localId,_e]));I.forEach(_e=>{const ve=ce.get(_e.localId);ve&&(_e.isMarked=ve.isMarked)})}catch(ce){console.error("Merge error",ce)}try{const ce=await WN();ce&&Object.keys(ce).length>0&&(I.forEach(_e=>{if(_e.id&&ce[_e.id]){const ve=ce[_e.id];ve.isMarked!==void 0&&(_e.isMarked=ve.isMarked)}}),console.log("[App] Merged Firestore progress into vocabList"))}catch(ce){console.error("[App] Failed to merge Firestore progress",ce)}d(I)}else console.error("Unexpected data format:",fe)}catch(se){console.error("Fetch error:",se)}finally{K||D(!1)}};return te.useEffect(()=>{u.length>0&&localStorage.setItem("vocabList",JSON.stringify(u))},[u]),te.useEffect(()=>{const K=()=>{if(window.AudioContext||window.webkitAudioContext){const se=window.AudioContext||window.webkitAudioContext,fe=new se;fe.state==="suspended"&&fe.resume().then(()=>console.log("AudioContext resumed"));const Ce=fe.createBuffer(1,1,22050),I=fe.createBufferSource();I.buffer=Ce,I.connect(fe.destination),I.start(0)}window.speechSynthesis&&window.speechSynthesis.cancel(),console.log("Audio subsystem unlocked via user interaction"),document.removeEventListener("click",K),document.removeEventListener("touchstart",K),document.removeEventListener("keydown",K)};return document.addEventListener("click",K),document.addEventListener("touchstart",K),document.addEventListener("keydown",K),()=>{document.removeEventListener("click",K),document.removeEventListener("keydown",K)}},[]),te.useEffect(()=>(window.Android&&window.Android.onWebReady&&(console.log("Sending onWebReady signal to Native..."),window.Android.onWebReady()),window.onNativeLoginSuccess=async K=>{console.log("Native Token Received. Length:",K?K.length:0);try{const{GoogleAuthProvider:se,signInWithCredential:fe}=await r_(async()=>{const{GoogleAuthProvider:X,signInWithCredential:re}=await Promise.resolve().then(()=>V_);return{GoogleAuthProvider:X,signInWithCredential:re}},void 0,import.meta.url),Ce=se.credential(K);console.log("Signing in with Credential...");const I=await fe(wr,Ce);console.log("Firebase Auth SUCCESS. User:",I.user.uid)}catch(se){console.error("Firebase Auth FAILED:",se),alert("Auth Error: "+se.code+" - "+se.message)}},window.onNativeLoginError=K=>{console.error("Native Login Error from Java:",K),alert("Login Failed: "+K)},()=>{}),[]),E.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-[#1e1e1e]",children:[E.jsx(i4,{}),n?E.jsx("div",{className:"flex h-screen w-screen items-center justify-center text-white",children:"Loading IrodoriAI..."}):s?E.jsx(e4,{vocabList:u,setVocabList:d,folders:p,setFolders:g,currentFolderId:y,setCurrentFolderId:T,isLoading:w,setIsLoading:D,isSyncing:V,setIsSyncing:U,apiService:Ke,fetchSheetData:Y,user:s}):E.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-gray-900 flex-col gap-4",children:[E.jsx("h1",{className:"text-2xl text-white font-bold",children:"Welcome to IrodoriAI"}),!l&&E.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-sm",children:[E.jsxs("button",{onClick:async()=>{try{await s4()}catch(K){console.error(K),alert("Login Error: "+K.message)}},className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg flex items-center justify-center gap-3 shadow-md transition-all transform hover:scale-105",children:[E.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.26.81-.58z"}),E.jsx("path",{fill:"#EA4335",d:"M12 4.66c1.61 0 3.06.56 4.21 1.64l3.15-3.15C17.45 1.09 14.97 0 12 0 7.7 0 3.99 2.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),E.jsx("span",{children:"Sign in with Google"})]}),E.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-600"})}),E.jsx("span",{className:"relative z-10 bg-gray-900 px-4 text-gray-400 text-sm font-medium",children:"OR"})]}),E.jsxs("form",{onSubmit:A,className:"w-full bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col gap-4",children:[E.jsx("h2",{className:"text-xl text-white font-semibold text-center",children:Ee?"Create Account":"Sign In with Email"}),C&&E.jsx("div",{className:"bg-red-500/20 text-red-200 p-2 rounded text-sm text-center border border-red-500/50",children:C}),Ee&&E.jsx("input",{type:"text",placeholder:"First Name",value:pe,onChange:K=>Oe(K.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsx("input",{type:"email",placeholder:"Email Address",value:B,onChange:K=>H(K.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:R?"text":"password",placeholder:"Password",value:ie,onChange:K=>he(K.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0}),E.jsx("button",{type:"button",onClick:()=>x(!R),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:R?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),E.jsx("button",{type:"submit",disabled:O,className:`font-bold py-3 px-4 rounded transition-colors ${O?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:O?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Ee?"Creating account...":"Signing in..."]}):Ee?"Sign Up":"Login"}),E.jsx("div",{className:"text-center mt-2",children:E.jsx("button",{type:"button",onClick:()=>{we(!Ee),M("")},className:"text-blue-400 hover:text-blue-300 text-sm underline",children:Ee?"Already have an account? Login":"Need an account? Sign Up"})})]})]}),l&&E.jsxs("form",{onSubmit:A,className:"w-full max-w-sm bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col gap-4 border-2 border-green-500",children:[E.jsx("div",{className:"bg-green-900 text-green-100 text-xs font-bold p-2 text-center uppercase tracking-widest mb-2 rounded",children:"ANDROID EMAIL LOGIN ACTIVE"}),E.jsx("h2",{className:"text-xl text-white font-semibold text-center",children:Ee?"Create Account":"Sign In"}),C&&E.jsx("div",{className:"bg-red-500/20 text-red-200 p-2 rounded text-sm text-center border border-red-500/50",children:C}),Ee&&E.jsx("input",{type:"text",placeholder:"First Name",value:pe,onChange:K=>Oe(K.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsx("input",{type:"email",placeholder:"Email Address",value:B,onChange:K=>H(K.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:R?"text":"password",placeholder:"Password",value:ie,onChange:K=>he(K.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0}),E.jsx("button",{type:"button",onClick:()=>x(!R),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:R?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),E.jsx("button",{type:"submit",disabled:O,className:`font-bold py-3 px-4 rounded transition-colors ${O?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:O?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Ee?"Creating account...":"Signing in..."]}):Ee?"Sign Up":"Login"}),E.jsx("div",{className:"text-center mt-2",children:E.jsx("button",{type:"button",onClick:()=>{we(!Ee),M("")},className:"text-blue-400 hover:text-blue-300 text-sm underline",children:Ee?"Already have an account? Login":"Need an account? Sign Up"})})]})]})]})}yw.createRoot(document.getElementById("root")).render(E.jsx(te.StrictMode,{children:E.jsx(r4,{})}));
