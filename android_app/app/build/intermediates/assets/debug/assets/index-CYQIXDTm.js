(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function vE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Of={exports:{}},eo={};var yy;function EE(){if(yy)return eo;yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return eo.Fragment=e,eo.jsx=i,eo.jsxs=i,eo}var _y;function bE(){return _y||(_y=1,Of.exports=EE()),Of.exports}var b=bE(),If={exports:{}},Nt={};var vy;function TE(){if(vy)return Nt;vy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function j(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,P={};function et(M,$,lt){this.props=M,this.context=$,this.refs=P,this.updater=lt||U}et.prototype.isReactComponent={},et.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},et.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pt(){}pt.prototype=et.prototype;function dt(M,$,lt){this.props=M,this.context=$,this.refs=P,this.updater=lt||U}var yt=dt.prototype=new pt;yt.constructor=dt,H(yt,et.prototype),yt.isPureReactComponent=!0;var _t=Array.isArray;function vt(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function w(M,$,lt){var at=lt.ref;return{$$typeof:r,type:M,key:$,ref:at!==void 0?at:null,props:lt}}function I(M,$){return w(M.type,$,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function z(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(lt){return $[lt]})}var R=/\/+/g;function Xt(M,$){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):$.toString(36)}function ae(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(vt,vt):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Y(M,$,lt,at,St){var xt=typeof M;(xt==="undefined"||xt==="boolean")&&(M=null);var At=!1;if(M===null)At=!0;else switch(xt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(M.$$typeof){case r:case e:At=!0;break;case S:return At=M._init,Y(At(M._payload),$,lt,at,St)}}if(At)return St=St(M),At=at===""?"."+Xt(M,0):at,_t(St)?(lt="",At!=null&&(lt=At.replace(R,"$&/")+"/"),Y(St,$,lt,"",function(xn){return xn})):St!=null&&(V(St)&&(St=I(St,lt+(St.key==null||M&&M.key===St.key?"":(""+St.key).replace(R,"$&/")+"/")+At)),$.push(St)),1;At=0;var Ut=at===""?".":at+":";if(_t(M))for(var te=0;te<M.length;te++)at=M[te],xt=Ut+Xt(at,te),At+=Y(at,$,lt,xt,St);else if(te=j(M),typeof te=="function")for(M=te.call(M),te=0;!(at=M.next()).done;)at=at.value,xt=Ut+Xt(at,te++),At+=Y(at,$,lt,xt,St);else if(xt==="object"){if(typeof M.then=="function")return Y(ae(M),$,lt,at,St);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return At}function it(M,$,lt){if(M==null)return M;var at=[],St=0;return Y(M,at,"","",function(xt){return $.call(lt,xt,St++)}),at}function ht(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(lt){(M._status===0||M._status===-1)&&(M._status=1,M._result=lt)},function(lt){(M._status===0||M._status===-1)&&(M._status=2,M._result=lt)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var jt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:it,forEach:function(M,$,lt){it(M,function(){$.apply(this,arguments)},lt)},count:function(M){var $=0;return it(M,function(){$++}),$},toArray:function(M){return it(M,function($){return $})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Nt.Activity=A,Nt.Children=Ht,Nt.Component=et,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=dt,Nt.StrictMode=a,Nt.Suspense=v,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Nt.cache=function(M){return function(){return M.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(M,$,lt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=H({},M.props),St=M.key;if($!=null)for(xt in $.key!==void 0&&(St=""+$.key),$)!x.call($,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&$.ref===void 0||(at[xt]=$[xt]);var xt=arguments.length-2;if(xt===1)at.children=lt;else if(1<xt){for(var At=Array(xt),Ut=0;Ut<xt;Ut++)At[Ut]=arguments[Ut+2];at.children=At}return w(M.type,St,at)},Nt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Nt.createElement=function(M,$,lt){var at,St={},xt=null;if($!=null)for(at in $.key!==void 0&&(xt=""+$.key),$)x.call($,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(St[at]=$[at]);var At=arguments.length-2;if(At===1)St.children=lt;else if(1<At){for(var Ut=Array(At),te=0;te<At;te++)Ut[te]=arguments[te+2];St.children=Ut}if(M&&M.defaultProps)for(at in At=M.defaultProps,At)St[at]===void 0&&(St[at]=At[at]);return w(M,xt,St)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(M){return{$$typeof:y,render:M}},Nt.isValidElement=V,Nt.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ht}},Nt.memo=function(M,$){return{$$typeof:p,type:M,compare:$===void 0?null:$}},Nt.startTransition=function(M){var $=C.T,lt={};C.T=lt;try{var at=M(),St=C.S;St!==null&&St(lt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(vt,jt)}catch(xt){jt(xt)}finally{$!==null&&lt.types!==null&&($.types=lt.types),C.T=$}},Nt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Nt.use=function(M){return C.H.use(M)},Nt.useActionState=function(M,$,lt){return C.H.useActionState(M,$,lt)},Nt.useCallback=function(M,$){return C.H.useCallback(M,$)},Nt.useContext=function(M){return C.H.useContext(M)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(M,$){return C.H.useDeferredValue(M,$)},Nt.useEffect=function(M,$){return C.H.useEffect(M,$)},Nt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Nt.useId=function(){return C.H.useId()},Nt.useImperativeHandle=function(M,$,lt){return C.H.useImperativeHandle(M,$,lt)},Nt.useInsertionEffect=function(M,$){return C.H.useInsertionEffect(M,$)},Nt.useLayoutEffect=function(M,$){return C.H.useLayoutEffect(M,$)},Nt.useMemo=function(M,$){return C.H.useMemo(M,$)},Nt.useOptimistic=function(M,$){return C.H.useOptimistic(M,$)},Nt.useReducer=function(M,$,lt){return C.H.useReducer(M,$,lt)},Nt.useRef=function(M){return C.H.useRef(M)},Nt.useState=function(M){return C.H.useState(M)},Nt.useSyncExternalStore=function(M,$,lt){return C.H.useSyncExternalStore(M,$,lt)},Nt.useTransition=function(){return C.H.useTransition()},Nt.version="19.2.3",Nt}var Ey;function pd(){return Ey||(Ey=1,If.exports=TE()),If.exports}var nt=pd();const Ii=vE(nt);var jf={exports:{}},no={},zf={exports:{}},kf={};var by;function SE(){return by||(by=1,(function(r){function e(Y,it){var ht=Y.length;Y.push(it);t:for(;0<ht;){var jt=ht-1>>>1,Ht=Y[jt];if(0<o(Ht,it))Y[jt]=it,Y[ht]=Ht,ht=jt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var it=Y[0],ht=Y.pop();if(ht!==it){Y[0]=ht;t:for(var jt=0,Ht=Y.length,M=Ht>>>1;jt<M;){var $=2*(jt+1)-1,lt=Y[$],at=$+1,St=Y[at];if(0>o(lt,ht))at<Ht&&0>o(St,lt)?(Y[jt]=St,Y[at]=ht,jt=at):(Y[jt]=lt,Y[$]=ht,jt=$);else if(at<Ht&&0>o(St,ht))Y[jt]=St,Y[at]=ht,jt=at;else break t}}return it}function o(Y,it){var ht=Y.sortIndex-it.sortIndex;return ht!==0?ht:Y.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],p=[],S=1,A=null,N=3,j=!1,U=!1,H=!1,P=!1,et=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function yt(Y){for(var it=i(p);it!==null;){if(it.callback===null)a(p);else if(it.startTime<=Y)a(p),it.sortIndex=it.expirationTime,e(v,it);else break;it=i(p)}}function _t(Y){if(H=!1,yt(Y),!U)if(i(v)!==null)U=!0,vt||(vt=!0,z());else{var it=i(p);it!==null&&ae(_t,it.startTime-Y)}}var vt=!1,C=-1,x=5,w=-1;function I(){return P?!0:!(r.unstable_now()-w<x)}function V(){if(P=!1,vt){var Y=r.unstable_now();w=Y;var it=!0;try{t:{U=!1,H&&(H=!1,pt(C),C=-1),j=!0;var ht=N;try{e:{for(yt(Y),A=i(v);A!==null&&!(A.expirationTime>Y&&I());){var jt=A.callback;if(typeof jt=="function"){A.callback=null,N=A.priorityLevel;var Ht=jt(A.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ht=="function"){A.callback=Ht,yt(Y),it=!0;break e}A===i(v)&&a(v),yt(Y)}else a(v);A=i(v)}if(A!==null)it=!0;else{var M=i(p);M!==null&&ae(_t,M.startTime-Y),it=!1}}break t}finally{A=null,N=ht,j=!1}it=void 0}}finally{it?z():vt=!1}}}var z;if(typeof dt=="function")z=function(){dt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xt=R.port2;R.port1.onmessage=V,z=function(){Xt.postMessage(null)}}else z=function(){et(V,0)};function ae(Y,it){C=et(function(){Y(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(Y){switch(N){case 1:case 2:case 3:var it=3;break;default:it=N}var ht=N;N=it;try{return Y()}finally{N=ht}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(Y,it){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ht=N;N=Y;try{return it()}finally{N=ht}},r.unstable_scheduleCallback=function(Y,it,ht){var jt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?jt+ht:jt):ht=jt,Y){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,Y={id:S++,callback:it,priorityLevel:Y,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>jt?(Y.sortIndex=ht,e(p,Y),i(v)===null&&Y===i(p)&&(H?(pt(C),C=-1):H=!0,ae(_t,ht-jt))):(Y.sortIndex=Ht,e(v,Y),U||j||(U=!0,vt||(vt=!0,z()))),Y},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(Y){var it=N;return function(){var ht=N;N=it;try{return Y.apply(this,arguments)}finally{N=ht}}}})(kf)),kf}var Ty;function AE(){return Ty||(Ty=1,zf.exports=SE()),zf.exports}var Uf={exports:{}},an={};var Sy;function wE(){if(Sy)return an;Sy=1;var r=pd();function e(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,p,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:p,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(v,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return h(v,p,null,S)},an.flushSync=function(v){var p=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=p,a.p=S,a.d.f()}},an.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(v,p))},an.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},an.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var S=p.as,A=y(S,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;S==="style"?a.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:j}):S==="script"&&a.d.X(v,{crossOrigin:A,integrity:N,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var S=y(p.as,p.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(v)},an.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var S=p.as,A=y(S,p.crossOrigin);a.d.L(v,S,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(v,p){if(typeof v=="string")if(p){var S=y(p.as,p.crossOrigin);a.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(v)},an.requestFormReset=function(v){a.d.r(v)},an.unstable_batchedUpdates=function(v,p){return v(p)},an.useFormState=function(v,p,S){return d.H.useFormState(v,p,S)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var Ay;function xE(){if(Ay)return Uf.exports;Ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Uf.exports=wE(),Uf.exports}var wy;function CE(){if(wy)return no;wy=1;var r=AE(),e=pd(),i=xE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case et:return"Profiler";case P:return"StrictMode";case _t:return"Suspense";case vt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case dt:return t.displayName||"Context";case pt:return(t._context.displayName||"Context")+".Consumer";case yt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Xt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Xt(t(n))}catch{}}return null}var ae=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},jt=[],Ht=-1;function M(t){return{current:t}}function $(t){0>Ht||(t.current=jt[Ht],jt[Ht]=null,Ht--)}function lt(t,n){Ht++,jt[Ht]=t.current,t.current=n}var at=M(null),St=M(null),xt=M(null),At=M(null);function Ut(t,n){switch(lt(xt,n),lt(St,t),lt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Bp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Bp(n),t=Pp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(at),lt(at,t)}function te(){$(at),$(St),$(xt)}function xn(t){t.memoizedState!==null&&lt(At,t);var n=at.current,s=Pp(n,t.type);n!==s&&(lt(St,t),lt(at,s))}function Cn(t){St.current===t&&($(at),$(St)),At.current===t&&($(At),Zl._currentValue=ht)}var li,Rn;function un(t){if(li===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);li=n&&n[1]||"",Rn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+li+t+Rn}var qn=!1;function cn(t,n){if(!t||qn)return"";qn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var G=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){G=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){G=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var D=g.split(`
`),q=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===q.length)for(l=D.length-1,c=q.length-1;1<=l&&0<=c&&D[l]!==q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==q[c]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=c);break}}}finally{qn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?un(s):""}function oi(t,n){switch(t.tag){case 26:case 27:case 5:return un(t.type);case 16:return un("Lazy");case 13:return t.child!==n&&n!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return cn(t.type,!1);case 11:return cn(t.type.render,!1);case 1:return cn(t.type,!0);case 31:return un("Activity");default:return""}}function It(t){try{var n="",s=null;do n+=oi(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ct=Object.prototype.hasOwnProperty,Gt=r.unstable_scheduleCallback,Ve=r.unstable_cancelCallback,ui=r.unstable_shouldYield,ca=r.unstable_requestPaint,re=r.unstable_now,Ye=r.unstable_getCurrentPriorityLevel,ha=r.unstable_ImmediatePriority,fa=r.unstable_UserBlockingPriority,Ei=r.unstable_NormalPriority,Ja=r.unstable_LowPriority,da=r.unstable_IdlePriority,Pi=r.log,bs=r.unstable_setDisableYieldValue,Te=null,Me=null;function mn(t){if(typeof Pi=="function"&&bs(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Te,t)}catch{}}var _e=Math.clz32?Math.clz32:Hi,qi=Math.log,bi=Math.LN2;function Hi(t){return t>>>=0,t===0?32:31-(qi(t)/bi|0)|0}var Nn=256,Gi=262144,ve=4194304;function gn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=gn(l):(g&=E,g!==0?c=gn(g):s||(s=E&~t,s!==0&&(c=gn(s))))):(E=l&~f,E!==0?c=gn(E):g!==0?c=gn(g):s||(s=l&~t,s!==0&&(c=gn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ll(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function Hn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Fi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ol(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(s=g&~s;0<s;){var X=31-_e(s),J=1<<X;E[X]=0,D[X]=-1;var G=q[X];if(G!==null)for(q[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}s&=~J}l!==0&&hn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function hn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-_e(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Qi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-_e(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function ma(t,n){var s=n&-n;return s=(s&42)!==0?1:Yi(s),(s&(t.suspendedLanes|n))!==0?0:s}function Yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ci(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:cy(t.type))}function Vn(t,n){var s=it.p;try{return it.p=t,n()}finally{it.p=s}}var Mn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Mn,Oe="__reactProps$"+Mn,Gn="__reactContainer$"+Mn,Xi="__reactEvents$"+Mn,ul="__reactListeners$"+Mn,er="__reactHandles$"+Mn,nr="__reactResources$"+Mn,Fn="__reactMarker$"+Mn;function Ts(t){delete t[Se],delete t[Oe],delete t[Xi],delete t[ul],delete t[er]}function Qn(t){var n=t[Se];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Gn]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Xp(t);t!==null;){if(s=t[Se])return s;t=Xp(t)}return n}t=s,s=t.parentNode}return null}function yn(t){if(t=t[Se]||t[Gn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function On(t){var n=t[nr];return n||(n=t[nr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[Fn]=!0}var ga=new Set,pa={};function Yn(t,n){In(t,n),In(t+"Capture",n)}function In(t,n){for(pa[t]=n,t=0;t<n.length;t++)ga.add(n[t])}var ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_a={},va={};function ir(t){return Ct.call(va,t)?!0:Ct.call(_a,t)?!1:ya.test(t)?va[t]=!0:(_a[t]=!0,!1)}function Ki(t,n,s){if(ir(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function sn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ae(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function K(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function st(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ft(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ut(t){if(!t._valueTracker){var n=st(t)?"checked":"value";t._valueTracker=ft(t,n,""+t[n])}}function ne(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=st(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ge(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $i=/[\n"\\]/g;function _n(t){return t.replace($i,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sr(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+K(n)):t.value!==""+K(n)&&(t.value=""+K(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?cl(t,g,K(n)):s!=null?cl(t,g,K(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+K(E):t.removeAttribute("name")}function Do(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ut(t);return}s=s!=null?""+K(s):"",n=n!=null?""+K(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ut(t)}function cl(t,n,s){n==="number"&&Ge(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ss(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+K(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Vo(t,n,s){if(n!=null&&(n=""+K(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+K(s):""}function As(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ae(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=K(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),ut(t)}function vn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Mo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function fl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&hl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&hl(t,f,n[f])}function ar(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var dl=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,Ti=null;function Ea(t){var n=yn(t);if(n&&(t=n.stateNode)){var s=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(sr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(a(90));sr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ne(l)}break t;case"textarea":Vo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ss(t,!!s.multiple,n,!1)}}}var lr=!1;function Cs(t,n,s){if(lr)return t(n,s);lr=!0;try{var l=t(n);return l}finally{if(lr=!1,(xs!==null||Ti!==null)&&(xu(),xs&&(n=xs,t=Ti,Ti=xs=null,Ea(n),t)))for(n=0;n<t.length;n++)Ea(t[n])}}function fi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(Kn)try{var le={};Object.defineProperty(le,"passive",{get:function(){ba=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{ba=!1}var Si=null,ml=null,Ta=null;function gl(){if(Ta)return Ta;var t,n=ml,s=n.length,l,c="value"in Si?Si.value:Si.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return Ta=c.slice(t,1<l?1-l:void 0)}function Sa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function di(){return!1}function Xe(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:di,this.isPropagationStopped=di,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Xe(Ji),Rs=A({},Ji,{view:0,detail:0}),pl=Xe(Rs),Ns,or,wi,ur=A({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Ns=t.screenX-wi.screenX,or=t.screenY-wi.screenY):or=Ns=0,wi=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:or}}),yl=Xe(ur),Aa=A({},ur,{dataTransfer:0}),Io=Xe(Aa),jo=A({},Rs,{relatedTarget:0}),wa=Xe(jo),_l=A({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=Xe(_l),cr=A({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ko=Xe(cr),Uo=A({},Ji,{data:0}),xi=Xe(Uo),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function Ds(){return qo}var fn=A({},Rs,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Sa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Sa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ho=Xe(fn),Go=A({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Xe(Go),u=A({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Xe(u),_=A({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xe(_),L=A({},ur,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Xe(L),rt=A({},Ji,{newState:0,oldState:0}),Vt=Xe(rt),Ce=[9,13,27,32],Zt=Kn&&"CompositionEvent"in window,pe=null;Kn&&"documentMode"in document&&(pe=document.documentMode);var $n=Kn&&"TextEvent"in window&&!pe,Ci=Kn&&(!Zt||pe&&8<pe&&11>=pe),mi=" ",gi=!1;function xa(t,n){switch(t){case"keyup":return Ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function Hv(t,n){switch(t){case"compositionend":return hr(n);case"keypress":return n.which!==32?null:(gi=!0,mi);case"textInput":return t=n.data,t===mi&&gi?null:t;default:return null}}function Gv(t,n){if(fr)return t==="compositionend"||!Zt&&xa(t,n)?(t=gl(),Ta=ml=Si=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var Fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Fv[t.type]:n==="textarea"}function Jd(t,n,s,l){xs?Ti?Ti.push(l):Ti=[l]:xs=l,n=Ou(n,"onChange"),0<n.length&&(s=new Ai("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var vl=null,El=null;function Qv(t){Ip(t,0)}function Fo(t){var n=nn(t);if(ne(n))return t}function Wd(t,n){if(t==="change")return n}var tm=!1;if(Kn){var Lc;if(Kn){var Bc="oninput"in document;if(!Bc){var em=document.createElement("div");em.setAttribute("oninput","return;"),Bc=typeof em.oninput=="function"}Lc=Bc}else Lc=!1;tm=Lc&&(!document.documentMode||9<document.documentMode)}function nm(){vl&&(vl.detachEvent("onpropertychange",im),El=vl=null)}function im(t){if(t.propertyName==="value"&&Fo(El)){var n=[];Jd(n,El,t,Xn(t)),Cs(Qv,n)}}function Yv(t,n,s){t==="focusin"?(nm(),vl=n,El=s,vl.attachEvent("onpropertychange",im)):t==="focusout"&&nm()}function Xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(El)}function Kv(t,n){if(t==="click")return Fo(n)}function $v(t,n){if(t==="input"||t==="change")return Fo(n)}function Zv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:Zv;function bl(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ct.call(n,c)||!jn(t[c],n[c]))return!1}return!0}function sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function am(t,n){var s=sm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=sm(s)}}function rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function lm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ge(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ge(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Jv=Kn&&"documentMode"in document&&11>=document.documentMode,dr=null,qc=null,Tl=null,Hc=!1;function om(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hc||dr==null||dr!==Ge(l)||(l=dr,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&bl(Tl,l)||(Tl=l,l=Ou(qc,"onSelect"),0<l.length&&(n=new Ai("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=dr)))}function Ca(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var mr={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Gc={},um={};Kn&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Ra(t){if(Gc[t])return Gc[t];if(!mr[t])return t;var n=mr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in um)return Gc[t]=n[s];return t}var cm=Ra("animationend"),hm=Ra("animationiteration"),fm=Ra("animationstart"),Wv=Ra("transitionrun"),t1=Ra("transitionstart"),e1=Ra("transitioncancel"),dm=Ra("transitionend"),mm=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function pi(t,n){mm.set(t,n),Yn(n,[t])}var Qo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],gr=0,Qc=0;function Yo(){for(var t=gr,n=Qc=gr=0;n<t;){var s=Zn[n];Zn[n++]=null;var l=Zn[n];Zn[n++]=null;var c=Zn[n];Zn[n++]=null;var f=Zn[n];if(Zn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&gm(s,c,f)}}function Xo(t,n,s,l){Zn[gr++]=t,Zn[gr++]=n,Zn[gr++]=s,Zn[gr++]=l,Qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yc(t,n,s,l){return Xo(t,n,s,l),Ko(t)}function Na(t,n){return Xo(t,null,null,n),Ko(t)}function gm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-_e(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Ko(t){if(50<Gl)throw Gl=0,nf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var pr={};function n1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,n,s,l){return new n1(t,n,s,l)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var s=t.alternate;return s===null?(s=zn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function pm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $o(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")Xc(t)&&(g=1);else if(typeof t=="string")g=lE(t,s,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=zn(31,s,n,c),t.elementType=w,t.lanes=f,t;case H:return Da(s.children,c,f,n);case P:g=8,c|=24;break;case et:return t=zn(12,s,n,c|2),t.elementType=et,t.lanes=f,t;case _t:return t=zn(13,s,n,c),t.elementType=_t,t.lanes=f,t;case vt:return t=zn(19,s,n,c),t.elementType=vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:g=10;break t;case pt:g=9;break t;case yt:g=11;break t;case C:g=14;break t;case x:g=16,l=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=zn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Da(t,n,s,l){return t=zn(7,t,l,n),t.lanes=s,t}function Kc(t,n,s){return t=zn(6,t,null,n),t.lanes=s,t}function ym(t){var n=zn(18,null,null,0);return n.stateNode=t,n}function $c(t,n,s){return n=zn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var _m=new WeakMap;function Jn(t,n){if(typeof t=="object"&&t!==null){var s=_m.get(t);return s!==void 0?s:(n={value:t,source:n,stack:It(n)},_m.set(t,n),n)}return{value:t,source:n,stack:It(n)}}var yr=[],_r=0,Zo=null,Sl=0,Wn=[],ti=0,Vs=null,Ri=1,Ni="";function es(t,n){yr[_r++]=Sl,yr[_r++]=Zo,Zo=t,Sl=n}function vm(t,n,s){Wn[ti++]=Ri,Wn[ti++]=Ni,Wn[ti++]=Vs,Vs=t;var l=Ri;t=Ni;var c=32-_e(l)-1;l&=~(1<<c),s+=1;var f=32-_e(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Ri=1<<32-_e(n)+c|s<<c|l,Ni=f+t}else Ri=1<<f|s<<c|l,Ni=t}function Zc(t){t.return!==null&&(es(t,1),vm(t,1,0))}function Jc(t){for(;t===Zo;)Zo=yr[--_r],yr[_r]=null,Sl=yr[--_r],yr[_r]=null;for(;t===Vs;)Vs=Wn[--ti],Wn[ti]=null,Ni=Wn[--ti],Wn[ti]=null,Ri=Wn[--ti],Wn[ti]=null}function Em(t,n){Wn[ti++]=Ri,Wn[ti++]=Ni,Wn[ti++]=Vs,Ri=n.id,Ni=n.overflow,Vs=t}var Ke=null,fe=null,Ft=!1,Ms=null,ei=!1,Wc=Error(a(519));function Os(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Jn(n,t)),Wc}function bm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Se]=t,n[Oe]=l,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<Ql.length;s++)kt(Ql[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),Do(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),As(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Up(n.textContent,s)?(l.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),l.onScroll!=null&&kt("scroll",n),l.onScrollEnd!=null&&kt("scrollend",n),l.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||Os(t,!0)}function Tm(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Ke=Ke.return}}function vr(t){if(t!==Ke)return!1;if(!Ft)return Tm(t),Ft=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||_f(t.type,t.memoizedProps)),s=!s),s&&fe&&Os(t),Tm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));fe=Yp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));fe=Yp(t)}else n===27?(n=fe,Ys(t.type)?(t=Sf,Sf=null,fe=t):fe=n):fe=Ke?ii(t.stateNode.nextSibling):null;return!0}function Va(){fe=Ke=null,Ft=!1}function th(){var t=Ms;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Ms=null),t}function Al(t){Ms===null?Ms=[t]:Ms.push(t)}var eh=M(null),Ma=null,ns=null;function Is(t,n,s){lt(eh,n._currentValue),n._currentValue=s}function is(t){t._currentValue=eh.current,$(eh)}function nh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ih(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),nh(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),nh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Er(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;jn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===At.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}c=c.return}t!==null&&ih(n,t,s,l),n.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Oa(t){Ma=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $e(t){return Sm(Ma,t)}function Wo(t,n){return Ma===null&&Oa(t),Sm(t,n)}function Sm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ns===null){if(t===null)throw Error(a(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return s}var i1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},s1=r.unstable_scheduleCallback,a1=r.unstable_NormalPriority,Ie={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new i1,data:new Map,refCount:0}}function wl(t){t.refCount--,t.refCount===0&&s1(a1,function(){t.controller.abort()})}var xl=null,ah=0,br=0,Tr=null;function r1(t,n){if(xl===null){var s=xl=[];ah=0,br=uf(),Tr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ah++,n.then(Am,Am),n}function Am(){if(--ah===0&&xl!==null){Tr!==null&&(Tr.status="fulfilled");var t=xl;xl=null,br=0,Tr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function l1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var wm=Y.S;Y.S=function(t,n){op=re(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&r1(t,n),wm!==null&&wm(t,n)};var Ia=M(null);function rh(){var t=Ia.current;return t!==null?t:he.pooledCache}function tu(t,n){n===null?lt(Ia,Ia.current):lt(Ia,n.pool)}function xm(){var t=rh();return t===null?null:{parent:Ie._currentValue,pool:t}}var Sr=Error(a(460)),lh=Error(a(474)),eu=Error(a(542)),nu={then:function(){}};function Cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(hi,hi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t;default:if(typeof n.status=="string")n.then(hi,hi);else{if(t=he,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t}throw za=n,Sr}}function ja(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(za=s,Sr):s}}var za=null;function Nm(){if(za===null)throw Error(a(459));var t=za;return za=null,t}function Dm(t){if(t===Sr||t===eu)throw Error(a(483))}var Ar=null,Cl=0;function iu(t){var n=Cl;return Cl+=1,Ar===null&&(Ar=[]),Rm(Ar,t,n)}function Rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function su(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Vm(t){function n(k,O){if(t){var B=k.deletions;B===null?(k.deletions=[O],k.flags|=16):B.push(O)}}function s(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function c(k,O){return k=ts(k,O),k.index=0,k.sibling=null,k}function f(k,O,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<O?(k.flags|=67108866,O):B):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,B,Z){return O===null||O.tag!==6?(O=Kc(B,k.mode,Z),O.return=k,O):(O=c(O,B),O.return=k,O)}function D(k,O,B,Z){var Et=B.type;return Et===H?X(k,O,B.props.children,Z,B.key):O!==null&&(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===x&&ja(Et)===O.type)?(O=c(O,B.props),Rl(O,B),O.return=k,O):(O=$o(B.type,B.key,B.props,null,k.mode,Z),Rl(O,B),O.return=k,O)}function q(k,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=$c(B,k.mode,Z),O.return=k,O):(O=c(O,B.children||[]),O.return=k,O)}function X(k,O,B,Z,Et){return O===null||O.tag!==7?(O=Da(B,k.mode,Z,Et),O.return=k,O):(O=c(O,B),O.return=k,O)}function J(k,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Kc(""+O,k.mode,B),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return B=$o(O.type,O.key,O.props,null,k.mode,B),Rl(B,O),B.return=k,B;case U:return O=$c(O,k.mode,B),O.return=k,O;case x:return O=ja(O),J(k,O,B)}if(ae(O)||z(O))return O=Da(O,k.mode,B,null),O.return=k,O;if(typeof O.then=="function")return J(k,iu(O),B);if(O.$$typeof===dt)return J(k,Wo(k,O),B);su(k,O)}return null}function G(k,O,B,Z){var Et=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Et!==null?null:E(k,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===Et?D(k,O,B,Z):null;case U:return B.key===Et?q(k,O,B,Z):null;case x:return B=ja(B),G(k,O,B,Z)}if(ae(B)||z(B))return Et!==null?null:X(k,O,B,Z,null);if(typeof B.then=="function")return G(k,O,iu(B),Z);if(B.$$typeof===dt)return G(k,O,Wo(k,B),Z);su(k,B)}return null}function Q(k,O,B,Z,Et){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(B)||null,E(O,k,""+Z,Et);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return k=k.get(Z.key===null?B:Z.key)||null,D(O,k,Z,Et);case U:return k=k.get(Z.key===null?B:Z.key)||null,q(O,k,Z,Et);case x:return Z=ja(Z),Q(k,O,B,Z,Et)}if(ae(Z)||z(Z))return k=k.get(B)||null,X(O,k,Z,Et,null);if(typeof Z.then=="function")return Q(k,O,B,iu(Z),Et);if(Z.$$typeof===dt)return Q(k,O,B,Wo(O,Z),Et);su(O,Z)}return null}function ct(k,O,B,Z){for(var Et=null,Kt=null,mt=O,Ot=O=0,Bt=null;mt!==null&&Ot<B.length;Ot++){mt.index>Ot?(Bt=mt,mt=null):Bt=mt.sibling;var $t=G(k,mt,B[Ot],Z);if($t===null){mt===null&&(mt=Bt);break}t&&mt&&$t.alternate===null&&n(k,mt),O=f($t,O,Ot),Kt===null?Et=$t:Kt.sibling=$t,Kt=$t,mt=Bt}if(Ot===B.length)return s(k,mt),Ft&&es(k,Ot),Et;if(mt===null){for(;Ot<B.length;Ot++)mt=J(k,B[Ot],Z),mt!==null&&(O=f(mt,O,Ot),Kt===null?Et=mt:Kt.sibling=mt,Kt=mt);return Ft&&es(k,Ot),Et}for(mt=l(mt);Ot<B.length;Ot++)Bt=Q(mt,k,Ot,B[Ot],Z),Bt!==null&&(t&&Bt.alternate!==null&&mt.delete(Bt.key===null?Ot:Bt.key),O=f(Bt,O,Ot),Kt===null?Et=Bt:Kt.sibling=Bt,Kt=Bt);return t&&mt.forEach(function(Js){return n(k,Js)}),Ft&&es(k,Ot),Et}function Tt(k,O,B,Z){if(B==null)throw Error(a(151));for(var Et=null,Kt=null,mt=O,Ot=O=0,Bt=null,$t=B.next();mt!==null&&!$t.done;Ot++,$t=B.next()){mt.index>Ot?(Bt=mt,mt=null):Bt=mt.sibling;var Js=G(k,mt,$t.value,Z);if(Js===null){mt===null&&(mt=Bt);break}t&&mt&&Js.alternate===null&&n(k,mt),O=f(Js,O,Ot),Kt===null?Et=Js:Kt.sibling=Js,Kt=Js,mt=Bt}if($t.done)return s(k,mt),Ft&&es(k,Ot),Et;if(mt===null){for(;!$t.done;Ot++,$t=B.next())$t=J(k,$t.value,Z),$t!==null&&(O=f($t,O,Ot),Kt===null?Et=$t:Kt.sibling=$t,Kt=$t);return Ft&&es(k,Ot),Et}for(mt=l(mt);!$t.done;Ot++,$t=B.next())$t=Q(mt,k,Ot,$t.value,Z),$t!==null&&(t&&$t.alternate!==null&&mt.delete($t.key===null?Ot:$t.key),O=f($t,O,Ot),Kt===null?Et=$t:Kt.sibling=$t,Kt=$t);return t&&mt.forEach(function(_E){return n(k,_E)}),Ft&&es(k,Ot),Et}function ce(k,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:t:{for(var Et=B.key;O!==null;){if(O.key===Et){if(Et=B.type,Et===H){if(O.tag===7){s(k,O.sibling),Z=c(O,B.props.children),Z.return=k,k=Z;break t}}else if(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===x&&ja(Et)===O.type){s(k,O.sibling),Z=c(O,B.props),Rl(Z,B),Z.return=k,k=Z;break t}s(k,O);break}else n(k,O);O=O.sibling}B.type===H?(Z=Da(B.props.children,k.mode,Z,B.key),Z.return=k,k=Z):(Z=$o(B.type,B.key,B.props,null,k.mode,Z),Rl(Z,B),Z.return=k,k=Z)}return g(k);case U:t:{for(Et=B.key;O!==null;){if(O.key===Et)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){s(k,O.sibling),Z=c(O,B.children||[]),Z.return=k,k=Z;break t}else{s(k,O);break}else n(k,O);O=O.sibling}Z=$c(B,k.mode,Z),Z.return=k,k=Z}return g(k);case x:return B=ja(B),ce(k,O,B,Z)}if(ae(B))return ct(k,O,B,Z);if(z(B)){if(Et=z(B),typeof Et!="function")throw Error(a(150));return B=Et.call(B),Tt(k,O,B,Z)}if(typeof B.then=="function")return ce(k,O,iu(B),Z);if(B.$$typeof===dt)return ce(k,O,Wo(k,B),Z);su(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(s(k,O.sibling),Z=c(O,B),Z.return=k,k=Z):(s(k,O),Z=Kc(B,k.mode,Z),Z.return=k,k=Z),g(k)):s(k,O)}return function(k,O,B,Z){try{Cl=0;var Et=ce(k,O,B,Z);return Ar=null,Et}catch(mt){if(mt===Sr||mt===eu)throw mt;var Kt=zn(29,mt,null,k.mode);return Kt.lanes=Z,Kt.return=k,Kt}finally{}}}var ka=Vm(!0),Mm=Vm(!1),js=!1;function oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ko(t),gm(t,null,s),n}return Xo(t,l,n,s),Ko(t)}function Nl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Qi(t,s)}}function ch(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var hh=!1;function Dl(){if(hh){var t=Tr;if(t!==null)throw t}}function Vl(t,n,s,l){hh=!1;var c=t.updateQueue;js=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,q=D.next;D.next=null,g===null?f=q:g.next=q,g=D;var X=t.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==g&&(E===null?X.firstBaseUpdate=q:E.next=q,X.lastBaseUpdate=D))}if(f!==null){var J=c.baseState;g=0,X=q=D=null,E=f;do{var G=E.lane&-536870913,Q=G!==E.lane;if(Q?(Lt&G)===G:(l&G)===G){G!==0&&G===br&&(hh=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=t,Tt=E;G=n;var ce=s;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){J=ct.call(ce,J,G);break t}J=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,G=typeof ct=="function"?ct.call(ce,J,G):ct,G==null)break t;J=A({},J,G);break t;case 2:js=!0}}G=E.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=c.callbacks,Q===null?c.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(q=X=Q,D=J):X=X.next=Q,g|=G;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,c.lastBaseUpdate=Q,c.shared.pending=null}}while(!0);X===null&&(D=J),c.baseState=D,c.firstBaseUpdate=q,c.lastBaseUpdate=X,f===null&&(c.shared.lanes=0),qs|=g,t.lanes=g,t.memoizedState=J}}function Om(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Im(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Om(s[t],n)}var wr=M(null),au=M(0);function jm(t,n){t=fs,lt(au,t),lt(wr,n),fs=t|n.baseLanes}function fh(){lt(au,fs),lt(wr,wr.current)}function dh(){fs=au.current,$(wr),$(au)}var kn=M(null),ni=null;function Us(t){var n=t.alternate;lt(Re,Re.current&1),lt(kn,t),ni===null&&(n===null||wr.current!==null||n.memoizedState!==null)&&(ni=t)}function mh(t){lt(Re,Re.current),lt(kn,t),ni===null&&(ni=t)}function zm(t){t.tag===22?(lt(Re,Re.current),lt(kn,t),ni===null&&(ni=t)):Ls()}function Ls(){lt(Re,Re.current),lt(kn,kn.current)}function Un(t){$(kn),ni===t&&(ni=null),$(Re)}var Re=M(0);function ru(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||bf(s)||Tf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,Mt=null,oe=null,je=null,lu=!1,xr=!1,Ua=!1,ou=0,Ml=0,Cr=null,o1=0;function we(){throw Error(a(321))}function gh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!jn(t[s],n[s]))return!1;return!0}function ph(t,n,s,l,c,f){return ss=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?vg:Vh,Ua=!1,f=s(l,c),Ua=!1,xr&&(f=Um(n,s,l,c)),km(t),f}function km(t){Y.H=jl;var n=oe!==null&&oe.next!==null;if(ss=0,je=oe=Mt=null,lu=!1,Ml=0,Cr=null,n)throw Error(a(300));t===null||ze||(t=t.dependencies,t!==null&&Jo(t)&&(ze=!0))}function Um(t,n,s,l){Mt=t;var c=0;do{if(xr&&(Cr=null),Ml=0,xr=!1,25<=c)throw Error(a(301));if(c+=1,je=oe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Eg,f=n(s,l)}while(xr);return f}function u1(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Ol(n):n,t=t.useState()[0],(oe!==null?oe.memoizedState:null)!==t&&(Mt.flags|=1024),n}function yh(){var t=ou!==0;return ou=0,t}function _h(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function vh(t){if(lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lu=!1}ss=0,je=oe=Mt=null,xr=!1,Ml=ou=0,Cr=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Mt.memoizedState=je=t:je=je.next=t,je}function Ne(){if(oe===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var n=je===null?Mt.memoizedState:je.next;if(n!==null)je=n,oe=t;else{if(t===null)throw Mt.alternate===null?Error(a(467)):Error(a(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},je===null?Mt.memoizedState=je=t:je=je.next=t}return je}function uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(t){var n=Ml;return Ml+=1,Cr===null&&(Cr=[]),t=Rm(Cr,t,n),n=Mt,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?vg:Vh),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ol(t);if(t.$$typeof===dt)return $e(t)}throw Error(a(438,String(t)))}function Eh(t){var n=null,s=Mt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=uu(),Mt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=I;return n.index++,s}function as(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=Ne();return bh(n,oe,t)}function bh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,D=null,q=n,X=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Lt&J)===J:(ss&J)===J){var G=q.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===br&&(X=!0);else if((ss&G)===G){q=q.next,G===br&&(X=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=J,g=f):D=D.next=J,Mt.lanes|=G,qs|=G;J=q.action,Ua&&s(f,J),f=q.hasEagerState?q.eagerState:s(f,J)}else G={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=G,g=f):D=D.next=G,Mt.lanes|=J,qs|=J;q=q.next}while(q!==null&&q!==n);if(D===null?g=f:D.next=E,!jn(f,t.memoizedState)&&(ze=!0,X&&(s=Tr,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=Ne(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);jn(f,n.memoizedState)||(ze=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Lm(t,n,s){var l=Mt,c=Ne(),f=Ft;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!jn((oe||c).memoizedState,s);if(g&&(c.memoizedState=s,ze=!0),c=c.queue,wh(qm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,Rr(9,{destroy:void 0},Pm.bind(null,l,c,s,n),null),he===null)throw Error(a(349));f||(ss&127)!==0||Bm(l,n,s)}return s}function Bm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Mt.updateQueue,n===null?(n=uu(),Mt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Pm(t,n,s,l){n.value=s,n.getSnapshot=l,Hm(n)&&Gm(t)}function qm(t,n,s){return s(function(){Hm(n)&&Gm(t)})}function Hm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!jn(t,s)}catch{return!0}}function Gm(t){var n=Na(t,2);n!==null&&An(n,t,2)}function Sh(t){var n=dn();if(typeof t=="function"){var s=t;if(t=s(),Ua){mn(!0);try{s()}finally{mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function Fm(t,n,s,l){return t.baseState=s,bh(t,oe,typeof l=="function"?l:as)}function c1(t,n,s,l,c){if(mu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Y.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Qm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Qm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Y.T,g={};Y.T=g;try{var E=s(c,l),D=Y.S;D!==null&&D(g,E),Ym(t,n,E)}catch(q){Ah(t,n,q)}finally{f!==null&&g.types!==null&&(f.types=g.types),Y.T=f}}else try{f=s(c,l),Ym(t,n,f)}catch(q){Ah(t,n,q)}}function Ym(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Xm(t,n,l)},function(l){return Ah(t,n,l)}):Xm(t,n,s)}function Xm(t,n,s){n.status="fulfilled",n.value=s,Km(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Qm(t,s)))}function Ah(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Km(n),n=n.next;while(n!==l)}t.action=null}function Km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $m(t,n){return n}function Zm(t,n){if(Ft){var s=he.formState;if(s!==null){t:{var l=Mt;if(Ft){if(fe){e:{for(var c=fe,f=ei;c.nodeType!==8;){if(!f){c=null;break e}if(c=ii(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){fe=ii(c.nextSibling),l=c.data==="F!";break t}}Os(l)}l=!1}l&&(n=s[0])}}return s=dn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},s.queue=l,s=pg.bind(null,Mt,l),l.dispatch=s,l=Sh(!1),f=Dh.bind(null,Mt,!1,l.queue),l=dn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=c1.bind(null,Mt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Jm(t){var n=Ne();return Wm(n,oe,t)}function Wm(t,n,s){if(n=bh(t,n,$m)[0],t=hu(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ol(n)}catch(g){throw g===Sr?eu:g}else l=n;n=Ne();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Mt.flags|=2048,Rr(9,{destroy:void 0},h1.bind(null,c,s),null)),[l,f,t]}function h1(t,n){t.action=n}function tg(t){var n=Ne(),s=oe;if(s!==null)return Wm(n,s,t);Ne(),n=n.memoizedState,s=Ne();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Rr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=uu(),Mt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function eg(){return Ne().memoizedState}function fu(t,n,s,l){var c=dn();Mt.flags|=t,c.memoizedState=Rr(1|n,{destroy:void 0},s,l===void 0?null:l)}function du(t,n,s,l){var c=Ne();l=l===void 0?null:l;var f=c.memoizedState.inst;oe!==null&&l!==null&&gh(l,oe.memoizedState.deps)?c.memoizedState=Rr(n,f,s,l):(Mt.flags|=t,c.memoizedState=Rr(1|n,f,s,l))}function ng(t,n){fu(8390656,8,t,n)}function wh(t,n){du(2048,8,t,n)}function f1(t){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=uu(),Mt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function ig(t){var n=Ne().memoizedState;return f1({ref:n,nextImpl:t}),function(){if((Jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function sg(t,n){return du(4,2,t,n)}function ag(t,n){return du(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,s){s=s!=null?s.concat([t]):null,du(4,4,rg.bind(null,n,t),s)}function xh(){}function og(t,n){var s=Ne();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&gh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function ug(t,n){var s=Ne();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&gh(n,l[1]))return l[0];if(l=t(),Ua){mn(!0);try{t()}finally{mn(!1)}}return s.memoizedState=[l,n],l}function Ch(t,n,s){return s===void 0||(ss&1073741824)!==0&&(Lt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=cp(),Mt.lanes|=t,qs|=t,s)}function cg(t,n,s,l){return jn(s,n)?s:wr.current!==null?(t=Ch(t,s,l),jn(t,n)||(ze=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(Lt&261930)===0?(ze=!0,t.memoizedState=s):(t=cp(),Mt.lanes|=t,qs|=t,n)}function hg(t,n,s,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var g=Y.T,E={};Y.T=E,Dh(t,!1,n,s);try{var D=c(),q=Y.S;if(q!==null&&q(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=l1(D,l);Il(t,n,X,Pn(t))}else Il(t,n,l,Pn(t))}catch(J){Il(t,n,{then:function(){},status:"rejected",reason:J},Pn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),Y.T=g}}function d1(){}function Rh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=fg(t).queue;hg(t,c,n,ht,s===null?d1:function(){return dg(t),s(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=fg(t);n.next===null&&(n=t.alternate.memoizedState),Il(t,n.next.queue,{},Pn())}function Nh(){return $e(Zl)}function mg(){return Ne().memoizedState}function gg(){return Ne().memoizedState}function m1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Pn();t=zs(s);var l=ks(n,t,s);l!==null&&(An(l,n,s),Nl(l,n,s)),n={cache:sh()},t.payload=n;return}n=n.return}}function g1(t,n,s){var l=Pn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},mu(t)?yg(n,s):(s=Yc(t,n,s,l),s!==null&&(An(s,t,l),_g(s,n,l)))}function pg(t,n,s){var l=Pn();Il(t,n,s,l)}function Il(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(mu(t))yg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,jn(E,g))return Xo(t,n,c,0),he===null&&Yo(),!1}catch{}finally{}if(s=Yc(t,n,c,l),s!==null)return An(s,t,l),_g(s,n,l),!0}return!1}function Dh(t,n,s,l){if(l={lane:2,revertLane:uf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(n)throw Error(a(479))}else n=Yc(t,s,l,2),n!==null&&An(n,t,2)}function mu(t){var n=t.alternate;return t===Mt||n!==null&&n===Mt}function yg(t,n){xr=lu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function _g(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Qi(t,s)}}var jl={readContext:$e,use:cu,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};jl.useEffectEvent=we;var vg={readContext:$e,use:cu,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:$e,useEffect:ng,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,fu(4194308,4,rg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var s=dn();n=n===void 0?null:n;var l=t();if(Ua){mn(!0);try{t()}finally{mn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=dn();if(s!==void 0){var c=s(n);if(Ua){mn(!0);try{s(n)}finally{mn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=g1.bind(null,Mt,t),[l.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sh(t);var n=t.queue,s=pg.bind(null,Mt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:xh,useDeferredValue:function(t,n){var s=dn();return Ch(s,t,n)},useTransition:function(){var t=Sh(!1);return t=hg.bind(null,Mt,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Mt,c=dn();if(Ft){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),he===null)throw Error(a(349));(Lt&127)!==0||Bm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,ng(qm.bind(null,l,f,t),[t]),l.flags|=2048,Rr(9,{destroy:void 0},Pm.bind(null,l,f,s,n),null),s},useId:function(){var t=dn(),n=he.identifierPrefix;if(Ft){var s=Ni,l=Ri;s=(l&~(1<<32-_e(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ou++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=o1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Dh.bind(null,Mt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Eh,useCacheRefresh:function(){return dn().memoizedState=m1.bind(null,Mt)},useEffectEvent:function(t){var n=dn(),s={impl:t};return n.memoizedState=s,function(){if((Jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Vh={readContext:$e,use:cu,useCallback:og,useContext:$e,useEffect:wh,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:ug,useReducer:hu,useRef:eg,useState:function(){return hu(as)},useDebugValue:xh,useDeferredValue:function(t,n){var s=Ne();return cg(s,oe.memoizedState,t,n)},useTransition:function(){var t=hu(as)[0],n=Ne().memoizedState;return[typeof t=="boolean"?t:Ol(t),n]},useSyncExternalStore:Lm,useId:mg,useHostTransitionStatus:Nh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var s=Ne();return Fm(s,oe,t,n)},useMemoCache:Eh,useCacheRefresh:gg};Vh.useEffectEvent=ig;var Eg={readContext:$e,use:cu,useCallback:og,useContext:$e,useEffect:wh,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:ug,useReducer:Th,useRef:eg,useState:function(){return Th(as)},useDebugValue:xh,useDeferredValue:function(t,n){var s=Ne();return oe===null?Ch(s,t,n):cg(s,oe.memoizedState,t,n)},useTransition:function(){var t=Th(as)[0],n=Ne().memoizedState;return[typeof t=="boolean"?t:Ol(t),n]},useSyncExternalStore:Lm,useId:mg,useHostTransitionStatus:Nh,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var s=Ne();return oe!==null?Fm(s,oe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:gg};Eg.useEffectEvent=ig;function Mh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Oh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Pn(),c=zs(l);c.payload=n,s!=null&&(c.callback=s),n=ks(t,c,l),n!==null&&(An(n,t,l),Nl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Pn(),c=zs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ks(t,c,l),n!==null&&(An(n,t,l),Nl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Pn(),l=zs(s);l.tag=2,n!=null&&(l.callback=n),n=ks(t,l,s),n!==null&&(An(n,t,s),Nl(n,t,s))}};function bg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!bl(s,l)||!bl(c,f):!0}function Tg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function La(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Sg(t){Qo(t)}function Ag(t){console.error(t)}function wg(t){Qo(t)}function gu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function xg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ih(t,n,s){return s=zs(s),s.tag=3,s.payload={element:null},s.callback=function(){gu(t,n)},s}function Cg(t){return t=zs(t),t.tag=3,t}function Rg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){xg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){xg(n,s,l),typeof c!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function p1(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Er(n,s,c,!0),s=kn.current,s!==null){switch(s.tag){case 31:case 13:return ni===null?Cu():s.alternate===null&&xe===0&&(xe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===nu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),rf(t,l,c)),!1;case 22:return s.flags|=65536,l===nu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),rf(t,l,c)),!1}throw Error(a(435,s.tag))}return rf(t,l,c),Cu(),!1}if(Ft)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Wc&&(t=Error(a(422),{cause:l}),Al(Jn(t,s)))):(l!==Wc&&(n=Error(a(423),{cause:l}),Al(Jn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Jn(l,s),c=Ih(t.stateNode,l,c),ch(t,c),xe!==4&&(xe=2)),!1;var f=Error(a(520),{cause:l});if(f=Jn(f,s),Hl===null?Hl=[f]:Hl.push(f),xe!==4&&(xe=2),n===null)return!0;l=Jn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Ih(s.stateNode,l,t),ch(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Cg(c),Rg(c,t,s,l),ch(s,c),!1}s=s.return}while(s!==null);return!1}var jh=Error(a(461)),ze=!1;function Ze(t,n,s,l){n.child=t===null?Mm(n,null,s,l):ka(n,t.child,s,l)}function Ng(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Oa(n),l=ph(t,n,s,g,f,c),E=yh(),t!==null&&!ze?(_h(t,n,c),rs(t,n,c)):(Ft&&E&&Zc(n),n.flags|=1,Ze(t,n,l,c),n.child)}function Dg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Xc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Vg(t,n,f,l,c)):(t=$o(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:bl,s(g,l)&&t.ref===n.ref)return rs(t,n,c)}return n.flags|=1,t=ts(f,l),t.ref=n.ref,t.return=n,n.child=t}function Vg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(bl(f,l)&&t.ref===n.ref)if(ze=!1,n.pendingProps=l=f,Hh(t,c))(t.flags&131072)!==0&&(ze=!0);else return n.lanes=t.lanes,rs(t,n,c)}return zh(t,n,s,l,c)}function Mg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Og(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&tu(n,f!==null?f.cachePool:null),f!==null?jm(n,f):fh(),zm(n);else return l=n.lanes=536870912,Og(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(tu(n,f.cachePool),jm(n,f),Ls(),n.memoizedState=null):(t!==null&&tu(n,null),fh(),Ls());return Ze(t,n,c,s),n.child}function zl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Og(t,n,s,l,c){var f=rh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&tu(n,null),fh(),zm(n),t!==null&&Er(t,n,l,!0),n.childLanes=c,null}function pu(t,n){return n=_u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ig(t,n,s){return ka(n,t.child,null,s),t=pu(n,n.pendingProps),t.flags|=2,Un(n),n.memoizedState=null,t}function y1(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ft){if(l.mode==="hidden")return t=pu(n,l),n.lanes=536870912,zl(null,t);if(mh(n),(t=fe)?(t=Qp(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ri,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},s=ym(t),s.return=n,n.child=s,Ke=n,fe=null)):t=null,t===null)throw Os(n);return n.lanes=536870912,null}return pu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(mh(n),c)if(n.flags&256)n.flags&=-257,n=Ig(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(ze||Er(t,n,s,!1),c=(s&t.childLanes)!==0,ze||c){if(l=he,l!==null&&(g=ma(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Na(t,g),An(l,t,g),jh;Cu(),n=Ig(t,n,s)}else t=f.treeContext,fe=ii(g.nextSibling),Ke=n,Ft=!0,Ms=null,ei=!1,t!==null&&Em(n,t),n=pu(n,l),n.flags|=4096;return n}return t=ts(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function yu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function zh(t,n,s,l,c){return Oa(n),s=ph(t,n,s,l,void 0,c),l=yh(),t!==null&&!ze?(_h(t,n,c),rs(t,n,c)):(Ft&&l&&Zc(n),n.flags|=1,Ze(t,n,s,c),n.child)}function jg(t,n,s,l,c,f){return Oa(n),n.updateQueue=null,s=Um(n,l,s,c),km(t),l=yh(),t!==null&&!ze?(_h(t,n,f),rs(t,n,f)):(Ft&&l&&Zc(n),n.flags|=1,Ze(t,n,s,f),n.child)}function zg(t,n,s,l,c){if(Oa(n),n.stateNode===null){var f=pr,g=s.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},oh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$e(g):pr,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Mh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Oh.enqueueReplaceState(f,f.state,null),Vl(n,l,f,c),Dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=La(s,E);f.props=D;var q=f.context,X=s.contextType;g=pr,typeof X=="object"&&X!==null&&(g=$e(X));var J=s.getDerivedStateFromProps;X=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==g)&&Tg(n,f,l,g),js=!1;var G=n.memoizedState;f.state=G,Vl(n,l,f,c),Dl(),q=n.memoizedState,E||G!==q||js?(typeof J=="function"&&(Mh(n,s,J,l),q=n.memoizedState),(D=js||bg(n,s,D,l,G,q,g))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uh(t,n),g=n.memoizedProps,X=La(s,g),f.props=X,J=n.pendingProps,G=f.context,q=s.contextType,D=pr,typeof q=="object"&&q!==null&&(D=$e(q)),E=s.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==J||G!==D)&&Tg(n,f,l,D),js=!1,G=n.memoizedState,f.state=G,Vl(n,l,f,c),Dl();var Q=n.memoizedState;g!==J||G!==Q||js||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof E=="function"&&(Mh(n,s,E,l),Q=n.memoizedState),(X=js||bg(n,s,X,l,G,Q,D)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),f.props=l,f.state=Q,f.context=D,l=X):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,yu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ka(n,t.child,null,c),n.child=ka(n,null,s,c)):Ze(t,n,s,c),n.memoizedState=f.state,t=n.child):t=rs(t,n,c),t}function kg(t,n,s,l){return Va(),n.flags|=256,Ze(t,n,s,l),n.child}var kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uh(t){return{baseLanes:t,cachePool:xm()}}function Lh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Bn),t}function Ug(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ft){if(c?Us(n):Ls(),(t=fe)?(t=Qp(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ri,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},s=ym(t),s.return=n,n.child=s,Ke=n,fe=null)):t=null,t===null)throw Os(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Ls(),c=n.mode,E=_u({mode:"hidden",children:E},c),l=Da(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Uh(s),l.childLanes=Lh(t,g,s),n.memoizedState=kh,zl(null,l)):(Us(n),Bh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Ph(t,n,s)):n.memoizedState!==null?(Ls(),n.child=t.child,n.flags|=128,n=null):(Ls(),E=l.fallback,c=n.mode,l=_u({mode:"visible",children:l.children},c),E=Da(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ka(n,t.child,null,s),l=n.child,l.memoizedState=Uh(s),l.childLanes=Lh(t,g,s),n.memoizedState=kh,n=zl(null,l));else if(Us(n),Tf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var q=g.dgst;g=q,l=Error(a(419)),l.stack="",l.digest=g,Al({value:l,source:null,stack:null}),n=Ph(t,n,s)}else if(ze||Er(t,n,s,!1),g=(s&t.childLanes)!==0,ze||g){if(g=he,g!==null&&(l=ma(g,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,Na(t,l),An(g,t,l),jh;bf(E)||Cu(),n=Ph(t,n,s)}else bf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,fe=ii(E.nextSibling),Ke=n,Ft=!0,Ms=null,ei=!1,t!==null&&Em(n,t),n=Bh(n,l.children),n.flags|=4096);return n}return c?(Ls(),E=l.fallback,c=n.mode,D=t.child,q=D.sibling,l=ts(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?E=ts(q,E):(E=Da(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,zl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Uh(s):(c=E.cachePool,c!==null?(D=Ie._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=xm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Lh(t,g,s),n.memoizedState=kh,zl(t.child,l)):(Us(n),s=t.child,t=s.sibling,s=ts(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Bh(t,n){return n=_u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function _u(t,n){return t=zn(22,t,null,n),t.lanes=0,t}function Ph(t,n,s){return ka(n,t.child,null,s),t=Bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nh(t.return,n,s)}function qh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Bg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=Re.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,lt(Re,g),Ze(t,n,l,s),l=Ft?Sl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,s,n);else if(t.tag===19)Lg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&ru(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),qh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ru(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}qh(n,!0,s,null,f,l);break;case"together":qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function rs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),qs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Er(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ts(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ts(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Hh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function _1(t,n,s){switch(n.tag){case 3:Ut(n,n.stateNode.containerInfo),Is(n,Ie,t.memoizedState.cache),Va();break;case 27:case 5:xn(n);break;case 4:Ut(n,n.stateNode.containerInfo);break;case 10:Is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ug(t,n,s):(Us(n),t=rs(t,n,s),t!==null?t.sibling:null);Us(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Er(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Bg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),lt(Re,Re.current),l)break;return null;case 22:return n.lanes=0,Mg(t,n,s,n.pendingProps);case 24:Is(n,Ie,t.memoizedState.cache)}return rs(t,n,s)}function Pg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)ze=!0;else{if(!Hh(t,s)&&(n.flags&128)===0)return ze=!1,_1(t,n,s);ze=(t.flags&131072)!==0}else ze=!1,Ft&&(n.flags&1048576)!==0&&vm(n,Sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ja(n.elementType),n.type=t,typeof t=="function")Xc(t)?(l=La(t,l),n.tag=1,n=zg(null,n,t,l,s)):(n.tag=0,n=zh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===yt){n.tag=11,n=Ng(null,n,t,l,s);break t}else if(c===C){n.tag=14,n=Dg(null,n,t,l,s);break t}}throw n=Xt(t)||t,Error(a(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=La(l,n.pendingProps),zg(t,n,l,c,s);case 3:t:{if(Ut(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uh(t,n),Vl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Is(n,Ie,l),l!==f.cache&&ih(n,[Ie],s,!0),Dl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kg(t,n,l,s);break t}else if(l!==c){c=Jn(Error(a(424)),n),Al(c),n=kg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fe=ii(t.firstChild),Ke=n,Ft=!0,Ms=null,ei=!0,s=Mm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Va(),l===c){n=rs(t,n,s);break t}Ze(t,n,l,s)}n=n.child}return n;case 26:return yu(t,n),t===null?(s=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ft||(s=n.type,t=n.pendingProps,l=Iu(xt.current).createElement(s),l[Se]=n,l[Oe]=t,Je(l,s,t),Ee(l),n.stateNode=l):n.memoizedState=Jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xn(n),t===null&&Ft&&(l=n.stateNode=Kp(n.type,n.pendingProps,xt.current),Ke=n,ei=!0,c=fe,Ys(n.type)?(Sf=c,fe=ii(l.firstChild)):fe=c),Ze(t,n,n.pendingProps.children,s),yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ft&&((c=l=fe)&&(l=X1(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,Ke=n,fe=ii(l.firstChild),ei=!1,c=!0):c=!1),c||Os(n)),xn(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,_f(c,f)?l=null:g!==null&&_f(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=ph(t,n,u1,null,null,s),Zl._currentValue=c),yu(t,n),Ze(t,n,l,s),n.child;case 6:return t===null&&Ft&&((t=s=fe)&&(s=K1(s,n.pendingProps,ei),s!==null?(n.stateNode=s,Ke=n,fe=null,t=!0):t=!1),t||Os(n)),null;case 13:return Ug(t,n,s);case 4:return Ut(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ka(n,null,l,s):Ze(t,n,l,s),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,s);case 7:return Ze(t,n,n.pendingProps,s),n.child;case 8:return Ze(t,n,n.pendingProps.children,s),n.child;case 12:return Ze(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Is(n,n.type,l.value),Ze(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Oa(n),c=$e(c),l=l(c),n.flags|=1,Ze(t,n,l,s),n.child;case 14:return Dg(t,n,n.type,n.pendingProps,s);case 15:return Vg(t,n,n.type,n.pendingProps,s);case 19:return Bg(t,n,s);case 31:return y1(t,n,s);case 22:return Mg(t,n,s,n.pendingProps);case 24:return Oa(n),l=$e(Ie),t===null?(c=rh(),c===null&&(c=he,f=sh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},oh(n),Is(n,Ie,c)):((t.lanes&s)!==0&&(uh(t,n),Vl(n,null,null,s),Dl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Is(n,Ie,l)):(l=f.cache,Is(n,Ie,l),l!==c.cache&&ih(n,[Ie],s,!0))),Ze(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ls(t){t.flags|=4}function Gh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(mp())t.flags|=8192;else throw za=nu,lh}else t.flags&=-16777217}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n))if(mp())t.flags|=8192;else throw za=nu,lh}function vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Wa():536870912,t.lanes|=n,Mr|=n)}function kl(t,n){if(!Ft)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function de(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function v1(t,n,s){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),is(Ie),te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vr(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,th())),de(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(ls(n),f!==null?(de(n),qg(n,f)):(de(n),Gh(n,c,null,l,s))):f?f!==t.memoizedState?(ls(n),de(n),qg(n,f)):(de(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ls(n),de(n),Gh(n,c,t,l,s)),null;case 27:if(Cn(n),s=xt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return de(n),null}t=at.current,vr(n)?bm(n):(t=Kp(c,l,s),n.stateNode=t,ls(n))}return de(n),null;case 5:if(Cn(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(f=at.current,vr(n))bm(n);else{var g=Iu(xt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Se]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ls(n)}}return de(n),Gh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=xt.current,vr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Se]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Up(t.nodeValue,s)),t||Os(n,!0)}else t=Iu(t).createTextNode(l),t[Se]=n,n.stateNode=t}return de(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=vr(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Se]=n}else Va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),t=!1}else s=th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Un(n),n):(Un(n),null);if((n.flags&128)!==0)throw Error(a(558))}return de(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=vr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Se]=n}else Va(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),c=!1}else c=th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Un(n),n):(Un(n),null)}return Un(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),vu(n,n.updateQueue),de(n),null);case 4:return te(),t===null&&df(n.stateNode.containerInfo),de(n),null;case 10:return is(n.type),de(n),null;case 19:if($(Re),l=n.memoizedState,l===null)return de(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)kl(l,!1);else{if(xe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ru(t),f!==null){for(n.flags|=128,kl(l,!1),t=f.updateQueue,n.updateQueue=t,vu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)pm(s,t),s=s.sibling;return lt(Re,Re.current&1|2),Ft&&es(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&re()>Au&&(n.flags|=128,c=!0,kl(l,!1),n.lanes=4194304)}else{if(!c)if(t=ru(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,vu(n,t),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ft)return de(n),null}else 2*re()-l.renderingStartTime>Au&&s!==536870912&&(n.flags|=128,c=!0,kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=re(),t.sibling=null,s=Re.current,lt(Re,c?s&1|2:s&1),Ft&&es(n,l.treeForkCount),t):(de(n),null);case 22:case 23:return Un(n),dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&vu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&$(Ia),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),is(Ie),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function E1(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(Ie),te(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cn(n),null;case 31:if(n.memoizedState!==null){if(Un(n),n.alternate===null)throw Error(a(340));Va()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Un(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Va()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(Re),null;case 4:return te(),null;case 10:return is(n.type),null;case 22:case 23:return Un(n),dh(),t!==null&&$(Ia),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(Ie),null;case 25:return null;default:return null}}function Hg(t,n){switch(Jc(n),n.tag){case 3:is(Ie),te();break;case 26:case 27:case 5:Cn(n);break;case 4:te();break;case 31:n.memoizedState!==null&&Un(n);break;case 13:Un(n);break;case 19:$(Re);break;case 10:is(n.type);break;case 22:case 23:Un(n),dh(),t!==null&&$(Ia);break;case 24:is(Ie)}}function Ul(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){se(n,n.return,E)}}function Bs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var D=s,q=E;try{q()}catch(X){se(c,D,X)}}}l=l.next}while(l!==f)}}catch(X){se(n,n.return,X)}}function Gg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Im(n,s)}catch(l){se(t,t.return,l)}}}function Fg(t,n,s){s.props=La(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){se(t,n,l)}}function Ll(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){se(t,n,c)}}function Di(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){se(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){se(t,n,c)}else s.current=null}function Qg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){se(t,t.return,c)}}function Fh(t,n,s){try{var l=t.stateNode;q1(l,t.type,s,n),l[Oe]=n}catch(c){se(t,t.return,c)}}function Yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=hi));else if(l!==4&&(l===27&&Ys(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Yh(t,n,s),t=t.sibling;t!==null;)Yh(t,n,s),t=t.sibling}function Eu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Eu(t,n,s),t=t.sibling;t!==null;)Eu(t,n,s),t=t.sibling}function Xg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Je(n,l,s),n[Se]=t,n[Oe]=s}catch(f){se(t,t.return,f)}}var os=!1,ke=!1,Xh=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function b1(t,n){if(t=t.containerInfo,pf=Pu,t=lm(t),Pc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,D=-1,q=0,X=0,J=t,G=null;e:for(;;){for(var Q;J!==s||c!==0&&J.nodeType!==3||(E=g+c),J!==f||l!==0&&J.nodeType!==3||(D=g+l),J.nodeType===3&&(g+=J.nodeValue.length),(Q=J.firstChild)!==null;)G=J,J=Q;for(;;){if(J===t)break e;if(G===s&&++q===c&&(E=g),G===f&&++X===l&&(D=g),(Q=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=Q}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(yf={focusedElem:t,selectionRange:s},Pu=!1,Fe=n;Fe!==null;)if(n=Fe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Fe=t;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ct=La(s.type,c);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){se(s,s.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Ef(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Fe=t;break}Fe=n.return}}function $g(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:cs(t,s),l&4&&Ul(5,s);break;case 1:if(cs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){se(s,s.return,g)}else{var c=La(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){se(s,s.return,g)}}l&64&&Gg(s),l&512&&Ll(s,s.return);break;case 3:if(cs(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Im(t,n)}catch(g){se(s,s.return,g)}}break;case 27:n===null&&l&4&&Xg(s);case 26:case 5:cs(t,s),n===null&&l&4&&Qg(s),l&512&&Ll(s,s.return);break;case 12:cs(t,s);break;case 31:cs(t,s),l&4&&Wg(t,s);break;case 13:cs(t,s),l&4&&tp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=D1.bind(null,s),$1(t,s))));break;case 22:if(l=s.memoizedState!==null||os,!l){n=n!==null&&n.memoizedState!==null||ke,c=os;var f=ke;os=l,(ke=n)&&!f?hs(t,s,(s.subtreeFlags&8772)!==0):cs(t,s),os=c,ke=f}break;case 30:break;default:cs(t,s)}}function Zg(t){var n=t.alternate;n!==null&&(t.alternate=null,Zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ts(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ye=null,En=!1;function us(t,n,s){for(s=s.child;s!==null;)Jg(t,n,s),s=s.sibling}function Jg(t,n,s){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Te,s)}catch{}switch(s.tag){case 26:ke||Di(s,n),us(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ke||Di(s,n);var l=ye,c=En;Ys(s.type)&&(ye=s.stateNode,En=!1),us(t,n,s),Xl(s.stateNode),ye=l,En=c;break;case 5:ke||Di(s,n);case 6:if(l=ye,c=En,ye=null,us(t,n,s),ye=l,En=c,ye!==null)if(En)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(s.stateNode)}catch(f){se(s,n,f)}else try{ye.removeChild(s.stateNode)}catch(f){se(s,n,f)}break;case 18:ye!==null&&(En?(t=ye,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Br(t)):Gp(ye,s.stateNode));break;case 4:l=ye,c=En,ye=s.stateNode.containerInfo,En=!0,us(t,n,s),ye=l,En=c;break;case 0:case 11:case 14:case 15:Bs(2,s,n),ke||Bs(4,s,n),us(t,n,s);break;case 1:ke||(Di(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fg(s,n,l)),us(t,n,s);break;case 21:us(t,n,s);break;case 22:ke=(l=ke)||s.memoizedState!==null,us(t,n,s),ke=l;break;default:us(t,n,s)}}function Wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Br(t)}catch(s){se(n,n.return,s)}}}function tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Br(t)}catch(s){se(n,n.return,s)}}function T1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Kg),n;default:throw Error(a(435,t.tag))}}function bu(t,n){var s=T1(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=V1.bind(null,t,l);l.then(c,c)}})}function bn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){ye=E.stateNode,En=!1;break t}break;case 5:ye=E.stateNode,En=!1;break t;case 3:case 4:ye=E.stateNode.containerInfo,En=!0;break t}E=E.return}if(ye===null)throw Error(a(160));Jg(f,g,c),ye=null,En=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ep(n,t),n=n.sibling}var yi=null;function ep(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Tn(t),l&4&&(Bs(3,t,t.return),Ul(3,t),Bs(5,t,t.return));break;case 1:bn(n,t),Tn(t),l&512&&(ke||s===null||Di(s,s.return)),l&64&&os&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=yi;if(bn(n,t),Tn(t),l&512&&(ke||s===null||Di(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fn]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Je(f,l,s),f[Se]=t,Ee(f),l=f;break t;case"link":var g=ey("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Je(f,l,s),c.head.appendChild(f);break;case"meta":if(g=ey("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Je(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Se]=t,Ee(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fh(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(n,t),Tn(t),l&512&&(ke||s===null||Di(s,s.return)),s!==null&&l&4&&Fh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(n,t),Tn(t),l&512&&(ke||s===null||Di(s,s.return)),t.flags&32){c=t.stateNode;try{vn(c,"")}catch(ct){se(t,t.return,ct)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Fh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Xh=!0);break;case 6:if(bn(n,t),Tn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ct){se(t,t.return,ct)}}break;case 3:if(ku=null,c=yi,yi=ju(n.containerInfo),bn(n,t),yi=c,Tn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Br(n.containerInfo)}catch(ct){se(t,t.return,ct)}Xh&&(Xh=!1,np(t));break;case 4:l=yi,yi=ju(t.stateNode.containerInfo),bn(n,t),Tn(t),yi=l;break;case 12:bn(n,t),Tn(t);break;case 31:bn(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 13:bn(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Su=re()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 22:c=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,q=os,X=ke;if(os=q||c,ke=X||D,bn(n,t),ke=X,os=q,Tn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||D||os||ke||Ba(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var J=D.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ct){se(D,D.return,ct)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ct){se(D,D.return,ct)}}}else if(n.tag===18){if(s===null){D=n;try{var Q=D.stateNode;c?Fp(Q,!0):Fp(D.stateNode,!1)}catch(ct){se(D,D.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,bu(t,s))));break;case 19:bn(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 30:break;case 21:break;default:bn(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Yg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Qh(t);Eu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(vn(g,""),s.flags&=-33);var E=Qh(t);Eu(t,E,g);break;case 3:case 4:var D=s.stateNode.containerInfo,q=Qh(t);Yh(t,q,D);break;default:throw Error(a(161))}}catch(X){se(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$g(t,n.alternate,n),n=n.sibling}function Ba(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Ba(n);break;case 1:Di(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fg(n,n.return,s),Ba(n);break;case 27:Xl(n.stateNode);case 26:case 5:Di(n,n.return),Ba(n);break;case 22:n.memoizedState===null&&Ba(n);break;case 30:Ba(n);break;default:Ba(n)}t=t.sibling}}function hs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hs(c,f,s),Ul(4,f);break;case 1:if(hs(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){se(l,l.return,q)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Om(D[c],E)}catch(q){se(l,l.return,q)}}s&&g&64&&Gg(f),Ll(f,f.return);break;case 27:Xg(f);case 26:case 5:hs(c,f,s),s&&l===null&&g&4&&Qg(f),Ll(f,f.return);break;case 12:hs(c,f,s);break;case 31:hs(c,f,s),s&&g&4&&Wg(c,f);break;case 13:hs(c,f,s),s&&g&4&&tp(c,f);break;case 22:f.memoizedState===null&&hs(c,f,s),Ll(f,f.return);break;case 30:break;default:hs(c,f,s)}n=n.sibling}}function Kh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&wl(s))}function $h(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&wl(t))}function _i(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ip(t,n,s,l),n=n.sibling}function ip(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:_i(t,n,s,l),c&2048&&Ul(9,n);break;case 1:_i(t,n,s,l);break;case 3:_i(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&wl(t)));break;case 12:if(c&2048){_i(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){se(n,n.return,D)}}else _i(t,n,s,l);break;case 31:_i(t,n,s,l);break;case 13:_i(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?_i(t,n,s,l):Bl(t,n):f._visibility&2?_i(t,n,s,l):(f._visibility|=2,Nr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Kh(g,n);break;case 24:_i(t,n,s,l),c&2048&&$h(n.alternate,n);break;default:_i(t,n,s,l)}}function Nr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,D=l,q=g.flags;switch(g.tag){case 0:case 11:case 15:Nr(f,g,E,D,c),Ul(8,g);break;case 23:break;case 22:var X=g.stateNode;g.memoizedState!==null?X._visibility&2?Nr(f,g,E,D,c):Bl(f,g):(X._visibility|=2,Nr(f,g,E,D,c)),c&&q&2048&&Kh(g.alternate,g);break;case 24:Nr(f,g,E,D,c),c&&q&2048&&$h(g.alternate,g);break;default:Nr(f,g,E,D,c)}n=n.sibling}}function Bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Bl(s,l),c&2048&&Kh(l.alternate,l);break;case 24:Bl(s,l),c&2048&&$h(l.alternate,l);break;default:Bl(s,l)}n=n.sibling}}var Pl=8192;function Dr(t,n,s){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)sp(t,n,s),t=t.sibling}function sp(t,n,s){switch(t.tag){case 26:Dr(t,n,s),t.flags&Pl&&t.memoizedState!==null&&oE(s,yi,t.memoizedState,t.memoizedProps);break;case 5:Dr(t,n,s);break;case 3:case 4:var l=yi;yi=ju(t.stateNode.containerInfo),Dr(t,n,s),yi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,Dr(t,n,s),Pl=l):Dr(t,n,s));break;default:Dr(t,n,s)}}function ap(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Fe=l,lp(l,t)}ap(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Tu(t)):ql(t);break;default:ql(t)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Fe=l,lp(l,t)}ap(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),Tu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Tu(n));break;default:Tu(n)}t=t.sibling}}function lp(t,n){for(;Fe!==null;){var s=Fe;switch(s.tag){case 0:case 11:case 15:Bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Fe=l;else t:for(s=t;Fe!==null;){l=Fe;var c=l.sibling,f=l.return;if(Zg(l),l===s){Fe=null;break t}if(c!==null){c.return=f,Fe=c;break t}Fe=f}}}var S1={getCacheForType:function(t){var n=$e(Ie),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return $e(Ie).controller.signal}},A1=typeof WeakMap=="function"?WeakMap:Map,Jt=0,he=null,zt=null,Lt=0,ie=0,Ln=null,Ps=!1,Vr=!1,Zh=!1,fs=0,xe=0,qs=0,Pa=0,Jh=0,Bn=0,Mr=0,Hl=null,Sn=null,Wh=!1,Su=0,op=0,Au=1/0,wu=null,Hs=null,Be=0,Gs=null,Or=null,ds=0,tf=0,ef=null,up=null,Gl=0,nf=null;function Pn(){return(Jt&2)!==0&&Lt!==0?Lt&-Lt:Y.T!==null?uf():tr()}function cp(){if(Bn===0)if((Lt&536870912)===0||Ft){var t=Gi;Gi<<=1,(Gi&3932160)===0&&(Gi=262144),Bn=t}else Bn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Bn}function An(t,n,s){(t===he&&(ie===2||ie===9)||t.cancelPendingCommit!==null)&&(Ir(t,0),Fs(t,Lt,Bn,!1)),Fi(t,s),((Jt&2)===0||t!==he)&&(t===he&&((Jt&2)===0&&(Pa|=s),xe===4&&Fs(t,Lt,Bn,!1)),Vi(t))}function hp(t,n,s){if((Jt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||pn(t,n),c=l?C1(t,n):af(t,n,!0),f=l;do{if(c===0){Vr&&!l&&Fs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!w1(s)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Hl;var D=E.current.memoizedState.isDehydrated;if(D&&(Ir(E,g).flags|=256),g=af(E,g,!1),g!==2){if(Zh&&!D){E.errorRecoveryDisabledLanes|=f,Pa|=f,c=4;break t}f=Sn,Sn=c,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ir(t,0),Fs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fs(l,n,Bn,!Ps);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Su+300-re(),10<c)){if(Fs(l,n,Bn,!Ps),Dn(l,0,!0)!==0)break t;ds=n,l.timeoutHandle=qp(fp.bind(null,l,s,Sn,wu,Wh,n,Bn,Pa,Mr,Ps,f,"Throttled",-0,0),c);break t}fp(l,s,Sn,wu,Wh,n,Bn,Pa,Mr,Ps,f,null,-0,0)}}break}while(!0);Vi(t)}function fp(t,n,s,l,c,f,g,E,D,q,X,J,G,Q){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},sp(n,f,J);var ct=(f&62914560)===f?Su-re():(f&4194048)===f?op-re():0;if(ct=uE(J,ct),ct!==null){ds=f,t.cancelPendingCommit=ct(Ep.bind(null,t,n,f,s,l,c,g,E,D,X,J,null,G,Q)),Fs(t,f,g,!q);return}}Ep(t,n,f,s,l,c,g,E,D)}function w1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!jn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fs(t,n,s,l){n&=~Jh,n&=~Pa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-_e(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&hn(t,s,n)}function xu(){return(Jt&6)===0?(Fl(0),!1):!0}function sf(){if(zt!==null){if(ie===0)var t=zt.return;else t=zt,ns=Ma=null,vh(t),Ar=null,Cl=0,t=zt;for(;t!==null;)Hg(t.alternate,t),t=t.return;zt=null}}function Ir(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,F1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ds=0,sf(),he=t,zt=s=ts(t.current,null),Lt=n,ie=0,Ln=null,Ps=!1,Vr=pn(t,n),Zh=!1,Mr=Bn=Jh=Pa=qs=xe=0,Sn=Hl=null,Wh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-_e(l),f=1<<c;n|=t[c],l&=~f}return fs=n,Yo(),s}function dp(t,n){Mt=null,Y.H=jl,n===Sr||n===eu?(n=Nm(),ie=3):n===lh?(n=Nm(),ie=4):ie=n===jh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,zt===null&&(xe=1,gu(t,Jn(n,t.current)))}function mp(){var t=kn.current;return t===null?!0:(Lt&4194048)===Lt?ni===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?t===ni:!1}function gp(){var t=Y.H;return Y.H=jl,t===null?jl:t}function pp(){var t=Y.A;return Y.A=S1,t}function Cu(){xe=4,Ps||(Lt&4194048)!==Lt&&kn.current!==null||(Vr=!0),(qs&134217727)===0&&(Pa&134217727)===0||he===null||Fs(he,Lt,Bn,!1)}function af(t,n,s){var l=Jt;Jt|=2;var c=gp(),f=pp();(he!==t||Lt!==n)&&(wu=null,Ir(t,n)),n=!1;var g=xe;t:do try{if(ie!==0&&zt!==null){var E=zt,D=Ln;switch(ie){case 8:sf(),g=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var q=ie;if(ie=0,Ln=null,jr(t,E,D,q),s&&Vr){g=0;break t}break;default:q=ie,ie=0,Ln=null,jr(t,E,D,q)}}x1(),g=xe;break}catch(X){dp(t,X)}while(!0);return n&&t.shellSuspendCounter++,ns=Ma=null,Jt=l,Y.H=c,Y.A=f,zt===null&&(he=null,Lt=0,Yo()),g}function x1(){for(;zt!==null;)yp(zt)}function C1(t,n){var s=Jt;Jt|=2;var l=gp(),c=pp();he!==t||Lt!==n?(wu=null,Au=re()+500,Ir(t,n)):Vr=pn(t,n);t:do try{if(ie!==0&&zt!==null){n=zt;var f=Ln;e:switch(ie){case 1:ie=0,Ln=null,jr(t,n,f,1);break;case 2:case 9:if(Cm(f)){ie=0,Ln=null,_p(n);break}n=function(){ie!==2&&ie!==9||he!==t||(ie=7),Vi(t)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:Cm(f)?(ie=0,Ln=null,_p(n)):(ie=0,Ln=null,jr(t,n,f,7));break;case 5:var g=null;switch(zt.tag){case 26:g=zt.memoizedState;case 5:case 27:var E=zt;if(g?iy(g):E.stateNode.complete){ie=0,Ln=null;var D=E.sibling;if(D!==null)zt=D;else{var q=E.return;q!==null?(zt=q,Ru(q)):zt=null}break e}}ie=0,Ln=null,jr(t,n,f,5);break;case 6:ie=0,Ln=null,jr(t,n,f,6);break;case 8:sf(),xe=6;break t;default:throw Error(a(462))}}R1();break}catch(X){dp(t,X)}while(!0);return ns=Ma=null,Y.H=l,Y.A=c,Jt=s,zt!==null?0:(he=null,Lt=0,Yo(),xe)}function R1(){for(;zt!==null&&!ui();)yp(zt)}function yp(t){var n=Pg(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?Ru(t):zt=n}function _p(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=jg(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=jg(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:vh(n);default:Hg(s,n),n=zt=pm(n,fs),n=Pg(s,n,fs)}t.memoizedProps=t.pendingProps,n===null?Ru(t):zt=n}function jr(t,n,s,l){ns=Ma=null,vh(n),Ar=null,Cl=0;var c=n.return;try{if(p1(t,c,n,s,Lt)){xe=1,gu(t,Jn(s,t.current)),zt=null;return}}catch(f){if(c!==null)throw zt=c,f;xe=1,gu(t,Jn(s,t.current)),zt=null;return}n.flags&32768?(Ft||l===1?t=!0:Vr||(Lt&536870912)!==0?t=!1:(Ps=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):Ru(n)}function Ru(t){var n=t;do{if((n.flags&32768)!==0){vp(n,Ps);return}t=n.return;var s=v1(n.alternate,n,fs);if(s!==null){zt=s;return}if(n=n.sibling,n!==null){zt=n;return}zt=n=t}while(n!==null);xe===0&&(xe=5)}function vp(t,n){do{var s=E1(t.alternate,t);if(s!==null){s.flags&=32767,zt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){zt=t;return}zt=t=s}while(t!==null);xe=6,zt=null}function Ep(t,n,s,l,c,f,g,E,D){t.cancelPendingCommit=null;do Nu();while(Be!==0);if((Jt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qc,ol(t,s,f,g,E,D),t===he&&(zt=he=null,Lt=0),Or=n,Gs=t,ds=s,tf=f,ef=c,up=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,M1(Ei,function(){return wp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,c=it.p,it.p=2,g=Jt,Jt|=4;try{b1(t,n,s)}finally{Jt=g,it.p=c,Y.T=l}}Be=1,bp(),Tp(),Sp()}}function bp(){if(Be===1){Be=0;var t=Gs,n=Or,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=it.p;it.p=2;var c=Jt;Jt|=4;try{ep(n,t);var f=yf,g=lm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&rm(E.ownerDocument.documentElement,E)){if(D!==null&&Pc(E)){var q=D.start,X=D.end;if(X===void 0&&(X=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(X,E.value.length);else{var J=E.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var Q=G.getSelection(),ct=E.textContent.length,Tt=Math.min(D.start,ct),ce=D.end===void 0?Tt:Math.min(D.end,ct);!Q.extend&&Tt>ce&&(g=ce,ce=Tt,Tt=g);var k=am(E,Tt),O=am(E,ce);if(k&&O&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var B=J.createRange();B.setStart(k.node,k.offset),Q.removeAllRanges(),Tt>ce?(Q.addRange(B),Q.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),Q.addRange(B))}}}}for(J=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Z=J[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Pu=!!pf,yf=pf=null}finally{Jt=c,it.p=l,Y.T=s}}t.current=n,Be=2}}function Tp(){if(Be===2){Be=0;var t=Gs,n=Or,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=it.p;it.p=2;var c=Jt;Jt|=4;try{$g(t,n.alternate,n)}finally{Jt=c,it.p=l,Y.T=s}}Be=3}}function Sp(){if(Be===4||Be===3){Be=0,ca();var t=Gs,n=Or,s=ds,l=up;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,Or=Gs=null,Ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Hs=null),ci(s),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Te,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,c=it.p,it.p=2,Y.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{Y.T=n,it.p=c}}(ds&3)!==0&&Nu(),Vi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===nf?Gl++:(Gl=0,nf=t):Gl=0,Fl(0)}}function Ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,wl(n)))}function Nu(){return bp(),Tp(),Sp(),wp()}function wp(){if(Be!==5)return!1;var t=Gs,n=tf;tf=0;var s=ci(ds),l=Y.T,c=it.p;try{it.p=32>s?32:s,Y.T=null,s=ef,ef=null;var f=Gs,g=ds;if(Be=0,Or=Gs=null,ds=0,(Jt&6)!==0)throw Error(a(331));var E=Jt;if(Jt|=4,rp(f.current),ip(f,f.current,g,s),Jt=E,Fl(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Te,f)}catch{}return!0}finally{it.p=c,Y.T=l,Ap(t,n)}}function xp(t,n,s){n=Jn(s,n),n=Ih(t.stateNode,n,2),t=ks(t,n,2),t!==null&&(Fi(t,2),Vi(t))}function se(t,n,s){if(t.tag===3)xp(t,t,s);else for(;n!==null;){if(n.tag===3){xp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){t=Jn(s,t),s=Cg(2),l=ks(n,s,2),l!==null&&(Rg(s,l,n,t),Fi(l,2),Vi(l));break}}n=n.return}}function rf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new A1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Zh=!0,c.add(s),t=N1.bind(null,t,n,s),n.then(t,t))}function N1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,he===t&&(Lt&s)===s&&(xe===4||xe===3&&(Lt&62914560)===Lt&&300>re()-Su?(Jt&2)===0&&Ir(t,0):Jh|=s,Mr===Lt&&(Mr=0)),Vi(t)}function Cp(t,n){n===0&&(n=Wa()),t=Na(t,n),t!==null&&(Fi(t,n),Vi(t))}function D1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Cp(t,s)}function V1(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Cp(t,s)}function M1(t,n){return Gt(t,n)}var Du=null,zr=null,lf=!1,Vu=!1,of=!1,Qs=0;function Vi(t){t!==zr&&t.next===null&&(zr===null?Du=zr=t:zr=zr.next=t),Vu=!0,lf||(lf=!0,I1())}function Fl(t,n){if(!of&&Vu){of=!0;do for(var s=!1,l=Du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-_e(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Vp(l,f))}else f=Lt,f=Dn(l,l===he?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||pn(l,f)||(s=!0,Vp(l,f));l=l.next}while(s);of=!1}}function O1(){Rp()}function Rp(){Vu=lf=!1;var t=0;Qs!==0&&G1()&&(t=Qs);for(var n=re(),s=null,l=Du;l!==null;){var c=l.next,f=Np(l,n);f===0?(l.next=null,s===null?Du=c:s.next=c,c===null&&(zr=s)):(s=l,(t!==0||(f&3)!==0)&&(Vu=!0)),l=c}Be!==0&&Be!==5||Fl(t),Qs!==0&&(Qs=0)}function Np(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,D=c[g];D===-1?((E&s)===0||(E&l)!==0)&&(c[g]=ll(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=he,s=Lt,s=Dn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(ie===2||ie===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ve(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||pn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ve(l),ci(s)){case 2:case 8:s=fa;break;case 32:s=Ei;break;case 268435456:s=da;break;default:s=Ei}return l=Dp.bind(null,t),s=Gt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ve(l),t.callbackPriority=2,t.callbackNode=null,2}function Dp(t,n){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Nu()&&t.callbackNode!==s)return null;var l=Lt;return l=Dn(t,t===he?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hp(t,l,n),Np(t,re()),t.callbackNode!=null&&t.callbackNode===s?Dp.bind(null,t):null)}function Vp(t,n){if(Nu())return null;hp(t,n,!0)}function I1(){Q1(function(){(Jt&6)!==0?Gt(ha,O1):Rp()})}function uf(){if(Qs===0){var t=br;t===0&&(t=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),Qs=t}return Qs}function Mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rr(""+t)}function Op(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function j1(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Mp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Mp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ai("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var D=g?Op(c,g):new FormData(c);Rh(s,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=g?Op(c,g):new FormData(c),Rh(s,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var cf=0;cf<Fc.length;cf++){var hf=Fc[cf],z1=hf.toLowerCase(),k1=hf[0].toUpperCase()+hf.slice(1);pi(z1,"on"+k1)}pi(cm,"onAnimationEnd"),pi(hm,"onAnimationIteration"),pi(fm,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(Wv,"onTransitionRun"),pi(t1,"onTransitionStart"),pi(e1,"onTransitionCancel"),pi(dm,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Ip(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],D=E.instance,q=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(X){Qo(X)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(E=l[g],D=E.instance,q=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=q;try{f(c)}catch(X){Qo(X)}c.currentTarget=null,f=D}}}}function kt(t,n){var s=n[Xi];s===void 0&&(s=n[Xi]=new Set);var l=t+"__bubble";s.has(l)||(jp(n,t,2,!1),s.add(l))}function ff(t,n,s){var l=0;n&&(l|=4),jp(s,t,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function df(t){if(!t[Mu]){t[Mu]=!0,ga.forEach(function(s){s!=="selectionchange"&&(U1.has(s)||ff(s,!1,t),ff(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,ff("selectionchange",!1,n))}}function jp(t,n,s,l){switch(cy(n)){case 2:var c=fE;break;case 8:c=dE;break;default:c=Rf}s=c.bind(null,n,s,t),c=void 0,!ba||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function mf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Qn(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Cs(function(){var q=f,X=Xn(s),J=[];t:{var G=mm.get(t);if(G!==void 0){var Q=Ai,ct=t;switch(t){case"keypress":if(Sa(s)===0)break t;case"keydown":case"keyup":Q=Ho;break;case"focusin":ct="focus",Q=wa;break;case"focusout":ct="blur",Q=wa;break;case"beforeblur":case"afterblur":Q=wa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Io;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case cm:case hm:case fm:Q=zo;break;case dm:Q=T;break;case"scroll":case"scrollend":Q=pl;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wi;break;case"toggle":case"beforetoggle":Q=Vt}var Tt=(n&4)!==0,ce=!Tt&&(t==="scroll"||t==="scrollend"),k=Tt?G!==null?G+"Capture":null:G;Tt=[];for(var O=q,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||k===null||(Z=fi(O,k),Z!=null&&Tt.push(Yl(O,Z,B))),ce)break;O=O.return}0<Tt.length&&(G=new Q(G,ct,null,s,X),J.push({event:G,listeners:Tt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&s!==dl&&(ct=s.relatedTarget||s.fromElement)&&(Qn(ct)||ct[Gn]))break t;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(ct=s.relatedTarget||s.toElement,Q=q,ct=ct?Qn(ct):null,ct!==null&&(ce=h(ct),Tt=ct.tag,ct!==ce||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(Q=null,ct=q),Q!==ct)){if(Tt=yl,Z="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=Wi,Z="onPointerLeave",k="onPointerEnter",O="pointer"),ce=Q==null?G:nn(Q),B=ct==null?G:nn(ct),G=new Tt(Z,O+"leave",Q,s,X),G.target=ce,G.relatedTarget=B,Z=null,Qn(X)===q&&(Tt=new Tt(k,O+"enter",ct,s,X),Tt.target=B,Tt.relatedTarget=ce,Z=Tt),ce=Z,Q&&ct)e:{for(Tt=L1,k=Q,O=ct,B=0,Z=k;Z;Z=Tt(Z))B++;Z=0;for(var Et=O;Et;Et=Tt(Et))Z++;for(;0<B-Z;)k=Tt(k),B--;for(;0<Z-B;)O=Tt(O),Z--;for(;B--;){if(k===O||O!==null&&k===O.alternate){Tt=k;break e}k=Tt(k),O=Tt(O)}Tt=null}else Tt=null;Q!==null&&zp(J,G,Q,Tt,!1),ct!==null&&ce!==null&&zp(J,ce,ct,Tt,!0)}}t:{if(G=q?nn(q):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Kt=Wd;else if(Zd(G))if(tm)Kt=$v;else{Kt=Xv;var mt=Yv}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&ar(q.elementType)&&(Kt=Wd):Kt=Kv;if(Kt&&(Kt=Kt(t,q))){Jd(J,Kt,s,X);break t}mt&&mt(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&cl(G,"number",G.value)}switch(mt=q?nn(q):window,t){case"focusin":(Zd(mt)||mt.contentEditable==="true")&&(dr=mt,qc=q,Tl=null);break;case"focusout":Tl=qc=dr=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,om(J,s,X);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":om(J,s,X)}var Ot;if(Zt)t:{switch(t){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else fr?xa(t,s)&&(Bt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Bt="onCompositionStart");Bt&&(Ci&&s.locale!=="ko"&&(fr||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&fr&&(Ot=gl()):(Si=X,ml="value"in Si?Si.value:Si.textContent,fr=!0)),mt=Ou(q,Bt),0<mt.length&&(Bt=new xi(Bt,t,null,s,X),J.push({event:Bt,listeners:mt}),Ot?Bt.data=Ot:(Ot=hr(s),Ot!==null&&(Bt.data=Ot)))),(Ot=$n?Hv(t,s):Gv(t,s))&&(Bt=Ou(q,"onBeforeInput"),0<Bt.length&&(mt=new xi("onBeforeInput","beforeinput",null,s,X),J.push({event:mt,listeners:Bt}),mt.data=Ot)),j1(J,t,q,s,X)}Ip(J,n)})}function Yl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ou(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=fi(t,s),c!=null&&l.unshift(Yl(t,c,f)),c=fi(t,n),c!=null&&l.push(Yl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function L1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,D=E.alternate,q=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||q===null||(D=q,c?(q=fi(s,f),q!=null&&g.unshift(Yl(s,q,D))):c||(q=fi(s,f),q!=null&&g.push(Yl(s,q,D)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var B1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(B1,`
`).replace(P1,"")}function Up(t,n){return n=kp(n),kp(t)===n}function ue(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":sn(t,"class",l);break;case"tabIndex":sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sn(t,s,l);break;case"style":fl(t,l,f);break;case"data":if(n!=="object"){sn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=rr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ue(t,n,"name",c.name,c,null),ue(t,n,"formEncType",c.formEncType,c,null),ue(t,n,"formMethod",c.formMethod,c,null),ue(t,n,"formTarget",c.formTarget,c,null)):(ue(t,n,"encType",c.encType,c,null),ue(t,n,"method",c.method,c,null),ue(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=rr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=hi);break;case"onScroll":l!=null&&kt("scroll",t);break;case"onScrollEnd":l!=null&&kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=rr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":kt("beforetoggle",t),kt("toggle",t),Ki(t,"popover",l);break;case"xlinkActuate":Ae(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Oo.get(s)||s,Ki(t,s,l))}}function gf(t,n,s,l,c,f){switch(s){case"style":fl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&kt("scroll",t);break;case"onScrollEnd":l!=null&&kt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Oe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ki(t,s,l)}}}function Je(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",t),kt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ue(t,n,f,g,s,null)}}c&&ue(t,n,"srcSet",s.srcSet,s,null),l&&ue(t,n,"src",s.src,s,null);return;case"input":kt("invalid",t);var E=f=g=c=null,D=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":c=X;break;case"type":g=X;break;case"checked":D=X;break;case"defaultChecked":q=X;break;case"value":f=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:ue(t,n,l,X,s,null)}}Do(t,f,E,D,q,g,c,!1);return;case"select":kt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ue(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ss(t,!!l,n,!1):s!=null&&Ss(t,!!l,s,!0);return;case"textarea":kt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ue(t,n,g,E,s,null)}As(t,l,c,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ue(t,n,D,l,s,null)}return;case"dialog":kt("beforetoggle",t),kt("toggle",t),kt("cancel",t),kt("close",t);break;case"iframe":case"object":kt("load",t);break;case"video":case"audio":for(l=0;l<Ql.length;l++)kt(Ql[l],t);break;case"image":kt("error",t),kt("load",t);break;case"details":kt("toggle",t);break;case"embed":case"source":case"link":kt("error",t),kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ue(t,n,q,l,s,null)}return;default:if(ar(n)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&gf(t,n,X,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ue(t,n,E,l,s,null))}function q1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,D=null,q=null,X=null;for(Q in s){var J=s[Q];if(s.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(Q)||ue(t,n,Q,null,l,J)}}for(var G in l){var Q=l[G];if(J=s[G],l.hasOwnProperty(G)&&(Q!=null||J!=null))switch(G){case"type":f=Q;break;case"name":c=Q;break;case"checked":q=Q;break;case"defaultChecked":X=Q;break;case"value":g=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Q!==J&&ue(t,n,G,Q,l,J)}}sr(t,g,E,D,q,X,f,c);return;case"select":Q=g=E=G=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(f)||ue(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=s[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":G=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==D&&ue(t,n,c,f,l,D)}n=E,s=g,l=Q,G!=null?Ss(t,!!s,G,!1):!!l!=!!s&&(n!=null?Ss(t,!!s,n,!0):Ss(t,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ue(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":G=c;break;case"defaultValue":Q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&ue(t,n,g,c,l,f)}Vo(t,G,Q);return;case"option":for(var ct in s)if(G=s[ct],s.hasOwnProperty(ct)&&G!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:ue(t,n,ct,null,l,G)}for(D in l)if(G=l[D],Q=s[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ue(t,n,D,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)G=s[Tt],s.hasOwnProperty(Tt)&&G!=null&&!l.hasOwnProperty(Tt)&&ue(t,n,Tt,null,l,G);for(q in l)if(G=l[q],Q=s[q],l.hasOwnProperty(q)&&G!==Q&&(G!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ue(t,n,q,G,l,Q)}return;default:if(ar(n)){for(var ce in s)G=s[ce],s.hasOwnProperty(ce)&&G!==void 0&&!l.hasOwnProperty(ce)&&gf(t,n,ce,void 0,l,G);for(X in l)G=l[X],Q=s[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||gf(t,n,X,G,l,Q);return}}for(var k in s)G=s[k],s.hasOwnProperty(k)&&G!=null&&!l.hasOwnProperty(k)&&ue(t,n,k,null,l,G);for(J in l)G=l[J],Q=s[J],!l.hasOwnProperty(J)||G===Q||G==null&&Q==null||ue(t,n,J,G,l,Q)}function Lp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Lp(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var D=s[l],q=D.startTime;if(q>E)break;var X=D.transferSize,J=D.initiatorType;X&&Lp(J)&&(D=D.responseEnd,g+=X*(D<E?1:(E-q)/(D-q)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pf=null,yf=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function Bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _f(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vf=null;function G1(){var t=window.event;return t&&t.type==="popstate"?t===vf?!1:(vf=t,!0):(vf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(Y1)}:qp;function Y1(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function Gp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Br(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Xl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Xl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Fn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Xl(t.ownerDocument.body);s=c}while(s);Br(n)}function Fp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ef(s),Ts(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function X1(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function K1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ii(t.nextSibling),t===null))return null;return t}function Qp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ii(t.nextSibling),t===null))return null;return t}function bf(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ii(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sf=null;function Yp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ii(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Kp(t,n,s){switch(n=Iu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ts(t)}var si=new Map,$p=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=it.d;it.d={f:Z1,r:J1,D:W1,C:tE,L:eE,m:nE,X:sE,S:iE,M:aE};function Z1(){var t=ms.f(),n=xu();return t||n}function J1(t){var n=yn(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):ms.r(t)}var kr=typeof document>"u"?null:document;function Zp(t,n,s){var l=kr;if(l&&typeof n=="string"&&n){var c=_n(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),$p.has(c)||($p.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Je(n,"link",t),Ee(n),l.head.appendChild(n)))}}function W1(t){ms.D(t),Zp("dns-prefetch",t,null)}function tE(t,n){ms.C(t,n),Zp("preconnect",t,n)}function eE(t,n,s){ms.L(t,n,s);var l=kr;if(l&&t&&n){var c='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+_n(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+_n(s.imageSizes)+'"]')):c+='[href="'+_n(t)+'"]';var f=c;switch(n){case"style":f=Ur(t);break;case"script":f=Lr(t)}si.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),si.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Kl(f))||n==="script"&&l.querySelector($l(f))||(n=l.createElement("link"),Je(n,"link",t),Ee(n),l.head.appendChild(n)))}}function nE(t,n){ms.m(t,n);var s=kr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lr(t)}if(!si.has(f)&&(t=A({rel:"modulepreload",href:t},n),si.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($l(f)))return}l=s.createElement("link"),Je(l,"link",t),Ee(l),s.head.appendChild(l)}}}function iE(t,n,s){ms.S(t,n,s);var l=kr;if(l&&t){var c=On(l).hoistableStyles,f=Ur(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Kl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=si.get(f))&&Af(t,s);var D=g=l.createElement("link");Ee(D),Je(D,"link",t),D._p=new Promise(function(q,X){D.onload=q,D.onerror=X}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,zu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function sE(t,n){ms.X(t,n);var s=kr;if(s&&t){var l=On(s).hoistableScripts,c=Lr(t),f=l.get(c);f||(f=s.querySelector($l(c)),f||(t=A({src:t,async:!0},n),(n=si.get(c))&&wf(t,n),f=s.createElement("script"),Ee(f),Je(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function aE(t,n){ms.M(t,n);var s=kr;if(s&&t){var l=On(s).hoistableScripts,c=Lr(t),f=l.get(c);f||(f=s.querySelector($l(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=si.get(c))&&wf(t,n),f=s.createElement("script"),Ee(f),Je(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Jp(t,n,s,l){var c=(c=xt.current)?ju(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ur(s.href),s=On(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ur(s.href);var f=On(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Kl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),si.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},si.set(t,s),f||rE(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Lr(s),s=On(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ur(t){return'href="'+_n(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function rE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Je(n,"link",s),Ee(n),t.head.appendChild(n))}function Lr(t){return'[src="'+_n(t)+'"]'}function $l(t){return"script[async]"+t}function ty(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+_n(s.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),Je(l,"style",c),zu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Ur(s.href);var f=t.querySelector(Kl(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Wp(s),(c=si.get(c))&&Af(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Je(f,"link",l),n.state.loading|=4,zu(f,s.precedence,t),n.instance=f;case"script":return f=Lr(s.src),(c=t.querySelector($l(f)))?(n.instance=c,Ee(c),c):(l=s,(c=si.get(f))&&(l=A({},s),wf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),Je(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,zu(l,s.precedence,t));return n.instance}function zu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ku=null;function ey(t,n,s){if(ku===null){var l=new Map,c=ku=new Map;c.set(s,l)}else c=ku,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Fn]||f[Se]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ny(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function lE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function oE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ur(l.href),f=n.querySelector(Kl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Wp(l),(c=si.get(c))&&Af(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Je(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Uu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var xf=0;function uE(t,n){return t.stylesheets&&t.count===0&&Bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xf===0&&(xf=62500*H1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Bu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(cE,t),Lu=null,Uu.call(t))}function cE(t,n){if(!(n.state.loading&4)){var s=Lu.get(t);if(s)var l=s.get(null);else{s=new Map,Lu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Zl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function hE(t,n,s,l,c,f,g,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function sy(t,n,s,l,c,f,g,E,D,q,X,J){return t=new hE(t,n,s,g,D,q,X,J,E),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),t.current=f,f.stateNode=t,n=sh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},oh(f),t}function ay(t){return t?(t=pr,t):pr}function ry(t,n,s,l,c,f){c=ay(c),l.context===null?l.context=c:l.pendingContext=c,l=zs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ks(t,l,n),s!==null&&(An(s,t,n),Nl(s,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Cf(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function oy(t){if(t.tag===13||t.tag===31){var n=Na(t,67108864);n!==null&&An(n,t,67108864),Cf(t,67108864)}}function uy(t){if(t.tag===13||t.tag===31){var n=Pn();n=Yi(n);var s=Na(t,n);s!==null&&An(s,t,n),Cf(t,n)}}var Pu=!0;function fE(t,n,s,l){var c=Y.T;Y.T=null;var f=it.p;try{it.p=2,Rf(t,n,s,l)}finally{it.p=f,Y.T=c}}function dE(t,n,s,l){var c=Y.T;Y.T=null;var f=it.p;try{it.p=8,Rf(t,n,s,l)}finally{it.p=f,Y.T=c}}function Rf(t,n,s,l){if(Pu){var c=Nf(l);if(c===null)mf(t,n,l,qu,s),hy(t,l);else if(gE(c,t,n,s,l))l.stopPropagation();else if(hy(t,l),n&4&&-1<mE.indexOf(t)){for(;c!==null;){var f=yn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=gn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-_e(g);E.entanglements[1]|=D,g&=~D}Vi(f),(Jt&6)===0&&(Au=re()+500,Fl(0))}}break;case 31:case 13:E=Na(f,2),E!==null&&An(E,f,2),xu(),Cf(f,2)}if(f=Nf(l),f===null&&mf(t,n,l,qu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else mf(t,n,l,null,s)}}function Nf(t){return t=Xn(t),Df(t)}var qu=null;function Df(t){if(qu=null,t=Qn(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qu=t,null}function cy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case ha:return 2;case fa:return 8;case Ei:case Ja:return 32;case da:return 268435456;default:return 32}default:return 32}}var Vf=!1,Xs=null,Ks=null,$s=null,Jl=new Map,Wl=new Map,Zs=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hy(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function to(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=yn(n),n!==null&&oy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function gE(t,n,s,l,c){switch(n){case"focusin":return Xs=to(Xs,t,n,s,l,c),!0;case"dragenter":return Ks=to(Ks,t,n,s,l,c),!0;case"mouseover":return $s=to($s,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Jl.set(f,to(Jl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Wl.set(f,to(Wl.get(f)||null,t,n,s,l,c)),!0}return!1}function fy(t){var n=Qn(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Vn(t.priority,function(){uy(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,Vn(t.priority,function(){uy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Nf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);dl=l,s.target.dispatchEvent(l),dl=null}else return n=yn(s),n!==null&&oy(n),t.blockedOn=s,!1;n.shift()}return!0}function dy(t,n,s){Hu(t)&&s.delete(n)}function pE(){Vf=!1,Xs!==null&&Hu(Xs)&&(Xs=null),Ks!==null&&Hu(Ks)&&(Ks=null),$s!==null&&Hu($s)&&($s=null),Jl.forEach(dy),Wl.forEach(dy)}function Gu(t,n){t.blockedOn===n&&(t.blockedOn=null,Vf||(Vf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pE)))}var Fu=null;function my(t){Fu!==t&&(Fu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Df(l||s)===null)continue;break}var f=yn(s);f!==null&&(t.splice(n,3),n-=3,Rh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Br(t){function n(D){return Gu(D,t)}Xs!==null&&Gu(Xs,t),Ks!==null&&Gu(Ks,t),$s!==null&&Gu($s,t),Jl.forEach(n),Wl.forEach(n);for(var s=0;s<Zs.length;s++){var l=Zs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zs.length&&(s=Zs[0],s.blockedOn===null);)fy(s),s.blockedOn===null&&Zs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Oe]||null;if(typeof f=="function")g||my(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Df(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),my(s)}}}function gy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Mf(t){this._internalRoot=t}Qu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Pn();ry(s,l,t,n,null,null)},Qu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),xu(),n[Gn]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=tr();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Zs.length&&n!==0&&n<Zs[s].priority;s++);Zs.splice(s,0,t),s===0&&fy(t)}};var py=e.version;if(py!=="19.2.3")throw Error(a(527,py,"19.2.3"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var yE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{Te=Yu.inject(yE),Me=Yu}catch{}}return no.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Sg,f=Ag,g=wg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=sy(t,1,!1,null,null,s,l,null,c,f,g,gy),t[Gn]=n.current,df(t),new Mf(n)},no.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=Sg,g=Ag,E=wg,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=sy(t,1,!0,n,s??null,l,c,D,f,g,E,gy),n.context=ay(null),s=n.current,l=Pn(),l=Yi(l),c=zs(l),c.callback=null,ks(s,c,l),s=l,n.current.lanes=s,Fi(n,s),Vi(n),t[Gn]=n.current,df(t),new Qu(n)},no.version="19.2.3",no}var xy;function RE(){if(xy)return jf.exports;xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jf.exports=CE(),jf.exports}var NE=RE();const DE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Cy=r=>{const e=VE(r);return e.charAt(0).toUpperCase()+e.slice(1)},G0=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),ME=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var OE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IE=nt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...y},v)=>nt.createElement("svg",{ref:v,...OE,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:G0("lucide",o),...!h&&!ME(y)&&{"aria-hidden":"true"},...y},[...d.map(([p,S])=>nt.createElement(p,S)),...Array.isArray(h)?h:[h]]));const Wt=(r,e)=>{const i=nt.forwardRef(({className:a,...o},h)=>nt.createElement(IE,{ref:h,iconNode:e,className:G0(`lucide-${DE(Cy(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Cy(r),i};const jE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],F0=Wt("arrow-right",jE);const zE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mo=Wt("chevron-down",zE);const kE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],UE=Wt("chevron-left",kE);const LE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BE=Wt("chevron-right",LE);const PE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qE=Wt("chevron-up",PE);const HE=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],GE=Wt("chevrons-left",HE);const FE=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],QE=Wt("chevrons-right",FE);const YE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rc=Wt("circle-alert",YE);const XE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KE=Wt("circle-check-big",XE);const $E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Q0=Wt("circle-x",$E);const ZE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],JE=Wt("download",ZE);const WE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tb=Wt("eye-off",WE);const eb=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ry=Wt("folder",eb);const nb=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ib=Wt("layers",nb);const sb=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Y0=Wt("loader",sb);const ab=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],X0=Wt("pause",ab);const rb=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],lb=Wt("pen-tool",rb);const ob=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yd=Wt("play",ob);const ub=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cb=Wt("refresh-cw",ub);const hb=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],fb=Wt("repeat",hb);const db=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],K0=Wt("save",db);const mb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gb=Wt("settings",mb);const pb=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],yb=Wt("shuffle",pb);const _b=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],vb=Wt("skip-back",_b);const Eb=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],bb=Wt("skip-forward",Eb);const Tb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Sb=Wt("star",Tb);const Ab=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$0=Wt("trash-2",Ab);const wb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ny=Wt("triangle-alert",wb);const xb=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Cb=Wt("undo",xb);const Rb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Nb=Wt("volume-2",Rb);const Db=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z0=Wt("x",Db),Vb=new Set(["id","localId","book","folderId","isMarked","mistakes","confidence","responseTime","is_problem","mistake_count","last_practiced","lastPracticed"]),Mb=[{id:"isMarked",label:"",width:"w-12",type:"action"},{id:"audio",label:"",width:"w-12",type:"action"}],Ob={id:"selection",label:"#",width:"w-10",type:"system",fixed:"left"},Ib=(r,e)=>{const i={...r},a=r.id?String(r.id):null;return i.id=a,i.localId=a||`local_${e}_${Date.now()}`,i.book=String(r.book||"1"),i.folderId=String(r.book||"Uncategorized"),i.isMarked=r.is_problem===!0||r.is_problem==="true",i.responseTime=0,i.japanese===void 0&&(i.japanese=String(r.hiragana||r.japanese||"")),r.japanese||Object.defineProperty(i,"_isSyntheticJapanese",{value:!0,enumerable:!1}),i.lesson||(i.lesson=String(r.lesson||"1")),i.cando||(i.cando=String(r.cando||"1")),i.bangla||(i.bangla=String(r.bangla||"")),i},Dy=(r,e)=>{const i={};let a=!1;return["japanese","kanji","bangla","lesson","cando","isMarked"].forEach(h=>{JSON.stringify(r[h])!==JSON.stringify(e[h])&&(h==="japanese"?i.hiragana=e[h]:h==="isMarked"?i.is_problem=e[h]:i[h]=e[h],a=!0)}),a?i:null},jb=({message:r,type:e,onClose:i})=>{nt.useEffect(()=>{const h=setTimeout(i,3e3);return()=>clearTimeout(h)},[i]);let a="bg-slate-800";e==="error"&&(a="bg-red-600"),e==="warning"&&(a="bg-amber-600"),e==="success"&&(a="bg-green-600");const o=typeof r=="object"?JSON.stringify(r):r;return b.jsx("div",{className:`fixed bottom-24 right-6 ${a} text-white px-6 py-3 rounded-lg shadow-xl z-[100] flex items-center font-medium animate-in fade-in slide-in-from-bottom-5`,children:o})},zb=({value:r,max:e=5})=>{const i=Math.min(r||0,e),a=[];for(let o=0;o<e;o++){let h="bg-slate-200";o<i&&(i<=2?h="bg-yellow-400":i<=3?h="bg-orange-500":h="bg-red-600"),a.push(b.jsx("div",{className:`h-3 w-1.5 rounded-sm ${h}`},o))}return b.jsx("div",{className:"flex gap-0.5",children:a})},kb=Ii.memo(({item:r,columnOrder:e,columnDefs:i,columnVisibility:a,columnWidths:o,hiddenColumns:h,revealedCells:d,selectedIds:y,playbackMode:v,isPlaying:p,playbackQueue:S,currentIndex:A,index:N,isEditMode:j,onToggleSelection:U,onUpdateCell:H,onRevealCell:P,onPlaySingle:et,onMark:pt,onDeleteRequest:dt})=>{if(!r)return null;const yt=y.has(r.localId),_t=v==="playlist"&&p&&S[A]===r.localId,vt=v==="single"&&p&&S[A]===r.localId,C=_t||vt,x=w=>{if(!a||!(a[w]!==!1))return null;const V="",z=h[w];switch(w){case"lastPracticed":return b.jsx("td",{"data-col-id":w,className:"w-24 px-2 py-1 border-r border-slate-100 text-center text-xs text-slate-500",children:r.lastPracticed||"-"});case"selection":return b.jsx("td",{"data-col-id":w,className:"w-10 px-2 py-1 border-r border-slate-100 text-center font-medium text-slate-400 text-xs",children:N+1});case"audio":return b.jsx("td",{"data-col-id":w,className:`w-12 px-2 py-1 border-r border-slate-100 text-center ${V}`,children:b.jsx("button",{onClick:()=>et(r),className:`p-1.5 rounded-full transition-colors ${C?"bg-indigo-600 text-white":"text-slate-400 hover:text-indigo-600 hover:bg-indigo-50"}`,children:C&&p?b.jsx(X0,{size:14}):b.jsx(yd,{size:14})})});case"mistakes":return b.jsx("td",{"data-col-id":w,className:`w-24 px-2 py-1 border-r border-slate-100 ${V}`,children:b.jsx(zb,{value:r.mistakes})});case"confidence":return b.jsx("td",{"data-col-id":w,className:`w-20 px-2 py-1 border-r border-slate-100 text-center ${V}`,children:b.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${r.confidence>=80?"bg-green-100 text-green-700":r.confidence>=50?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[r.confidence,"%"]})});case"responseTime":return b.jsx("td",{"data-col-id":w,className:`w-20 px-2 py-1 border-r border-slate-100 text-center text-xs text-slate-500 font-mono ${V}`,children:r.responseTime>0?`${r.responseTime}s`:"-"});case"isMarked":return b.jsx("td",{"data-col-id":w,className:`w-12 px-2 py-1 border-r border-slate-100 text-center ${V}`,children:b.jsx("button",{onClick:()=>pt(r.localId),className:"p-0.5 hover:bg-slate-100 rounded",children:b.jsx(rc,{size:16,className:r.isMarked?"text-red-500 fill-red-500":"text-slate-200"})})});case"delete":return b.jsx("td",{"data-col-id":w,className:"w-12 px-2 py-1 border-r border-slate-100 text-center",children:j&&b.jsx("button",{onClick:()=>dt("single",r.localId,r.japanese),className:"p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded transition-colors group-hover:text-slate-400",children:b.jsx($0,{size:16})})});default:const R=r[w],Xt=typeof R=="object"&&R!==null?JSON.stringify(R):String(R||""),ae=d[w]===r.localId,Y=!z||ae,it=w==="japanese"||w==="hiragana"||w==="Hiragana";return b.jsx("td",{"data-col-id":w,className:`px-0 border-r border-slate-100 ${!Y&&!j?"bg-slate-100":"bg-white"}`,children:!Y&&!j?b.jsx("div",{onClick:()=>P(r.localId,w),className:"w-full h-full px-2 py-1 text-transparent cursor-pointer hover:bg-slate-200 flex items-center justify-center transition-colors group/cell",children:b.jsx(tb,{size:16,className:"text-slate-300 group-hover/cell:text-slate-500"})}):j?b.jsx("input",{className:"w-full h-full px-2 py-1 bg-transparent outline-none text-sm border-2 border-transparent focus:border-amber-500 focus:bg-amber-50 transition-all",value:Xt,onChange:ht=>H(r.localId,w,ht.target.value)}):b.jsx("div",{className:`w-full h-full px-2 py-1 flex items-center text-sm leading-tight ${it?"font-bold":""} ${C?"text-indigo-700":"text-slate-800"}`,children:Xt})})}};return b.jsx("tr",{className:`group border-b border-slate-100 hover:bg-blue-50/30 transition-colors ${yt?"bg-blue-50":C?"bg-indigo-50 border-indigo-200":"bg-white"}`,children:e.map(w=>b.jsx(Ii.Fragment,{children:(!i.find(I=>I.id===w)?.editOnly||j)&&x(w)},w))})}),Ub=({playbackMode:r,playbackQueue:e,currentIndex:i,vocabList:a,isPlaying:o,audioConfig:h,onPrevTrack:d,onNextTrack:y,onTogglePlayPause:v,onCycleRepeat:p,onCycleSpeed:S,onToggleBangla:A,onHide:N,onToggleMark:j})=>{if(r!=="playlist"||e.length===0)return null;const U=a.find(H=>H.localId===e[i]);return U?b.jsxs("div",{className:"w-full bg-white/95 backdrop-blur-sm border-t border-slate-200 h-12 flex items-center justify-between px-3 md:px-4 shadow-[0_-4px_10px_-1px_rgba(0,0,0,0.1)] z-50 transition-transform duration-300",children:[b.jsxs("div",{className:"flex items-center gap-2 w-1/4 min-w-0",children:[b.jsx("div",{className:"bg-indigo-100 p-1.5 rounded-lg text-indigo-600 hidden md:block shrink-0",children:b.jsx(ib,{size:18})}),b.jsxs("div",{className:"overflow-hidden flex flex-col justify-center",children:[b.jsx("div",{className:"font-bold text-slate-800 truncate text-sm leading-tight",children:U.japanese}),b.jsx("div",{className:"text-[10px] text-slate-500 truncate leading-tight",children:U.bangla})]})]}),b.jsxs("div",{className:"flex items-center justify-center gap-2 flex-1",children:[b.jsx("button",{onClick:d,className:"text-slate-400 hover:text-indigo-600 hover:bg-slate-100 p-1.5 rounded-full transition-colors",children:b.jsx(vb,{size:18})}),b.jsx("button",{onClick:v,className:"flex-shrink-0 w-9 h-9 flex items-center justify-center rounded-full shadow-sm transform active:scale-95 transition-all bg-indigo-600 text-white hover:bg-indigo-700",children:o?b.jsx(X0,{size:18,fill:"white"}):b.jsx(yd,{size:18,fill:"white",className:"ml-0.5"})}),b.jsx("button",{onClick:y,className:"text-slate-400 hover:text-indigo-600 hover:bg-slate-100 p-1.5 rounded-full transition-colors",children:b.jsx(bb,{size:18})}),b.jsx("button",{onClick:()=>j(U.id||U.localId),className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full transition-colors order-last outline-none ${U.isMarked?"text-amber-400 bg-amber-50":"text-slate-300 hover:text-amber-400 hover:bg-slate-50"}`,title:U.isMarked?"Unmark":"Mark",children:b.jsx(Sb,{size:18,fill:U.isMarked?"currentColor":"none"})}),b.jsxs("div",{className:"hidden md:block text-[9px] text-slate-400 font-mono tracking-widest uppercase ml-2",children:[i+1," / ",e.length,"  ",h.repeatMode.toUpperCase()]})]}),b.jsxs("div",{className:"flex items-center gap-2 w-1/4 justify-end min-w-0",children:[b.jsxs("div",{className:"relative group shrink-0",children:[b.jsx("select",{value:h.repeatPerItem,onChange:H=>{const P=parseInt(H.target.value);p(P)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",children:[1,2,3,5,10,20,30,40,50,100].map(H=>b.jsxs("option",{value:H,children:[H,"x"]},H))}),b.jsxs("button",{className:`px-2 py-1 rounded-[6px] flex items-center gap-1 transition-all ${h.repeatPerItem>1?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"}`,title:`Repeat: ${h.repeatPerItem}x`,children:[b.jsx(fb,{size:14}),b.jsxs("span",{className:"text-[10px] font-bold",children:[h.repeatPerItem,"x"]})]})]}),b.jsxs("button",{onClick:S,className:"px-2 py-1 rounded-[6px] bg-slate-100 text-slate-500 text-[10px] font-bold w-10 hover:bg-slate-200 transition-colors",title:"Speed",children:[h.speed,"x"]}),b.jsx("button",{onClick:N,className:"p-1 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors ml-1",title:"Hide",children:b.jsx(mo,{size:18})})]})]}):null},Lb=({colId:r,def:e,isEditMode:i,sortConfig:a,onSort:o,columnVisibility:h,onDragStart:d,onDragOver:y,onDrop:v,columnWidths:p,setColumnWidths:S})=>{if(!e||h[r]===!1)return null;const A=e.fixed||e.id==="selection"||e.id==="delete",N=j=>{j.preventDefault(),j.stopPropagation();const U=j.clientX,H=p[r]||160,P=document.getElementById(`col-${r}`);let et;const pt=yt=>{et&&cancelAnimationFrame(et),et=requestAnimationFrame(()=>{const _t=yt.clientX-U,vt=Math.max(80,H+_t);P&&(P.style.width=`${vt}px`)})},dt=yt=>{document.removeEventListener("mousemove",pt),document.removeEventListener("mouseup",dt),et&&cancelAnimationFrame(et);const _t=yt.clientX-U,vt=Math.max(80,H+_t);S(C=>({...C,[r]:vt}))};document.addEventListener("mousemove",pt),document.addEventListener("mouseup",dt)};return b.jsxs("th",{draggable:!A,onDragStart:j=>!A&&d(j,r),onDragOver:A?void 0:y,onDrop:j=>!A&&v(j,r),"data-col-id":r,className:`
        relative
        px-2 py-2
        bg-slate-50
        border-b border-r border-slate-200
        text-xs font-bold uppercase tracking-wider
        select-none
        ${A?"text-center":"cursor-move hover:bg-slate-100"}
        ${i?"bg-amber-50 border-amber-200":""}
      `,children:[b.jsxs("div",{className:"flex items-center gap-1",onClick:()=>e.sortable&&o(e.id),children:[e.icon&&b.jsx(e.icon,{size:14}),b.jsx("span",{children:e.label}),a.key===e.id&&b.jsx("span",{className:"ml-auto",children:a.direction==="asc"?"":""})]}),!A&&b.jsx("div",{onMouseDown:N,className:`\r
            absolute top-0 right-0\r
            h-full w-1\r
            cursor-col-resize\r
            hover:bg-indigo-400\r
          `})]})},Vy=({label:r,items:e,activeValues:i,onToggle:a,color:o="blue"})=>{if(!e||e.length===0)return null;const h=Array.isArray(i)?i:[],d={blue:{active:"bg-blue-600 text-white shadow-md shadow-blue-200",inactive:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-blue-300"},indigo:{active:"bg-indigo-600 text-white shadow-md shadow-indigo-200",inactive:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-indigo-300"}},y=d[o]||d.blue;return b.jsxs("div",{className:"flex items-center gap-2 overflow-hidden px-1 select-none transition-all duration-300 h-7 border-b border-transparent",children:[b.jsx("div",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider mr-0.5 w-[50px] shrink-0 text-right",children:r==="L"?"Lesson":"Can-do"}),b.jsxs("div",{className:"flex gap-1 overflow-x-auto items-center h-full no-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[b.jsx("style",{children:" .no-scrollbar::-webkit-scrollbar { display: none; } "}),e.map(([v,p])=>{const S=h.includes(v);return b.jsxs("button",{onClick:()=>a(v),title:`${r==="L"?"Lesson":"Can-do"} ${v}  ${p} words`,className:`
                                    flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold transition-all whitespace-nowrap border shrink-0
                                    ${S?y.active:y.inactive}
                                `,children:[b.jsxs("span",{children:[r,v]}),b.jsx("span",{className:`text-[9px] opacity-70 ${S?"bg-white/20 px-1 rounded-[2px]":"text-slate-400 bg-slate-100 px-1 rounded-[2px]"}`,children:p}),S&&b.jsx(Z0,{size:10,className:"ml-0.5 opacity-80 hover:opacity-100"})]},v)})]})]})},Bb=(r,e=600)=>{const[i,a]=nt.useState(0);return Ii.useEffect(()=>{let o=i;const h=performance.now();let d;const y=v=>{const p=v-h,S=Math.min(p/e,1),A=1-Math.pow(1-S,4);a(Math.floor(o+(r-o)*A)),S<1&&(d=requestAnimationFrame(y))};return o!==r&&(d=requestAnimationFrame(y)),()=>cancelAnimationFrame(d)},[r]),i},My=({label:r,options:e,selectedValues:i,onChange:a})=>{const o=Array.isArray(i)?i:[],h=o.length===0,[d,y]=nt.useState(!1),v=Ii.useRef(null),[p,S]=nt.useState({top:0,left:0}),A=Ii.useRef(null);Ii.useEffect(()=>{const H=et=>{v.current&&!v.current.contains(et.target)&&(!A.current||!A.current.contains(et.target))&&y(!1)},P=et=>{A.current&&A.current.contains(et.target)||d&&y(!1)};return document.addEventListener("mousedown",H),window.addEventListener("scroll",P,!0),()=>{document.removeEventListener("mousedown",H),window.removeEventListener("scroll",P,!0)}},[d]);const N=H=>{let P;o.includes(H)?P=o.filter(et=>et!==H):P=[...o,H],a(P)},j=()=>{a([])},U=h?"All":o.length===1?o[0]:`${o.length} selected`;return b.jsxs("div",{className:"relative group flex-shrink-0",ref:v,children:[b.jsxs("button",{onClick:H=>{if(!d){const P=H.currentTarget.getBoundingClientRect();S({top:P.bottom+4,left:P.left})}y(!d)},title:`${r} Filter`,className:`
                    flex items-center justify-center gap-2 appearance-none 
                    transition-all duration-200
                    text-xs font-bold 
                    rounded shadow-sm
                    focus:outline-none 
                    ${d?"ring-2 ring-indigo-200":""}
                    h-8 min-w-[32px] md:min-w-[100px] md:px-2 md:justify-between px-0
                    ${h?"bg-white text-slate-700 border border-slate-300 hover:border-indigo-400":"bg-indigo-600 text-white border border-indigo-600 shadow-indigo-200"}
                `,children:[b.jsxs("div",{className:"md:hidden flex items-center justify-center gap-0.5",children:[b.jsx("span",{className:"text-[11px] uppercase",children:r.charAt(0)}),b.jsx(mo,{size:10,strokeWidth:3,className:`transition-transform ${d?"rotate-180":""} opacity-80`})]}),b.jsxs("span",{className:"hidden md:block truncate max-w-[100px]",children:[r,": ",U]}),b.jsx(mo,{size:12,className:`hidden md:block transition-transform ${d?"rotate-180":""} ${h?"text-slate-400":"text-indigo-200"}`})]}),d&&b.jsxs("div",{ref:A,style:{position:"fixed",top:p.top,left:p.left},className:"w-48 bg-white rounded-lg shadow-xl border border-slate-200 z-[9999] max-h-64 overflow-y-auto p-1 animate-in fade-in zoom-in-95 duration-100 origin-top-left",children:[b.jsxs("div",{onClick:()=>{j(),y(!1)},className:`flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer text-xs font-bold ${h?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[b.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${h?"bg-indigo-600 border-indigo-600":"border-slate-300 bg-white"}`,children:h&&b.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-sm"})}),"All"]}),b.jsx("div",{className:"h-px bg-slate-100 my-1"}),e.map(H=>{const P=o.includes(H);return b.jsxs("div",{onClick:()=>N(H),className:`flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer text-xs font-medium ${P?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[b.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${P?"bg-indigo-600 border-indigo-600 text-white":"border-slate-300 bg-white"}`,children:P&&b.jsx("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),r," ",H]},H)})]})]})},Pb=({currentFolderId:r,folders:e,vocabList:i,selectedIds:a,isEditMode:o,hasUnsavedChanges:h,filters:d,hiddenColumns:y,viewMode:v,onFolderChange:p,onDeleteRequest:S,onEditModeToggle:A,onFilterChange:N,onViewModeChange:j,onVisibilityToggle:U,onSave:H,onDiscard:P,onPracticeStart:et,onPlaylistStart:pt,onImportOpen:dt,setIsColumnManagerOpen:yt,isSyncing:_t,filteredData:vt,onStartSmartPractice:C,trendData:x,suggestion:w,onApplySuggestion:I,onRefresh:V,onShuffle:z,isPlaying:R,onTogglePlay:Xt,showingCount:ae,totalCount:Y})=>{Bb(ae!==void 0?ae:vt.length);const[it,ht]=nt.useState(!1),[jt,Ht]=nt.useState(!1),M=Ii.useRef(null),[$,lt]=nt.useState(0),[at,St]=nt.useState(typeof window<"u"?window.innerWidth>=768:!0);Ii.useLayoutEffect(()=>{const It=()=>St(window.innerWidth>=768);window.addEventListener("resize",It);const Ct=new ResizeObserver(Gt=>{for(let Ve of Gt)Ve.contentRect.width>0&&lt(Math.floor(Ve.contentRect.width))});return M.current&&Ct.observe(M.current),M.current&&lt(M.current.offsetWidth),()=>{window.removeEventListener("resize",It),Ct.disconnect()}},[]);const xt=90,At=36;let Ut=$-xt;const te=at||Ut>=At;!at&&te&&(Ut-=At);const xn=at||!o&&Ut>=At;!at&&xn&&!o&&(Ut-=At);const Cn=at||!o&&Ut>=At;!at&&Cn&&!o&&(Ut-=At);const li=at||Ut>=At;!at&&li&&(Ut-=At);const Rn=at||Ut>=At;!at&&Rn&&(Ut-=At);const un=at||Ut>=At;!at&&un&&(Ut-=At);const qn=at||Ut>=100,cn=nt.useMemo(()=>{const It={};return i.forEach(Ct=>{const Gt=Ct.lesson||"?";It[Gt]=(It[Gt]||0)+1}),Object.entries(It).sort((Ct,Gt)=>(parseInt(Ct[0])||999)-(parseInt(Gt[0])||999))},[i]),oi=nt.useMemo(()=>{const It={};return i.forEach(Ct=>{const Gt=Ct.cando||"?";It[Gt]=(It[Gt]||0)+1}),Object.entries(It).sort()},[i]);return b.jsxs("div",{className:"bg-white border-b border-slate-200 flex flex-col flex-shrink-0 z-20 shadow-sm sticky top-0 max-w-[100vw]",children:[it&&b.jsxs("div",{className:"flex flex-col gap-0.5 p-0.5 bg-slate-50/50 border-b border-slate-100 overflow-hidden animate-in slide-in-from-top-2 duration-300",children:[b.jsx(Vy,{label:"L",items:cn,activeValues:d.lesson,onToggle:It=>{const Ct=d.lesson||[];let Ve=Ct.includes(It)?Ct.filter(ui=>ui!==It):[...Ct,It];N({...d,lesson:Ve})},color:"blue"}),b.jsx(Vy,{label:"C",items:oi,activeValues:d.cando,onToggle:It=>{const Ct=d.cando||[];let Ve=Ct.includes(It)?Ct.filter(ui=>ui!==It):[...Ct,It];N({...d,cando:Ve})},color:"indigo"})]}),b.jsx("div",{className:"bg-white z-10 border-b border-slate-200 shadow-sm max-w-[100vw]",children:b.jsxs("div",{ref:M,className:"flex items-center gap-1 p-1 overflow-x-auto no-scrollbar",children:[_t&&b.jsx(Y0,{size:12,className:"text-blue-600 animate-spin mr-2 flex-shrink-0"}),h&&!_t&&b.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse flex-shrink-0",title:"Unsaved Changes"}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(My,{label:"Lesson",options:[...new Set(i.map(It=>String(It.lesson)))].sort((It,Ct)=>(parseInt(It)||0)-(parseInt(Ct)||0)),selectedValues:d.lesson,onChange:It=>N({...d,lesson:It})}),b.jsx(My,{label:"Can-do",options:[...new Set(i.map(It=>String(It.cando)))].sort((It,Ct)=>(parseInt(It)||0)-(parseInt(Ct)||0)),selectedValues:d.cando,onChange:It=>N({...d,cando:It})})]}),b.jsx("div",{className:"w-px h-6 bg-slate-100 mx-1 flex-shrink-0"}),te&&b.jsxs("button",{onClick:()=>j("problem"),className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-bold transition-all whitespace-nowrap ${v==="problem"?"bg-red-100 text-red-600 border border-red-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,title:"Toggle Marked View",children:[b.jsx(rc,{size:14}),b.jsx("span",{className:"hidden md:inline",children:"Marked"})]}),!o&&b.jsxs(b.Fragment,{children:[xn&&b.jsx("button",{onClick:R?Xt:pt,disabled:_t,className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg shadow-sm transition-colors disabled:opacity-50 ${R?"bg-slate-800 text-white hover:bg-slate-900":"bg-white border border-slate-200 text-slate-800 hover:bg-slate-50"}`,title:R?"Pause":"Start Playlist",children:R?b.jsxs("div",{className:"flex gap-0.5",children:[b.jsx("div",{className:"w-1 h-3 bg-current rounded-full"}),b.jsx("div",{className:"w-1 h-3 bg-current rounded-full"})]}):b.jsx(yd,{size:14,className:"ml-0.5"})}),Cn&&b.jsx("button",{onClick:z,disabled:_t,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-purple-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Shuffle",children:b.jsx(yb,{size:14})})]}),Rn&&b.jsx("button",{onClick:V,disabled:_t,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-slate-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Refresh",children:b.jsx(cb,{size:14,className:_t?"animate-spin":""})}),qn&&b.jsxs("div",{className:"hidden md:flex items-center gap-0.5 scale-90 origin-left",children:[b.jsx("button",{onClick:()=>U("bangla"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${y.bangla?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"BN"}),b.jsx("button",{onClick:()=>U("japanese"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${y.japanese?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"JP"}),b.jsx("button",{onClick:()=>U("kanji"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${y.kanji?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"KN"})]}),qn&&b.jsxs("div",{className:"md:hidden flex items-center gap-0.5",children:[b.jsx("button",{onClick:()=>U("bangla"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${y.bangla?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"BN"}),b.jsx("button",{onClick:()=>U("japanese"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${y.japanese?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"JP"}),b.jsx("button",{onClick:()=>U("kanji"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${y.kanji?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"KN"})]}),o&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:P,className:"bg-white border px-2 py-1 rounded text-xs whitespace-nowrap",children:b.jsx(Cb,{size:14})}),b.jsx("button",{onClick:H,className:"bg-green-600 text-white px-2 py-1 rounded text-xs whitespace-nowrap",children:b.jsx(K0,{size:14})})]}),li&&b.jsxs("button",{onClick:()=>ht(!it),className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-semibold transition-all shadow-sm ${it?"bg-indigo-600 text-white border border-indigo-600 shadow-indigo-200":"bg-white text-slate-600 border border-slate-200"}`,title:it?"Hide Chips":"Show Chips",children:[it?b.jsx(mo,{size:14}):b.jsx(F0,{size:14}),b.jsx("span",{className:"hidden md:inline",children:"Chips"})]}),un&&b.jsx("button",{onClick:()=>yt(!0),className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-slate-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Columns",children:b.jsx(gb,{size:14})}),b.jsxs("div",{className:"hidden md:flex items-center gap-2 ml-auto mr-2 text-[11px] bg-slate-100 px-3 py-1.5 rounded-full border border-slate-200",children:[b.jsx("div",{className:"font-bold text-slate-700 max-w-[200px] truncate",children:r==="root"?"My Drive":e.find(It=>It.id===r)?.name||"..."}),b.jsx("div",{className:"text-slate-300",children:"|"}),b.jsxs("div",{className:"text-slate-600 font-medium",children:["Showing ",b.jsx("span",{className:"text-slate-900 font-bold font-mono",children:ae!==void 0?ae:vt.length})," / ",b.jsx("span",{className:"font-mono",children:Y!==void 0?Y:i.length})]})]})]})})]})},qb=({isOpen:r,onClose:e,allColumns:i,columnOrder:a,setColumnOrder:o,columnVisibility:h,setColumnVisibility:d})=>{if(!r)return null;const y=(p,S)=>{if(S<0||S>=a.length)return;const A=[...a],[N]=A.splice(p,1);A.splice(S,0,N),o(A)},v=p=>{d(S=>({...S,[p]:!S[p]}))};return b.jsx("div",{className:"fixed inset-0 z-[120] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden flex flex-col max-h-[80vh]",children:[b.jsxs("div",{className:"p-4 border-b bg-slate-50 flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-slate-700",children:"Manage Columns"}),b.jsx("button",{onClick:e,children:b.jsx(Q0,{size:20,className:"text-slate-400 hover:text-slate-600"})})]}),b.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-2",children:a.map((p,S)=>{const A=i.find(j=>j.id===p);if(!A)return null;const N=h[p]!==!1;return b.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg border ${N?"bg-white border-slate-200":"bg-slate-50 border-slate-100 opacity-60"}`,children:[b.jsx("input",{type:"checkbox",checked:N,onChange:()=>v(A.id),className:"rounded text-indigo-600 focus:ring-indigo-500",disabled:A.id==="selection"}),b.jsx("span",{className:"flex-1 text-sm font-bold text-slate-700",children:A.label||(A.icon?b.jsx(A.icon,{size:14}):"System")}),N&&b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>y(S,S-1),disabled:S===0||A.fixed||A.id==="selection"||A.id==="delete",className:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-indigo-600 disabled:opacity-20",children:b.jsx(qE,{size:16})}),b.jsx("button",{onClick:()=>y(S,S+1),disabled:S===a.length-1||A.fixed||A.id==="selection"||A.id==="delete",className:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-indigo-600 disabled:opacity-20",children:b.jsx(mo,{size:16})})]})]},A.id)})}),b.jsxs("div",{className:"p-4 border-t bg-slate-50 text-right",children:[b.jsx("button",{onClick:()=>{o(i.map(S=>S.id));const p={};i.forEach(S=>p[S.id]=!0),d(p)},className:"text-xs text-red-500 font-bold hover:underline mr-4",children:"Reset Default"}),b.jsx("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 text-sm",children:"Done"})]})]})})},Hb=({isOpen:r,onClose:e,onImport:i})=>{const[a,o]=nt.useState("input"),[h,d]=nt.useState(""),[y,v]=nt.useState([]),[p,S]=nt.useState([]);if(!r)return null;const A=()=>{const H=h.trim().split(`
`).map(et=>et.split("	")).filter(et=>et.length>0&&et.some(pt=>pt.trim()));if(H.length===0){alert("No data found");return}v(H);const P=Math.max(...H.map(et=>et.length));S(new Array(P).fill("skip")),o("mapping")},N=(U,H)=>{const P=[...p];H!=="skip"&&P.includes(H)&&(P[P.indexOf(H)]="skip"),P[U]=H,S(P)},j=()=>{const U=y.map(H=>{const P={};return p.forEach((et,pt)=>{et!=="skip"&&(P[et]=H[pt])}),P});i(U),o("input"),d(""),v([])};return b.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800",children:a==="input"?"Step 1: Paste Data":"Step 2: Map Columns"}),b.jsx("p",{className:"text-sm text-slate-500 mt-1",children:a==="input"?"Paste your vocabulary from Excel or Google Sheets.":"Assign column types. Hiragana is required."})]}),b.jsx("button",{onClick:e,children:b.jsx(Q0,{className:"text-slate-400 hover:text-red-500",size:24})})]}),b.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:a==="input"?b.jsx("textarea",{autoFocus:!0,value:h,onChange:U=>d(U.target.value),placeholder:`Example:
			1	1
			1	1`,className:"w-full h-96 p-4 border border-slate-300 rounded-xl font-mono text-sm bg-slate-50 focus:ring-2 focus:ring-indigo-500 outline-none resize-none"}):b.jsx("div",{className:"space-y-6",children:b.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[b.jsx("thead",{children:b.jsx("tr",{children:p.map((U,H)=>b.jsxs("th",{className:"p-2 border-b border-r border-slate-200 bg-slate-50 min-w-[150px]",children:[b.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:["Column ",String.fromCharCode(65+H)]}),b.jsxs("select",{value:U,onChange:P=>N(H,P.target.value),className:`w-full p-2 rounded border text-sm font-bold ${U==="skip"?"text-slate-400 border-slate-200":"text-indigo-700 border-indigo-300 bg-indigo-50"}`,children:[b.jsx("option",{value:"skip",children:"Skip"}),b.jsx("option",{value:"japanese",children:"Hiragana (Req)"}),b.jsx("option",{value:"kanji",children:"Kanji"}),b.jsx("option",{value:"bangla",children:"Bangla"}),b.jsx("option",{value:"lesson",children:"Lesson No."}),b.jsx("option",{value:"cando",children:"Can-do No."})]})]},H))})}),b.jsx("tbody",{children:y.slice(0,5).map((U,H)=>b.jsx("tr",{className:"border-b border-slate-100 last:border-0",children:p.map((P,et)=>b.jsx("td",{className:`p-3 border-r border-slate-100 ${p[et]==="skip"?"text-slate-400 bg-slate-50":"text-slate-800"}`,children:U[et]||b.jsx("span",{className:"italic text-slate-300",children:"empty"})},et))},H))})]})})})}),b.jsx("div",{className:"p-6 border-t bg-slate-50 rounded-b-2xl flex justify-between items-center",children:b.jsxs("div",{className:"flex gap-3 ml-auto",children:[a==="mapping"&&b.jsx("button",{onClick:()=>o("input"),className:"px-4 py-2.5 text-slate-600 font-bold hover:bg-slate-200 rounded-lg transition-colors",children:"Back"}),a==="input"?b.jsxs("button",{onClick:A,disabled:!h.trim(),className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors shadow-sm flex items-center gap-2",children:["Next Step ",b.jsx(F0,{size:16})]}):b.jsxs("button",{onClick:j,disabled:!p.includes("japanese"),className:"px-6 py-2.5 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:bg-slate-400 shadow-sm transition-colors flex items-center gap-2",children:[b.jsx(KE,{size:16})," Confirm Import"]})]})})]})})},Oy=({folders:r,currentFolderId:e,handleFolderChange:i,isMobile:a=!1})=>b.jsxs("div",{className:`${a?"w-full":"w-16 lg:w-64"} bg-slate-900 border-r border-slate-800 flex flex-col h-full flex-shrink-0 transition-all`,children:[b.jsxs("div",{className:`p-4 h-16 border-b border-slate-800 flex items-center ${a?"justify-start":"justify-center lg:justify-start"} gap-3`,children:[b.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg text-white flex items-center justify-center font-bold text-lg shadow-lg flex-shrink-0",children:""}),b.jsxs("span",{className:`${a?"block":"hidden lg:block"} font-bold text-white text-lg`,children:["Irodori",b.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-1",children:[b.jsx("div",{className:`${a?"block":"hidden lg:block"} px-4 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2`,children:"My Workbooks"}),b.jsxs("button",{onClick:()=>i("root"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors ${e==="root"?"bg-slate-800 text-white border-r-2 border-indigo-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[b.jsx(Ry,{size:20,className:"flex-shrink-0"}),b.jsx("span",{className:`${a?"block":"hidden lg:block"}`,children:"All Books"})]}),r.filter(o=>o.parentId==="root").map(o=>b.jsx("div",{className:"group relative",children:b.jsxs("button",{onClick:()=>i(o.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors ${e===o.id?"bg-slate-800 text-white border-r-2 border-indigo-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[b.jsx(Ry,{size:20,className:`flex-shrink-0 ${e===o.id?"text-yellow-400 fill-yellow-400":""}`}),b.jsx("span",{className:`${a?"block":"hidden lg:block"}`,children:o.name})]})},o.id))]})]}),Gb=({currentPage:r,totalPages:e,itemsPerPage:i,onPageChange:a,onItemsPerPageChange:o,totalItems:h})=>{const d=[50,100,150,250,500,1e3],y=nt.useMemo(()=>{const v=[];if(e<=7)for(let p=1;p<=e;p++)v.push(p);else if(r<=4){for(let p=1;p<=5;p++)v.push(p);v.push("..."),v.push(e)}else if(r>=e-3){v.push(1),v.push("...");for(let p=e-4;p<=e;p++)v.push(p)}else v.push(1),v.push("..."),v.push(r-1),v.push(r),v.push(r+1),v.push("..."),v.push(e);return v},[r,e]);return b.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-between gap-2 py-2 px-3 bg-white border-t border-slate-100 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.02)] z-20 text-xs",children:[b.jsxs("div",{className:"flex items-center gap-2 group order-1",children:[b.jsx("label",{htmlFor:"rows-per-page",className:"hidden sm:block text-[10px] font-bold uppercase tracking-wider text-slate-400 group-hover:text-slate-600 transition-colors",children:"Rows"}),b.jsxs("div",{className:"relative",children:[b.jsx("select",{id:"rows-per-page",value:i,onChange:v=>o(Number(v.target.value)),className:"appearance-none bg-slate-50 border border-slate-200 text-slate-700 text-xs font-bold rounded pl-2 pr-6 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 hover:border-slate-300 transition-all cursor-pointer shadow-sm",children:d.map(v=>b.jsx("option",{value:v,children:v},v))}),b.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-slate-500",children:b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),b.jsxs("div",{className:"flex items-center gap-1 order-2",children:[b.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[b.jsx(Xu,{onClick:()=>a(1),disabled:r===1,title:"First Page",children:b.jsx(GE,{size:14})}),b.jsx(Xu,{onClick:()=>a(r-1),disabled:r===1,title:"Previous Page",children:b.jsx(UE,{size:14})})]}),b.jsx("div",{className:"flex items-center gap-1",children:y.map((v,p)=>b.jsx(Ii.Fragment,{children:v==="..."?b.jsx("span",{className:"text-slate-400 px-0.5 select-none font-medium",children:"..."}):b.jsx("button",{onClick:()=>a(v),className:`
                    min-w-[28px] h-7 px-1.5 rounded text-xs font-bold transition-all duration-200 border
                    ${r===v?"bg-indigo-600 text-white border-indigo-600 shadow-sm shadow-indigo-200":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:text-indigo-600 hover:border-indigo-200"}
                  `,children:v})},p))}),b.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[b.jsx(Xu,{onClick:()=>a(r+1),disabled:r===e,title:"Next Page",children:b.jsx(BE,{size:14})}),b.jsx(Xu,{onClick:()=>a(e),disabled:r===e,title:"Last Page",children:b.jsx(QE,{size:14})})]})]})]})},Xu=({onClick:r,disabled:e,title:i,children:a})=>b.jsx("button",{onClick:r,disabled:e,title:i,className:`
      p-1.5 rounded transition-all duration-200 flex items-center justify-center border
      ${e?"text-slate-300 bg-slate-50 border-transparent cursor-not-allowed":"text-slate-500 bg-white border-slate-200 hover:text-indigo-600 hover:bg-indigo-50 hover:border-indigo-100 active:scale-95"}
    `,children:a});window._speechUtteranceHolder=null;window.androidAudioFinished=()=>{window._currentAndroidCallback&&(window._currentAndroidCallback(),window._currentAndroidCallback=null)};const Iy=()=>{window.AndroidNative&&window.AndroidNative.stop&&(window.AndroidNative.stop(),window._currentAndroidCallback=null),window.speechSynthesis&&window.speechSynthesis.cancel(),window._speechUtteranceHolder=null},Fb=(r,e)=>{if(window.AndroidNative&&window.AndroidNative.speak){window._currentAndroidCallback=e,window.AndroidNative.speak(r);return}if(window.speechSynthesis&&window.speechSynthesis.cancel(),!r||!window.speechSynthesis){e&&e();return}const i=()=>{const o=new SpeechSynthesisUtterance(r);o.lang="ja-JP",o.rate=1,o.pitch=1;const d=window.speechSynthesis.getVoices().find(y=>y.lang==="ja-JP"&&/natural|google|premium|kyoko|otoya/i.test(y.name));d&&(o.voice=d),window._speechUtteranceHolder=o,o.onend=()=>{window._speechUtteranceHolder=null,e&&e()},o.onerror=y=>{console.error("TTS Error",y),window._speechUtteranceHolder=null,e&&e()},window.speechSynthesis.speak(o)};if(window.speechSynthesis.getVoices().length>0)setTimeout(i,10);else{let o=!1;const h=()=>{o||(o=!0,setTimeout(i,10))};window.speechSynthesis.onvoiceschanged=h,setTimeout(()=>{o||(o=!0,setTimeout(i,10))},300)}},Qb=(r,e,i)=>{const[a,o]=nt.useState("idle"),[h,d]=nt.useState(!1),[y,v]=nt.useState([]),[p,S]=nt.useState(-1),[A,N]=nt.useState(0),[j,U]=nt.useState({speed:1,repeatMode:"1x",includeBangla:!1}),[H,P]=nt.useState(!1);nt.useRef(null);const et=()=>{h?(Iy(),d(!1)):d(!0)},pt=nt.useCallback(()=>{Iy(),d(!1),o("idle"),v([]),S(-1),N(0),P(!1)},[]),dt=nt.useCallback(()=>{if(h){if(A<(j.repeatPerItem||1)-1){setTimeout(()=>N(C=>C+1),500);return}p<y.length-1?setTimeout(()=>{N(0),S(C=>C+1)},800):a==="playlist"&&j.playlistLoop?setTimeout(()=>{N(0),S(0)},800):(d(!1),N(0),S(0),i("Playback Finished"))}},[h,A,j,p,y.length,a,i]),yt=()=>{const C=y[p],x=r.find(w=>w.localId===C)||r.find(w=>w.id===C);if(!x){dt();return}Fb(x.japanese,()=>{dt()})};nt.useEffect(()=>{h&&p>=0&&p<y.length&&yt()},[h,p,y,A]);const _t=(C=0)=>{v(e.map(x=>x.localId)),S(C),o("playlist"),N(0),d(!0),P(!1)},vt=nt.useCallback(C=>{pt(),o("single"),v([C.localId]),S(0),d(!0)},[pt]);return{playbackMode:a,isPlaying:h,playbackQueue:y,currentIndex:p,audioConfig:j,isAudioBarManuallyHidden:H,setAudioConfig:U,setIsAudioBarManuallyHidden:P,togglePlayPause:et,stopPlaylist:pt,startPlaylist:_t,handlePlaySingle:vt,onPrevTrack:()=>{p>0&&S(C=>C-1)},onNextTrack:()=>{p<y.length-1&&S(C=>C+1)}}},Yb=(r=[],e,i,a,o,h,d,y)=>{const v=d?y:r,p=Array.isArray(v)?v:[],S=nt.useMemo(()=>{let j=[...p];if(e!=="root"&&(j=j.filter(U=>U.folderId===e)),i){const U=i.toLowerCase();j=j.filter(H=>H.japanese.includes(U)||H.bangla.includes(U)||H.kanji.includes(U))}if(Array.isArray(a.lesson)&&a.lesson.length>0){const U=a.lesson.map(String);j=j.filter(H=>U.includes(String(H.lesson)))}else a.lesson!=="all"&&!Array.isArray(a.lesson)&&(j=j.filter(U=>String(U.lesson)===String(a.lesson)));if(Array.isArray(a.cando)&&a.cando.length>0){const U=a.cando.map(String);j=j.filter(H=>U.includes(String(H.cando)))}else a.cando!=="all"&&!Array.isArray(a.cando)&&(j=j.filter(U=>String(U.cando)===String(a.cando)));if(h==="problem"?j=j.filter(U=>U.isMarked):h==="weak"&&(j=j.filter(U=>U.isMarked)),o.key==="random")for(let U=j.length-1;U>0;U--){const H=Math.floor(Math.random()*(U+1));[j[U],j[H]]=[j[H],j[U]]}else o.key&&j.sort((U,H)=>{let P=U[o.key],et=H[o.key];return typeof P=="string"&&(P=P.toLowerCase()),typeof et=="string"&&(et=et.toLowerCase()),(P<et?-1:1)*(o.direction==="asc"?1:-1)});return j},[p,e,i,a,o,h]),A=nt.useMemo(()=>{if(!r||!Array.isArray(r))return[];const j=new Date;return Array.from({length:7},(U,H)=>{const P=new Date(j);return P.setDate(j.getDate()-(6-H)),{date:P.toISOString().split("T")[0],score:0,hasActivity:!1}})},[r]),N=nt.useMemo(()=>{if(!r||!Array.isArray(r))return null;const j=r.filter(H=>H.isMarked);if(j.length===0)return null;const U={};return j.forEach(H=>{const P=`${H.lesson}-${H.cando}`;U[P]||(U[P]={count:0,lesson:H.lesson,cando:H.cando}),U[P].count++}),Object.values(U).sort((H,P)=>P.count-H.count)[0]||null},[r]);return{filteredAndSortedData:S,trendData:A,weaknessSuggestion:N,safeDataList:p}},Xb=(r,e,i)=>nt.useMemo(()=>{let a=0;return i==="root"?a=r.length:a=r.filter(h=>h.folderId===i).length,{showingCount:e.length,totalCount:a}},[r,e,i]),Kb=()=>{};var jy={};const J0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},$b=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],y=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,p=v?r[o+2]:0,S=h>>2,A=(h&3)<<4|y>>4;let N=(y&15)<<2|p>>6,j=p&63;v||(j=64,d||(N=64)),a.push(i[S],i[A],i[N],i[j])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(J0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$b(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||y==null||p==null||A==null)throw new Zb;const N=h<<2|y>>4;if(a.push(N),p!==64){const j=y<<4&240|p>>2;if(a.push(j),A!==64){const U=p<<6&192|A;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Zb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jb=function(r){const e=J0(r);return W0.encodeByteArray(e,!0)},lc=function(r){return Jb(r).replace(/\./g,"")},Wb=function(r){try{return W0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eT=()=>tT().__FIREBASE_DEFAULTS__,nT=()=>{if(typeof process>"u"||typeof jy>"u")return;const r=jy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Wb(r[1]);return e&&JSON.parse(e)},_d=()=>{try{return Kb()||eT()||nT()||iT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sT=r=>_d()?.emulatorHosts?.[r],aT=r=>{const e=sT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},t_=()=>_d()?.config;class rT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function vd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lT(r){return(await fetch(r,{credentials:"include"})).ok}function oT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lc(JSON.stringify(i)),lc(JSON.stringify(d)),""].join(".")}const oo={};function uT(){const r={prod:[],emulator:[]};for(const e of Object.keys(oo))oo[e]?r.emulator.push(e):r.prod.push(e);return r}function cT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let zy=!1;function hT(r,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||oo[r]===e||oo[r]||zy)return;oo[r]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",h=uT().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,j){N.setAttribute("width","24"),N.setAttribute("id",j),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{zy=!0,d()},N}function S(N,j){N.setAttribute("id",j),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=cT(a),j=i("text"),U=document.getElementById(j)||document.createElement("span"),H=i("learnmore"),P=document.getElementById(H)||document.createElement("a"),et=i("preprendIcon"),pt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const dt=N.element;y(dt),S(P,H);const yt=p();v(pt,et),dt.append(pt,U,P,yt),document.body.appendChild(dt)}h?(U.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function fT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){const r=_d()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mT(){return!dT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gT(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const yT="FirebaseError";class nl extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=yT,Object.setPrototypeOf(this,nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e_.prototype.create)}}class e_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?_T(h,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new nl(o,y,a)}}function _T(r,e){return r.replace(vT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const vT=/\{\$([^}]+)}/g;function oc(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(ky(h)&&ky(d)){if(!oc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function ky(r){return r!==null&&typeof r=="object"}function go(r){return r&&r._delegate?r._delegate:r}class po{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class ET{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new rT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TT(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bT(r){return r===qa?void 0:r}function TT(r){return r.instantiationMode==="EAGER"}class ST{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ET(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Yt||(Yt={}));const AT={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},wT=Yt.INFO,xT={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},CT=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=xT[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class n_{constructor(e){this.name=e,this._logLevel=wT,this._logHandler=CT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const RT=(r,e)=>e.some(i=>r instanceof i);let Uy,Ly;function NT(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DT(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i_=new WeakMap,Kf=new WeakMap,s_=new WeakMap,Lf=new WeakMap,Ed=new WeakMap;function VT(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ta(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&i_.set(i,r)}).catch(()=>{}),Ed.set(e,r),e}function MT(r){if(Kf.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Kf.set(r,e)}let $f={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Kf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||s_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ta(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function OT(r){$f=r($f)}function IT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Bf(this),e,...i);return s_.set(a,e.sort?e.sort():[e]),ta(a)}:DT().includes(r)?function(...e){return r.apply(Bf(this),e),ta(i_.get(this))}:function(...e){return ta(r.apply(Bf(this),e))}}function jT(r){return typeof r=="function"?IT(r):(r instanceof IDBTransaction&&MT(r),RT(r,NT())?new Proxy(r,$f):r)}function ta(r){if(r instanceof IDBRequest)return VT(r);if(Lf.has(r))return Lf.get(r);const e=jT(r);return e!==r&&(Lf.set(r,e),Ed.set(e,r)),e}const Bf=r=>Ed.get(r);function zT(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),y=ta(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ta(d.result),v.oldVersion,v.newVersion,ta(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),y}const kT=["get","getKey","getAll","getAllKeys","count"],UT=["put","add","delete","clear"],Pf=new Map;function By(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=UT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||kT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let p=v.store;return a&&(p=p.index(y.shift())),(await Promise.all([p[i](...y),o&&v.done]))[0]};return Pf.set(e,h),h}OT(r=>({...r,get:(e,i,a)=>By(e,i)||r.get(e,i,a),has:(e,i)=>!!By(e,i)||r.has(e,i)}));class LT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function BT(r){return r.getComponent()?.type==="VERSION"}const Zf="@firebase/app",Py="0.14.6";const _s=new n_("@firebase/app"),PT="@firebase/app-compat",qT="@firebase/analytics-compat",HT="@firebase/analytics",GT="@firebase/app-check-compat",FT="@firebase/app-check",QT="@firebase/auth",YT="@firebase/auth-compat",XT="@firebase/database",KT="@firebase/data-connect",$T="@firebase/database-compat",ZT="@firebase/functions",JT="@firebase/functions-compat",WT="@firebase/installations",t2="@firebase/installations-compat",e2="@firebase/messaging",n2="@firebase/messaging-compat",i2="@firebase/performance",s2="@firebase/performance-compat",a2="@firebase/remote-config",r2="@firebase/remote-config-compat",l2="@firebase/storage",o2="@firebase/storage-compat",u2="@firebase/firestore",c2="@firebase/ai",h2="@firebase/firestore-compat",f2="firebase",d2="12.6.0";const Jf="[DEFAULT]",m2={[Zf]:"fire-core",[PT]:"fire-core-compat",[HT]:"fire-analytics",[qT]:"fire-analytics-compat",[FT]:"fire-app-check",[GT]:"fire-app-check-compat",[QT]:"fire-auth",[YT]:"fire-auth-compat",[XT]:"fire-rtdb",[KT]:"fire-data-connect",[$T]:"fire-rtdb-compat",[ZT]:"fire-fn",[JT]:"fire-fn-compat",[WT]:"fire-iid",[t2]:"fire-iid-compat",[e2]:"fire-fcm",[n2]:"fire-fcm-compat",[i2]:"fire-perf",[s2]:"fire-perf-compat",[a2]:"fire-rc",[r2]:"fire-rc-compat",[l2]:"fire-gcs",[o2]:"fire-gcs-compat",[u2]:"fire-fst",[h2]:"fire-fst-compat",[c2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};const yo=new Map,g2=new Map,Wf=new Map;function qy(r,e){try{r.container.addComponent(e)}catch(i){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function uc(r){const e=r.name;if(Wf.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Wf.set(e,r);for(const i of yo.values())qy(i,r);for(const i of g2.values())qy(i,r);return!0}function p2(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function y2(r){return r==null?!1:r.settings!==void 0}const _2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new e_("app","Firebase",_2);class v2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}const E2=d2;function a_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Jf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ea.create("bad-app-name",{appName:String(o)});if(i||(i=t_()),!i)throw ea.create("no-options");const h=yo.get(o);if(h){if(oc(i,h.options)&&oc(a,h.config))return h;throw ea.create("duplicate-app",{appName:o})}const d=new ST(o);for(const v of Wf.values())d.addComponent(v);const y=new v2(i,a,d);return yo.set(o,y),y}function r_(r=Jf){const e=yo.get(r);if(!e&&r===Jf&&t_())return a_();if(!e)throw ea.create("no-app",{appName:r});return e}function b2(){return Array.from(yo.values())}function Yr(r,e,i){let a=m2[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}uc(new po(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const T2="firebase-heartbeat-database",S2=1,_o="firebase-heartbeat-store";let qf=null;function l_(){return qf||(qf=zT(T2,S2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_o)}catch(i){console.warn(i)}}}}).catch(r=>{throw ea.create("idb-open",{originalErrorMessage:r.message})})),qf}async function A2(r){try{const i=(await l_()).transaction(_o),a=await i.objectStore(_o).get(o_(r));return await i.done,a}catch(e){if(e instanceof nl)_s.warn(e.message);else{const i=ea.create("idb-get",{originalErrorMessage:e?.message});_s.warn(i.message)}}}async function Hy(r,e){try{const a=(await l_()).transaction(_o,"readwrite");await a.objectStore(_o).put(e,o_(r)),await a.done}catch(i){if(i instanceof nl)_s.warn(i.message);else{const a=ea.create("idb-set",{originalErrorMessage:i?.message});_s.warn(a.message)}}}function o_(r){return`${r.name}!${r.options.appId}`}const w2=1024,x2=30;class C2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new N2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Gy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>x2){const o=D2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gy(),{heartbeatsToSend:i,unsentEntries:a}=R2(this._heartbeatsCache.heartbeats),o=lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _s.warn(e),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function R2(r,e=w2){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Fy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Fy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class N2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gT()?pT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await A2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Fy(r){return lc(JSON.stringify({version:2,heartbeats:r})).length}function D2(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function V2(r){uc(new po("platform-logger",e=>new LT(e),"PRIVATE")),uc(new po("heartbeat",e=>new C2(e),"PRIVATE")),Yr(Zf,Py,r),Yr(Zf,Py,"esm2020"),Yr("fire-js","")}V2("");var M2="firebase",O2="12.7.0";Yr(M2,O2,"app");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var na,u_;(function(){var r;function e(C,x){function w(){}w.prototype=x.prototype,C.F=x.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(I,V,z){for(var R=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)R[Xt-2]=arguments[Xt];return x.prototype[V].apply(I,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,w){w||(w=0);const I=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)I[V]=x.charCodeAt(w++)|x.charCodeAt(w++)<<8|x.charCodeAt(w++)<<16|x.charCodeAt(w++)<<24;else for(V=0;V<16;++V)I[V]=x[w++]|x[w++]<<8|x[w++]<<16|x[w++]<<24;x=C.g[0],w=C.g[1],V=C.g[2];let z=C.g[3],R;R=x+(z^w&(V^z))+I[0]+3614090360&4294967295,x=w+(R<<7&4294967295|R>>>25),R=z+(V^x&(w^V))+I[1]+3905402710&4294967295,z=x+(R<<12&4294967295|R>>>20),R=V+(w^z&(x^w))+I[2]+606105819&4294967295,V=z+(R<<17&4294967295|R>>>15),R=w+(x^V&(z^x))+I[3]+3250441966&4294967295,w=V+(R<<22&4294967295|R>>>10),R=x+(z^w&(V^z))+I[4]+4118548399&4294967295,x=w+(R<<7&4294967295|R>>>25),R=z+(V^x&(w^V))+I[5]+1200080426&4294967295,z=x+(R<<12&4294967295|R>>>20),R=V+(w^z&(x^w))+I[6]+2821735955&4294967295,V=z+(R<<17&4294967295|R>>>15),R=w+(x^V&(z^x))+I[7]+4249261313&4294967295,w=V+(R<<22&4294967295|R>>>10),R=x+(z^w&(V^z))+I[8]+1770035416&4294967295,x=w+(R<<7&4294967295|R>>>25),R=z+(V^x&(w^V))+I[9]+2336552879&4294967295,z=x+(R<<12&4294967295|R>>>20),R=V+(w^z&(x^w))+I[10]+4294925233&4294967295,V=z+(R<<17&4294967295|R>>>15),R=w+(x^V&(z^x))+I[11]+2304563134&4294967295,w=V+(R<<22&4294967295|R>>>10),R=x+(z^w&(V^z))+I[12]+1804603682&4294967295,x=w+(R<<7&4294967295|R>>>25),R=z+(V^x&(w^V))+I[13]+4254626195&4294967295,z=x+(R<<12&4294967295|R>>>20),R=V+(w^z&(x^w))+I[14]+2792965006&4294967295,V=z+(R<<17&4294967295|R>>>15),R=w+(x^V&(z^x))+I[15]+1236535329&4294967295,w=V+(R<<22&4294967295|R>>>10),R=x+(V^z&(w^V))+I[1]+4129170786&4294967295,x=w+(R<<5&4294967295|R>>>27),R=z+(w^V&(x^w))+I[6]+3225465664&4294967295,z=x+(R<<9&4294967295|R>>>23),R=V+(x^w&(z^x))+I[11]+643717713&4294967295,V=z+(R<<14&4294967295|R>>>18),R=w+(z^x&(V^z))+I[0]+3921069994&4294967295,w=V+(R<<20&4294967295|R>>>12),R=x+(V^z&(w^V))+I[5]+3593408605&4294967295,x=w+(R<<5&4294967295|R>>>27),R=z+(w^V&(x^w))+I[10]+38016083&4294967295,z=x+(R<<9&4294967295|R>>>23),R=V+(x^w&(z^x))+I[15]+3634488961&4294967295,V=z+(R<<14&4294967295|R>>>18),R=w+(z^x&(V^z))+I[4]+3889429448&4294967295,w=V+(R<<20&4294967295|R>>>12),R=x+(V^z&(w^V))+I[9]+568446438&4294967295,x=w+(R<<5&4294967295|R>>>27),R=z+(w^V&(x^w))+I[14]+3275163606&4294967295,z=x+(R<<9&4294967295|R>>>23),R=V+(x^w&(z^x))+I[3]+4107603335&4294967295,V=z+(R<<14&4294967295|R>>>18),R=w+(z^x&(V^z))+I[8]+1163531501&4294967295,w=V+(R<<20&4294967295|R>>>12),R=x+(V^z&(w^V))+I[13]+2850285829&4294967295,x=w+(R<<5&4294967295|R>>>27),R=z+(w^V&(x^w))+I[2]+4243563512&4294967295,z=x+(R<<9&4294967295|R>>>23),R=V+(x^w&(z^x))+I[7]+1735328473&4294967295,V=z+(R<<14&4294967295|R>>>18),R=w+(z^x&(V^z))+I[12]+2368359562&4294967295,w=V+(R<<20&4294967295|R>>>12),R=x+(w^V^z)+I[5]+4294588738&4294967295,x=w+(R<<4&4294967295|R>>>28),R=z+(x^w^V)+I[8]+2272392833&4294967295,z=x+(R<<11&4294967295|R>>>21),R=V+(z^x^w)+I[11]+1839030562&4294967295,V=z+(R<<16&4294967295|R>>>16),R=w+(V^z^x)+I[14]+4259657740&4294967295,w=V+(R<<23&4294967295|R>>>9),R=x+(w^V^z)+I[1]+2763975236&4294967295,x=w+(R<<4&4294967295|R>>>28),R=z+(x^w^V)+I[4]+1272893353&4294967295,z=x+(R<<11&4294967295|R>>>21),R=V+(z^x^w)+I[7]+4139469664&4294967295,V=z+(R<<16&4294967295|R>>>16),R=w+(V^z^x)+I[10]+3200236656&4294967295,w=V+(R<<23&4294967295|R>>>9),R=x+(w^V^z)+I[13]+681279174&4294967295,x=w+(R<<4&4294967295|R>>>28),R=z+(x^w^V)+I[0]+3936430074&4294967295,z=x+(R<<11&4294967295|R>>>21),R=V+(z^x^w)+I[3]+3572445317&4294967295,V=z+(R<<16&4294967295|R>>>16),R=w+(V^z^x)+I[6]+76029189&4294967295,w=V+(R<<23&4294967295|R>>>9),R=x+(w^V^z)+I[9]+3654602809&4294967295,x=w+(R<<4&4294967295|R>>>28),R=z+(x^w^V)+I[12]+3873151461&4294967295,z=x+(R<<11&4294967295|R>>>21),R=V+(z^x^w)+I[15]+530742520&4294967295,V=z+(R<<16&4294967295|R>>>16),R=w+(V^z^x)+I[2]+3299628645&4294967295,w=V+(R<<23&4294967295|R>>>9),R=x+(V^(w|~z))+I[0]+4096336452&4294967295,x=w+(R<<6&4294967295|R>>>26),R=z+(w^(x|~V))+I[7]+1126891415&4294967295,z=x+(R<<10&4294967295|R>>>22),R=V+(x^(z|~w))+I[14]+2878612391&4294967295,V=z+(R<<15&4294967295|R>>>17),R=w+(z^(V|~x))+I[5]+4237533241&4294967295,w=V+(R<<21&4294967295|R>>>11),R=x+(V^(w|~z))+I[12]+1700485571&4294967295,x=w+(R<<6&4294967295|R>>>26),R=z+(w^(x|~V))+I[3]+2399980690&4294967295,z=x+(R<<10&4294967295|R>>>22),R=V+(x^(z|~w))+I[10]+4293915773&4294967295,V=z+(R<<15&4294967295|R>>>17),R=w+(z^(V|~x))+I[1]+2240044497&4294967295,w=V+(R<<21&4294967295|R>>>11),R=x+(V^(w|~z))+I[8]+1873313359&4294967295,x=w+(R<<6&4294967295|R>>>26),R=z+(w^(x|~V))+I[15]+4264355552&4294967295,z=x+(R<<10&4294967295|R>>>22),R=V+(x^(z|~w))+I[6]+2734768916&4294967295,V=z+(R<<15&4294967295|R>>>17),R=w+(z^(V|~x))+I[13]+1309151649&4294967295,w=V+(R<<21&4294967295|R>>>11),R=x+(V^(w|~z))+I[4]+4149444226&4294967295,x=w+(R<<6&4294967295|R>>>26),R=z+(w^(x|~V))+I[11]+3174756917&4294967295,z=x+(R<<10&4294967295|R>>>22),R=V+(x^(z|~w))+I[2]+718787259&4294967295,V=z+(R<<15&4294967295|R>>>17),R=w+(z^(V|~x))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+z&4294967295}a.prototype.v=function(C,x){x===void 0&&(x=C.length);const w=x-this.blockSize,I=this.C;let V=this.h,z=0;for(;z<x;){if(V==0)for(;z<=w;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<x;)if(I[V++]=C.charCodeAt(z++),V==this.blockSize){o(this,I),V=0;break}}else for(;z<x;)if(I[V++]=C[z++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=x},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,w=0;w<4;++w)for(let I=0;I<32;I+=8)C[x++]=this.g[w]>>>I&255;return C};function h(C,x){var w=y;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=x(C)}function d(C,x){this.h=x;const w=[];let I=!0;for(let V=C.length-1;V>=0;V--){const z=C[V]|0;I&&z==x||(w[V]=z,I=!1)}this.g=w}var y={};function v(C){return-128<=C&&C<128?h(C,function(x){return new d([x|0],x<0?-1:0)}):new d([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return P(p(-C));const x=[];let w=1;for(let I=0;C>=w;I++)x[I]=C/w|0,w*=4294967296;return new d(x,0)}function S(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return P(S(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=p(Math.pow(x,8));let I=A;for(let z=0;z<C.length;z+=8){var V=Math.min(8,C.length-z);const R=parseInt(C.substring(z,z+V),x);V<8?(V=p(Math.pow(x,V)),I=I.j(V).add(p(R))):(I=I.j(w),I=I.add(p(R)))}return I}var A=v(0),N=v(1),j=v(16777216);r=d.prototype,r.m=function(){if(H(this))return-P(this).m();let C=0,x=1;for(let w=0;w<this.g.length;w++){const I=this.i(w);C+=(I>=0?I:4294967296+I)*x,x*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(H(this))return"-"+P(this).toString(C);const x=p(Math.pow(C,6));var w=this;let I="";for(;;){const V=yt(w,x).g;w=et(w,V.j(x));let z=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=V,U(w))return z+I;for(;z.length<6;)z="0"+z;I=z+I}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function H(C){return C.h==-1}r.l=function(C){return C=et(this,C),H(C)?-1:U(C)?0:1};function P(C){const x=C.g.length,w=[];for(let I=0;I<x;I++)w[I]=~C.g[I];return new d(w,~C.h).add(N)}r.abs=function(){return H(this)?P(this):this},r.add=function(C){const x=Math.max(this.g.length,C.g.length),w=[];let I=0;for(let V=0;V<=x;V++){let z=I+(this.i(V)&65535)+(C.i(V)&65535),R=(z>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);I=R>>>16,z&=65535,R&=65535,w[V]=R<<16|z}return new d(w,w[w.length-1]&-2147483648?-1:0)};function et(C,x){return C.add(P(x))}r.j=function(C){if(U(this)||U(C))return A;if(H(this))return H(C)?P(this).j(P(C)):P(P(this).j(C));if(H(C))return P(this.j(P(C)));if(this.l(j)<0&&C.l(j)<0)return p(this.m()*C.m());const x=this.g.length+C.g.length,w=[];for(var I=0;I<2*x;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<C.g.length;V++){const z=this.i(I)>>>16,R=this.i(I)&65535,Xt=C.i(V)>>>16,ae=C.i(V)&65535;w[2*I+2*V]+=R*ae,pt(w,2*I+2*V),w[2*I+2*V+1]+=z*ae,pt(w,2*I+2*V+1),w[2*I+2*V+1]+=R*Xt,pt(w,2*I+2*V+1),w[2*I+2*V+2]+=z*Xt,pt(w,2*I+2*V+2)}for(C=0;C<x;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=x;C<2*x;C++)w[C]=0;return new d(w,0)};function pt(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function dt(C,x){this.g=C,this.h=x}function yt(C,x){if(U(x))throw Error("division by zero");if(U(C))return new dt(A,A);if(H(C))return x=yt(P(C),x),new dt(P(x.g),P(x.h));if(H(x))return x=yt(C,P(x)),new dt(P(x.g),x.h);if(C.g.length>30){if(H(C)||H(x))throw Error("slowDivide_ only works with positive integers.");for(var w=N,I=x;I.l(C)<=0;)w=_t(w),I=_t(I);var V=vt(w,1),z=vt(I,1);for(I=vt(I,2),w=vt(w,2);!U(I);){var R=z.add(I);R.l(C)<=0&&(V=V.add(w),z=R),I=vt(I,1),w=vt(w,1)}return x=et(C,V.j(x)),new dt(V,x)}for(V=A;C.l(x)>=0;){for(w=Math.max(1,Math.floor(C.m()/x.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),z=p(w),R=z.j(x);H(R)||R.l(C)>0;)w-=I,z=p(w),R=z.j(x);U(z)&&(z=N),V=V.add(z),C=et(C,R)}return new dt(V,C)}r.B=function(C){return yt(this,C).h},r.and=function(C){const x=Math.max(this.g.length,C.g.length),w=[];for(let I=0;I<x;I++)w[I]=this.i(I)&C.i(I);return new d(w,this.h&C.h)},r.or=function(C){const x=Math.max(this.g.length,C.g.length),w=[];for(let I=0;I<x;I++)w[I]=this.i(I)|C.i(I);return new d(w,this.h|C.h)},r.xor=function(C){const x=Math.max(this.g.length,C.g.length),w=[];for(let I=0;I<x;I++)w[I]=this.i(I)^C.i(I);return new d(w,this.h^C.h)};function _t(C){const x=C.g.length+1,w=[];for(let I=0;I<x;I++)w[I]=C.i(I)<<1|C.i(I-1)>>>31;return new d(w,C.h)}function vt(C,x){const w=x>>5;x%=32;const I=C.g.length-w,V=[];for(let z=0;z<I;z++)V[z]=x>0?C.i(z+w)>>>x|C.i(z+w+1)<<32-x:C.i(z+w);return new d(V,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,u_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=S,na=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c_,so,h_,tc,td,f_,d_,m_;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function p(u,m,_){return p=v,p.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,F){for(var rt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)rt[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,rt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function U(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const F=L.length||0;u.length=_+F;for(let rt=0;rt<F;rt++)u[_+rt]=L[rt]}else u.push(L)}}class H{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(u){d.setTimeout(()=>{throw u},0)}function et(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,_){const T=dt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new H(()=>new yt,u=>u.reset());class yt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,vt=!1,C=new pt,x=()=>{const u=Promise.resolve(void 0);_t=()=>{u.then(w)}};function w(){for(var u;u=et();){try{u.h.call(u.g)}catch(_){P(_)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}vt=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Xt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Xt,V),Xt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),Y=0;function it(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++Y,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let F=0;F<$.length;F++)_=$[F],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,T,L){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const rt=xt(u,m,T,L);return rt>-1?(m=u[rt],_||(m.fa=!1)):(m=new it(m,this.src,F,!!T,L),m.fa=_,u.push(m)),m};function St(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),F;(F=L>=0)&&Array.prototype.splice.call(T,L,1),F&&(ht(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function xt(u,m,_,T){for(let L=0;L<u.length;++L){const F=u[L];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==T)return L}return-1}var At="closure_lm_"+(Math.random()*1e6|0),Ut={};function te(u,m,_,T,L){if(Array.isArray(m)){for(let F=0;F<m.length;F++)te(u,m[F],_,T,L);return null}return _=It(_),u&&u[ae]?u.J(m,_,y(T)?!!T.capture:!1,L):xn(u,m,_,!1,T,L)}function xn(u,m,_,T,L,F){if(!m)throw Error("Invalid event type");const rt=y(L)?!!L.capture:!!L;let Vt=cn(u);if(Vt||(u[At]=Vt=new at(u)),_=Vt.add(m,_,T,rt,F),_.proxy)return _;if(T=Cn(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)z||(L=rt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(un(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cn(){function u(_){return m.call(u.src,u.listener,_)}const m=qn;return u}function li(u,m,_,T,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)li(u,m[F],_,T,L);else T=y(T)?!!T.capture:!!T,_=It(_),u&&u[ae]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],_=xt(m,_,T,L),_>-1&&(ht(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=cn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,_,T,L)),(_=u>-1?m[u]:null)&&Rn(_))}function Rn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ae])St(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(un(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=cn(m))?(St(_,u),_.h==0&&(_.src=null,m[At]=null)):ht(u)}}}function un(u){return u in Ut?Ut[u]:Ut[u]="on"+u}function qn(u,m){if(u.da)u=!0;else{m=new Xt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Rn(u),u=_.call(T,m)}return u}function cn(u){return u=u[At],u instanceof at?u:null}var oi="__closure_events_fn_"+(Math.random()*1e9>>>0);function It(u){return typeof u=="function"?u:(u[oi]||(u[oi]=function(m){return u.handleEvent(m)}),u[oi])}function Ct(){I.call(this),this.i=new at(this),this.M=this,this.G=null}A(Ct,I),Ct.prototype[ae]=!0,Ct.prototype.removeEventListener=function(u,m,_,T){li(this,u,m,_,T)};function Gt(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(T,u),lt(m,L)}L=!0;let F,rt;if(_)for(rt=_.length-1;rt>=0;rt--)F=m.g=_[rt],L=Ve(F,T,!0,m)&&L;if(F=m.g=u,L=Ve(F,T,!0,m)&&L,L=Ve(F,T,!1,m)&&L,_)for(rt=0;rt<_.length;rt++)F=m.g=_[rt],L=Ve(F,T,!1,m)&&L}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ht(_[T]);delete u.g[m],u.h--}}this.G=null},Ct.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Ct.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function Ve(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let F=0;F<m.length;++F){const rt=m[F];if(rt&&!rt.da&&rt.capture==_){const Vt=rt.listener,Ce=rt.ha||rt.src;rt.fa&&St(u.i,rt),L=Vt.call(Ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function ui(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ca(u){u.g=ui(()=>{u.g=null,u.i&&(u.i=!1,ca(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class re extends I{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ca(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(u){I.call(this),this.h=u,this.g={}}A(Ye,I);var ha=[];function fa(u){jt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Rn(m)},u),u.g={}}Ye.prototype.N=function(){Ye.Z.N.call(this),fa(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=d.JSON.stringify,Ja=d.JSON.parse,da=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Pi(){}function bs(){}var Te={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){V.call(this,"d")}A(Me,V);function mn(){V.call(this,"c")}A(mn,V);var _e={},qi=null;function bi(){return qi=qi||new Ct}_e.Ia="serverreachability";function Hi(u){V.call(this,_e.Ia,u)}A(Hi,V);function Nn(u){const m=bi();Gt(m,new Hi(m))}_e.STAT_EVENT="statevent";function Gi(u,m){V.call(this,_e.STAT_EVENT,u),this.stat=m}A(Gi,V);function ve(u){const m=bi();Gt(m,new Gi(m,u))}_e.Ja="timingevent";function gn(u,m){V.call(this,_e.Ja,u),this.size=m}A(gn,V);function Dn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.ua=function(){this.g=!1};function ll(u,m,_,T,L,F){u.info(function(){if(u.g)if(F){var rt="",Vt=F.split("&");for(let Zt=0;Zt<Vt.length;Zt++){var Ce=Vt[Zt].split("=");if(Ce.length>1){const pe=Ce[0];Ce=Ce[1];const $n=pe.split("_");rt=$n.length>=2&&$n[1]=="type"?rt+(pe+"="+Ce+"&"):rt+(pe+"=redacted&")}}}else rt=null;else rt=F;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+rt})}function Wa(u,m,_,T,L,F,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+F+" "+rt})}function Hn(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ol(u,_)+(T?" "+T:"")})}function Fi(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function ol(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var _=F[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return Ei(F)}catch{return m}}var hn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ma;function Yi(){}A(Yi,Pi),Yi.prototype.g=function(){return new XMLHttpRequest},ma=new Yi;function ci(u){return encodeURIComponent(String(u))}function tr(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Vn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new Ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mn}function Mn(){this.i=null,this.g="",this.h=!1}var Se={},Oe={};function Gn(u,m,_){u.M=1,u.A=ne(Ae(m)),u.u=_,u.R=!0,Xi(u,null)}function Xi(u,m){u.F=Date.now(),Fn(u),u.B=Ae(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ar(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Mn,u.g=Po(u.j,_?m:null,!u.u),u.P>0&&(u.O=new re(p(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ha[0]=L.toString()),L=ha);for(let F=0;F<L.length;F++){const rt=te(_,L[F],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Nn(),ll(u.i,u.v,u.B,u.l,u.S,u.u)}Vn.prototype.ba=function(u){u=u.target;const m=this.O;m&&di(u)==3?m.j():this.Y(u)},Vn.prototype.Y=function(u){try{if(u==this.g)t:{const Vt=di(this.g),Ce=this.g.ya(),Zt=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Vt!=4||Ce==7||(Ce==8||Zt<=0?Nn(3):Nn(2)),Qn(this);var m=this.g.ca();this.X=m;var _=ul(this);if(this.o=m==200,Wa(this.i,this.v,this.B,this.l,this.S,Vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var F=T;break e}}F=null}if(u=F)Hn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,On(this,u);else{this.o=!1,this.m=3,ve(12),nn(this),yn(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<_.length;)if(pe=nr(this,_),pe==Oe){Vt==4&&(this.m=4,ve(14),u=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Se){this.m=4,ve(15),Hn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Hn(this.i,this.l,pe,null),On(this,pe);if(er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||_.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)Hn(this.i,this.l,_,"[Invalid Chunked Response]"),nn(this),yn(this);else if(_.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),_l(rt),rt.P=!0,ve(11))}}else Hn(this.i,this.l,_,null),On(this,_);Vt==4&&nn(this),this.o&&!this.K&&(Vt==4?ko(this.j,this):(this.o=!1,Fn(this)))}else Ji(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),nn(this),yn(this)}}}catch{}finally{}};function ul(u){if(!er(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let _="";const T=m.length,L=di(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return nn(u),yn(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<T;F++)u.h.h=!0,_+=u.h.i.decode(m[F],{stream:!(L&&F==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function er(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nr(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Oe:(_=Number(m.substring(_,T)),isNaN(_)?Se:(T+=1,T+_>m.length?Oe:(m=m.slice(T,T+_),u.C=T+_,m)))}Vn.prototype.cancel=function(){this.K=!0,nn(this)};function Fn(u){u.T=Date.now()+u.H,Ts(u,u.H)}function Ts(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Dn(p(u.aa,u),m)}function Qn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Vn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Fi(this.i,this.B),this.M!=2&&(Nn(),ve(17)),nn(this),this.m=2,yn(this)):Ts(this,this.T-u)};function yn(u){u.j.I==0||u.K||ko(u.j,u)}function nn(u){Qn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fa(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function On(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||In(_.h,u))){if(!u.L&&In(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)cr(_),Ns(_);else break t;wa(_),ve(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Dn(p(_.Va,_),6e3));Yn(_.h)<=1&&_.ta&&(_.ta=void 0)}else xi(_,11)}else if((u.L||_.g==u)&&cr(_),!R(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Zt=L[m];const pe=Zt[0];if(!(pe<=_.K))if(_.K=pe,Zt=Zt[1],_.I==2)if(Zt[0]=="c"){_.M=Zt[1],_.ba=Zt[2];const $n=Zt[3];$n!=null&&(_.ka=$n,_.j.info("VER="+_.ka));const Ci=Zt[4];Ci!=null&&(_.za=Ci,_.j.info("SVER="+_.za));const mi=Zt[5];mi!=null&&typeof mi=="number"&&mi>0&&(T=1.5*mi,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const gi=u.g;if(gi){const xa=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var F=T.h;F.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ya(F,F.h),F.h=null))}if(T.G){const hr=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;hr&&(T.wa=hr,ut(T.J,T.G,hr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var rt=u;if(T.na=Bo(T,T.L?T.ba:null,T.W),rt.L){_a(T.h,rt);var Vt=rt,Ce=T.O;Ce&&(Vt.H=Ce),Vt.D&&(Qn(Vt),Fn(Vt)),T.g=rt}else jo(T);_.i.length>0&&wi(_)}else Zt[0]!="stop"&&Zt[0]!="close"||xi(_,7);else _.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?xi(_,7):pl(_):Zt[0]!="noop"&&_.l&&_.l.qa(Zt),_.A=0)}}Nn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function ga(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yn(u){return u.h?1:u.g?u.g.size:0}function In(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ya(u,m){u.g?u.g.add(m):u.h=m}function _a(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ga.prototype.cancel=function(){if(this.i=va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function va(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return j(u.i)}var ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ki(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,F=null;T>=0?(L=u[_].substring(0,T),F=u[_].substring(T+1)):L=u[_],m(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof sn?(this.l=u.l,K(this,u.j),this.o=u.o,this.g=u.g,st(this,u.u),this.h=u.h,ft(this,Oo(u.i)),this.m=u.m):u&&(m=String(u).match(ir))?(this.l=!1,K(this,m[1]||"",!0),this.o=Ge(m[2]||""),this.g=Ge(m[3]||"",!0),st(this,m[4]),this.h=Ge(m[5]||"",!0),ft(this,m[6]||"",!0),this.m=Ge(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push($i(m,sr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push($i(m,sr,!0),"@"),u.push(ci(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push($i(_,_.charAt(0)=="/"?cl:Do,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",$i(_,Vo)),u.join("")},sn.prototype.resolve=function(u){const m=Ae(this);let _=!!u.j;_?K(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)st(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let rt=0;rt<L.length;){const Vt=L[rt++];Vt=="."?T&&rt==L.length&&F.push(""):Vt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),T&&rt==L.length&&F.push("")):(F.push(Vt),T=!0)}T=F.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?ft(m,Oo(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ae(u){return new sn(u)}function K(u,m,_){u.j=_?Ge(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function st(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ft(u,m,_){m instanceof As?(u.i=m,rr(u.i,u.l)):(_||(m=$i(m,Ss)),u.i=new As(m,u.l))}function ut(u,m,_){u.i.set(m,_)}function ne(u){return ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ge(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $i(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sr=/[#\/\?@]/g,Do=/[#\?:]/g,cl=/[#\?]/g,Ss=/[#\?@]/g,Vo=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ki(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=As.prototype,r.add=function(u,m){vn(this),this.i=null,u=ws(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Mo(u,m){vn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hl(u,m){return vn(u),m=ws(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function fl(u,m){vn(u);let _=[];if(typeof m=="string")hl(u,m)&&(_=_.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return vn(this),this.i=null,u=ws(this,u),hl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=fl(this,u),u.length>0?String(u[0]):m):m};function ar(u,m,_){Mo(u,m),_.length>0&&(u.i=null,u.g.set(ws(u,m),j(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=ci(_);_=fl(this,_);for(let F=0;F<_.length;F++){let rt=L;_[F]!==""&&(rt+="="+ci(_[F])),u.push(rt)}}return this.i=u.join("&")};function Oo(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rr(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(Mo(this,T),ar(this,L,_))},u)),u.j=m}function hi(u,m){const _=new pn;if(d.Image){const T=new Image;T.onload=S(Xn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Xn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(Xn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Xn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function dl(u,m){const _=new pn,T=new AbortController,L=setTimeout(()=>{T.abort(),Xn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(F=>{clearTimeout(L),F.ok?Xn(_,"TestPingServer: ok",!0,m):Xn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Xn(_,"TestPingServer: error",!1,m)})}function Xn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function xs(){this.g=new da}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ti,Pi),Ti.prototype.g=function(){return new Ea(this.i,this.h)};function Ea(u,m){Ct.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ea,Ct),r=Ea.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,fi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function lr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):fi(this),this.readyState==3&&lr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},r.Na=function(u){this.g&&(this.response=u,Cs(this))},r.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,fi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return jt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function ba(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Kn(_),typeof u=="string"?_!=null&&ci(_):ut(u,m,_))}function le(u){Ct.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(le,Ct);var Si=/^https?$/i,ml=["POST","PUT"];r=le.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ma.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Ta(this,F);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())_.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ml,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,rt]of _)this.g.setRequestHeader(F,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Ta(this,F)}};function Ta(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,gl(u),Zi(u)}function gl(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Gt(this,"complete"),Gt(this,"abort"),Zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),le.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},r.Xa=function(){Sa(this)};function Sa(u){if(u.h&&typeof h<"u"){if(u.v&&di(u)==4)setTimeout(u.Ca.bind(u),0);else if(Gt(u,"readystatechange"),di(u)==4){u.h=!1;try{const F=u.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=F===0){let rt=String(u.D).match(ir)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!Si.test(rt?rt.toLowerCase():"")}_=T}if(_)Gt(u,"complete"),Gt(u,"success");else{u.o=6;try{var L=di(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",gl(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Gt(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function di(u){return u.g?u.g.readyState:0}r.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ja(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&di(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=tr(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[L]||[];m[L]=F,F.push(_)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Rs(u){this.za=0,this.i=[],this.j=new pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ga(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ve(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Bo(this,null,this.W),wi(this)};function pl(u){if(or(u),u.I==3){var m=u.V++,_=Ae(u.J);if(ut(_,"SID",u.M),ut(_,"RID",m),ut(_,"TYPE","terminate"),Aa(u,_),m=new Vn(u,u.j,m),m.M=2,m.A=ne(Ae(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Po(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Fn(m)}Lo(u)}function Ns(u){u.g&&(_l(u),u.g.cancel(),u.g=null)}function or(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),cr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!pa(u.h)&&!u.m){u.m=!0;var m=u.Ea;_t||x(),vt||(_t(),vt=!0),C.add(m,u),u.D=0}}function ur(u,m){return Yn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Dn(p(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Vn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=M(F),lt(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Io(this,L,m),_=Ae(this.J),ut(_,"RID",u),ut(_,"CVER",22),this.G&&ut(_,"X-HTTP-Session-Id",this.G),Aa(this,_),F&&(this.R?m="headers="+ci(Kn(F))+"&"+m:this.u&&ba(_,this.u,F)),ya(this.h,L),this.Ra&&ut(_,"TYPE","init"),this.S?(ut(_,"$req",m),ut(_,"SID","null"),L.U=!0,Gn(L,_,null)):Gn(L,_,m),this.I=2}}else this.I==3&&(u?yl(this,u):this.i.length==0||pa(this.h)||yl(this))};function yl(u,m){var _;m?_=m.l:_=u.V++;const T=Ae(u.J);ut(T,"SID",u.M),ut(T,"RID",_),ut(T,"AID",u.K),Aa(u,T),u.u&&u.o&&ba(T,u.u,u.o),_=new Vn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Io(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ya(u.h,_),Gn(_,T,m)}function Aa(u,m){u.H&&jt(u.H,function(_,T){ut(m,T,_)}),u.l&&jt({},function(_,T){ut(m,T,_)})}function Io(u,m,_){_=Math.min(u.i.length,_);const T=u.l?p(u.l.Ka,u.l,u):null;t:{var L=u.i;let Vt=-1;for(;;){const Ce=["count="+_];Vt==-1?_>0?(Vt=L[0].g,Ce.push("ofs="+Vt)):Vt=0:Ce.push("ofs="+Vt);let Zt=!0;for(let pe=0;pe<_;pe++){var F=L[pe].g;const $n=L[pe].map;if(F-=Vt,F<0)Vt=Math.max(0,L[pe].g-100),Zt=!1;else try{F="req"+F+"_"||"";try{var rt=$n instanceof Map?$n:Object.entries($n);for(const[Ci,mi]of rt){let gi=mi;y(mi)&&(gi=Ei(mi)),Ce.push(F+Ci+"="+encodeURIComponent(gi))}}catch(Ci){throw Ce.push(F+"type="+encodeURIComponent("_badmap")),Ci}}catch{T&&T($n)}}if(Zt){rt=Ce.join("&");break t}}rt=void 0}return u=u.i.splice(0,_),m.G=u,rt}function jo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;_t||x(),vt||(_t(),vt=!0),C.add(m,u),u.A=0}}function wa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Dn(p(u.Da,u),Uo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Dn(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Ns(this),zo(this))};function _l(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function zo(u){u.g=new Vn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);ut(m,"RID","rpc"),ut(m,"SID",u.M),ut(m,"AID",u.K),ut(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ut(m,"TO",u.ia),ut(m,"TYPE","xmlhttp"),Aa(u,m),u.u&&u.o&&ba(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ne(Ae(m)),_.u=null,_.R=!0,Xi(_,u)}r.Va=function(){this.C!=null&&(this.C=null,Ns(this),wa(this),ve(19))};function cr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ko(u,m){var _=null;if(u.g==m){cr(u),_l(u),u.g=null;var T=2}else if(In(u.h,m))_=m.G,_a(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=bi(),Gt(T,new gn(T,_)),wi(u)}else jo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ur(u,m)||T==2&&wa(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function Uo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var _=p(u.bb,u),T=u.Ua;const L=!T;T=new sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||K(T,"https"),ne(T),L?hi(T.toString(),_):dl(T.toString(),_)}else ve(2);u.I=0,u.l&&u.l.pa(m),Lo(u),or(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=va(u.h);(m.length!=0||u.i.length!=0)&&(U(u.ja,m),U(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Bo(u,m,_){var T=_ instanceof sn?Ae(_):new sn(_);if(T.g!="")m&&(T.g=m+"."+T.g),st(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const F=new sn(null);T&&K(F,T),m&&(F.g=m),L&&st(F,L),_&&(F.h=_),T=F}return _=u.G,m=u.wa,_&&m&&ut(T,_,m),ut(T,"VER",u.ka),Aa(u,T),T}function Po(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new le(new Ti({ab:_})):new le(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qo(){}r=qo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){Ct.call(this),this.g=new Rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}A(fn,Ct),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){pl(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ei(u),u=_);m.i.push(new Ee(m.Ya++,u)),m.I==3&&wi(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,fn.Z.N.call(this)};function Ho(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ho,Me);function Go(){mn.call(this),this.status=1}A(Go,mn);function Wi(u){this.g=u}A(Wi,qo),Wi.prototype.ra=function(){Gt(this.g,"a")},Wi.prototype.qa=function(u){Gt(this.g,new Ho(u))},Wi.prototype.pa=function(u){Gt(this.g,new Go)},Wi.prototype.oa=function(){Gt(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,m_=function(){return new Ds},d_=function(){return bi()},f_=_e,td={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hn.NO_ERROR=0,hn.TIMEOUT=8,hn.HTTP_ERROR=6,tc=hn,Qi.COMPLETE="complete",h_=Qi,bs.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,so=bs,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,c_=le}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const Yy="@firebase/firestore",Xy="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let il="12.7.0";const Fa=new n_("@firebase/firestore");function Pr(){return Fa.logLevel}function ot(r,...e){if(Fa.logLevel<=Yt.DEBUG){const i=e.map(bd);Fa.debug(`Firestore (${il}): ${r}`,...i)}}function vs(r,...e){if(Fa.logLevel<=Yt.ERROR){const i=e.map(bd);Fa.error(`Firestore (${il}): ${r}`,...i)}}function $r(r,...e){if(Fa.logLevel<=Yt.WARN){const i=e.map(bd);Fa.warn(`Firestore (${il}): ${r}`,...i)}}function bd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function wt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,g_(r,a,i)}function g_(r,e,i){let a=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function ee(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||g_(e,o,a)}function Dt(r,e){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends nl{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ps{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class p_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class z2{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ee(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ps,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ps)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ee(typeof a.accessToken=="string",31837,{l:a}),new p_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class k2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new k2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,y2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ee(this.o===void 0,3512);const a=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ee(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ky(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function B2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=B2(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Pt(r,e){return r<e?-1:r>e?1:0}function ed(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return Hf(o)===Hf(h)?Pt(o,h):Hf(o)?1:-1}return Pt(r.length,e.length)}const P2=55296,q2=57343;function Hf(r){const e=r.charCodeAt(0);return e>=P2&&e<=q2}function Zr(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const $y="__name__";class Oi{constructor(e,i,a){i===void 0?i=0:i>e.length&&wt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&wt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Oi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Pt(e.length,i.length)}static compareSegments(e,i){const a=Oi.isNumericId(e),o=Oi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(i)):ed(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return na.fromString(e.substring(4,e.length-2))}}class me extends Oi{construct(e,i,a){return new me(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new gt(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new me(i)}static emptyPath(){return new me([])}}const H2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Oi{construct(e,i,a){return new tn(e,i,a)}static isValidIdentifier(e){return H2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new tn([$y])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new gt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new gt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new gt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(h(),o++)}if(h(),d)throw new gt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(me.fromString(e))}static fromName(e){return new bt(me.fromString(e).popFirst(5))}static empty(){return new bt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return me.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new me(e.slice()))}}function y_(r,e,i){if(!i)throw new gt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function G2(r,e,i,a){if(e===!0&&a===!0)throw new gt(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Zy(r){if(!bt.isDocumentKey(r))throw new gt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Jy(r){if(bt.isDocumentKey(r))throw new gt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function __(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":wt(12329,{type:typeof r})}function Qa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new gt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sd(r);throw new gt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Le(r,e){const i={typeString:r};return e&&(i.value=e),i}function wo(r,e){if(!__(r))throw new gt(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new gt(tt.INVALID_ARGUMENT,i);return!0}const Wy=-62135596800,t0=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*t0);return new ge(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Wy)throw new gt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wo(e,ge._jsonSchema))return new ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Le("string",ge._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new ge(0,0))}static max(){return new Rt(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vo=-1;function F2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(a===1e9?new ge(i+1,0):new ge(i,a));return new sa(o,bt.empty(),e)}function Q2(r){return new sa(r.readTime,r.key,vo)}class sa{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new sa(Rt.min(),bt.empty(),vo)}static max(){return new sa(Rt.max(),bt.empty(),vo)}}function Y2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=bt.comparator(r.documentKey,e.documentKey),i!==0?i:Pt(r.largestBatchId,e.largestBatchId))}const X2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sl(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==X2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,a)=>{i(e)}))}static reject(e){return new W(((i,a)=>{a(e)}))}static waitFor(e){return new W(((i,a)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=W.resolve(!1);for(const a of e)i=i.next((o=>o?W.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new W(((a,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const p=v;i(e[p]).next((S=>{d[p]=S,++y,y===h&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new W(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function $2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function al(r){return r.name==="IndexedDbTransactionError"}class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tc.ce=-1;const Ad=-1;function Sc(r){return r==null}function cc(r){return r===0&&1/r==-1/0}function Z2(r){return typeof r=="number"&&Number.isInteger(r)&&!cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const v_="";function J2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=e0(e)),e=W2(r.get(i),e);return e0(e)}function W2(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case v_:i+="";break;default:i+=h}}return i}function e0(r){return r+v_+""}function n0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function E_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class be{constructor(e,i){this.comparator=e,this.root=i||We.EMPTY}insert(e,i){return new be(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??We.RED,this.left=o??We.EMPTY,this.right=h??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new We(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return We.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new We(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(e){return new i0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new He(this.comparator);return i.data=e,i}}class i0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new vi([])}unionWith(e){let i=new He(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new vi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Zr(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class b_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new b_("Invalid base64 string: "+h):h}})(e);return new en(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const tS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(r){if(ee(!!r,39018),typeof r=="string"){let e=0;const i=tS.exec(r);if(ee(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:De(r.seconds),nanos:De(r.nanos)}}function De(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ra(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const T_="server_timestamp",S_="__type__",A_="__previous_value__",w_="__local_write_time__";function wd(r){return(r?.mapValue?.fields||{})[S_]?.stringValue===T_}function Ac(r){const e=r.mapValue.fields[A_];return wd(e)?Ac(e):e}function Eo(r){const e=aa(r.mapValue.fields[w_].timestampValue);return new ge(e.seconds,e.nanos)}class eS{constructor(e,i,a,o,h,d,y,v,p,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=p,this.isUsingEmulator=S}}const hc="(default)";class bo{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof bo&&e.projectId===this.projectId&&e.database===this.database}}const x_="__type__",nS="__max__",Zu={mapValue:{}},C_="__vector__",fc="value";function la(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wd(r)?4:sS(r)?9007199254740991:iS(r)?10:11:wt(28295,{value:r})}function Li(r,e){if(r===e)return!0;const i=la(r);if(i!==la(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Eo(r).isEqual(Eo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=aa(o.timestampValue),y=aa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return ra(o.bytesValue).isEqual(ra(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return De(o.geoPointValue.latitude)===De(h.geoPointValue.latitude)&&De(o.geoPointValue.longitude)===De(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return De(o.integerValue)===De(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=De(o.doubleValue),y=De(h.doubleValue);return d===y?cc(d)===cc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Zr(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(n0(d)!==n0(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Li(d[v],y[v])))return!1;return!0})(r,e);default:return wt(52216,{left:r})}}function To(r,e){return(r.values||[]).find((i=>Li(i,e)))!==void 0}function Jr(r,e){if(r===e)return 0;const i=la(r),a=la(e);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=De(h.integerValue||h.doubleValue),v=De(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return s0(r.timestampValue,e.timestampValue);case 4:return s0(Eo(r),Eo(e));case 5:return ed(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=ra(h),v=ra(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let p=0;p<y.length&&p<v.length;p++){const S=Pt(y[p],v[p]);if(S!==0)return S}return Pt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Pt(De(h.latitude),De(d.latitude));return y!==0?y:Pt(De(h.longitude),De(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return a0(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},p=y[fc]?.arrayValue,S=v[fc]?.arrayValue,A=Pt(p?.values?.length||0,S?.values?.length||0);return A!==0?A:a0(p,S)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Zu.mapValue&&d===Zu.mapValue)return 0;if(h===Zu.mapValue)return 1;if(d===Zu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),p=d.fields||{},S=Object.keys(p);v.sort(),S.sort();for(let A=0;A<v.length&&A<S.length;++A){const N=ed(v[A],S[A]);if(N!==0)return N;const j=Jr(y[v[A]],p[S[A]]);if(j!==0)return j}return Pt(v.length,S.length)})(r.mapValue,e.mapValue);default:throw wt(23264,{he:i})}}function s0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pt(r,e);const i=aa(r),a=aa(e),o=Pt(i.seconds,a.seconds);return o!==0?o:Pt(i.nanos,a.nanos)}function a0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Jr(i[o],a[o]);if(h)return h}return Pt(i.length,a.length)}function Wr(r){return nd(r)}function nd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=aa(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ra(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return bt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=nd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${nd(i.fields[d])}`;return o+"}"})(r.mapValue):wt(61005,{value:r})}function ec(r){switch(la(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ac(r);return e?16+ec(e):16;case 5:return 2*r.stringValue.length;case 6:return ra(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+ec(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Xa(a.fields,((h,d)=>{o+=h.length+ec(d)})),o})(r.mapValue);default:throw wt(13486,{value:r})}}function id(r){return!!r&&"integerValue"in r}function xd(r){return!!r&&"arrayValue"in r}function r0(r){return!!r&&"nullValue"in r}function l0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nc(r){return!!r&&"mapValue"in r}function iS(r){return(r?.mapValue?.fields||{})[x_]?.stringValue===C_}function uo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xa(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=uo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=uo(r.arrayValue.values[i]);return e}return{...r}}function sS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nS}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=uo(i)}setAll(e){let i=tn.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=uo(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Xa(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new ai(uo(this.value))}}function R_(r){const e=[];return Xa(r.fields,((i,a)=>{const o=new tn([i]);if(nc(a)){const h=R_(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new vi(e)}class on{constructor(e,i,a,o,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new on(e,0,Rt.min(),Rt.min(),Rt.min(),ai.empty(),0)}static newFoundDocument(e,i,a,o){return new on(e,1,i,Rt.min(),a,o,0)}static newNoDocument(e,i){return new on(e,2,i,Rt.min(),Rt.min(),ai.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,Rt.min(),Rt.min(),ai.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dc{constructor(e,i){this.position=e,this.inclusive=i}}function o0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=bt.comparator(bt.fromName(d.referenceValue),i.key):a=Jr(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function u0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Li(r.position[i],e.position[i]))return!1;return!0}class mc{constructor(e,i="asc"){this.field=e,this.dir=i}}function aS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class N_{}class Pe extends N_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new lS(e,i,a):i==="array-contains"?new cS(e,a):i==="in"?new hS(e,a):i==="not-in"?new fS(e,a):i==="array-contains-any"?new dS(e,a):new Pe(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new oS(e,a):new uS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Jr(i,this.value)):i!==null&&la(this.value)===la(i)&&this.matchesComparison(Jr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends N_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bi(e,i)}matches(e){return D_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D_(r){return r.op==="and"}function V_(r){return rS(r)&&D_(r)}function rS(r){for(const e of r.filters)if(e instanceof Bi)return!1;return!0}function sd(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+Wr(r.value);if(V_(r))return r.filters.map((e=>sd(e))).join(",");{const e=r.filters.map((i=>sd(i))).join(",");return`${r.op}(${e})`}}function M_(r,e){return r instanceof Pe?(function(a,o){return o instanceof Pe&&a.op===o.op&&a.field.isEqual(o.field)&&Li(a.value,o.value)})(r,e):r instanceof Bi?(function(a,o){return o instanceof Bi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,y)=>h&&M_(d,o.filters[y])),!0):!1})(r,e):void wt(19439)}function O_(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wr(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(O_).join(" ,")+"}"})(r):"Filter"}class lS extends Pe{constructor(e,i,a){super(e,i,a),this.key=bt.fromName(a.referenceValue)}matches(e){const i=bt.comparator(e.key,this.key);return this.matchesComparison(i)}}class oS extends Pe{constructor(e,i){super(e,"in",i),this.keys=I_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class uS extends Pe{constructor(e,i){super(e,"not-in",i),this.keys=I_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function I_(r,e){return(e.arrayValue?.values||[]).map((i=>bt.fromName(i.referenceValue)))}class cS extends Pe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return xd(i)&&To(i.arrayValue,this.value)}}class hS extends Pe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&To(this.value.arrayValue,i)}}class fS extends Pe{constructor(e,i){super(e,"not-in",i)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!To(this.value.arrayValue,i)}}class dS extends Pe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!xd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>To(this.value.arrayValue,a)))}}class mS{constructor(e,i=null,a=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function c0(r,e=null,i=[],a=[],o=null,h=null,d=null){return new mS(r,e,i,a,o,h,d)}function Cd(r){const e=Dt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>sd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Wr(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Wr(a))).join(",")),e.Te=i}return e.Te}function Rd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!aS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!M_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u0(r.startAt,e.startAt)&&u0(r.endAt,e.endAt)}function ad(r){return bt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wc{constructor(e,i=null,a=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gS(r,e,i,a,o,h,d,y){return new wc(r,e,i,a,o,h,d,y)}function Nd(r){return new wc(r)}function h0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pS(r){return r.collectionGroup!==null}function co(r){const e=Dt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new He(tn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((p=>{p.isInequality()&&(y=y.add(p.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new mc(h,a))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new mc(tn.keyField(),a))}return e.Ie}function ji(r){const e=Dt(r);return e.Ee||(e.Ee=yS(e,co(r))),e.Ee}function yS(r,e){if(r.limitType==="F")return c0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new mc(o.field,h)}));const i=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return c0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function rd(r,e,i){return new wc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function xc(r,e){return Rd(ji(r),ji(e))&&r.limitType===e.limitType}function j_(r){return`${Cd(ji(r))}|lt:${r.limitType}`}function qr(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>O_(o))).join(", ")}]`),Sc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wr(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wr(o))).join(",")),`Target(${a})`})(ji(r))}; limitType=${r.limitType})`}function Cc(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):bt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of co(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,v){const p=o0(d,y,v);return d.inclusive?p<=0:p<0})(a.startAt,co(a),o)||a.endAt&&!(function(d,y,v){const p=o0(d,y,v);return d.inclusive?p>=0:p>0})(a.endAt,co(a),o))})(r,e)}function _S(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function z_(r){return(e,i)=>{let a=!1;for(const o of co(r)){const h=vS(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function vS(r,e,i){const a=r.field.isKeyField()?bt.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),p=y.data.field(h);return v!==null&&p!==null?Jr(v,p):wt(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return wt(19790,{direction:r.dir})}}class Ka{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return E_(this.inner)}size(){return this.innerSize}}const ES=new be(bt.comparator);function Es(){return ES}const k_=new be(bt.comparator);function ao(...r){let e=k_;for(const i of r)e=e.insert(i.key,i);return e}function U_(r){let e=k_;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Ha(){return ho()}function L_(){return ho()}function ho(){return new Ka((r=>r.toString()),((r,e)=>r.isEqual(e)))}const bS=new be(bt.comparator),TS=new He(bt.comparator);function qt(...r){let e=TS;for(const i of r)e=e.add(i);return e}const SS=new He(Pt);function AS(){return SS}function Dd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function B_(r){return{integerValue:""+r}}function wS(r,e){return Z2(e)?B_(e):Dd(r,e)}class Rc{constructor(){this._=void 0}}function xS(r,e,i){return r instanceof gc?(function(o,h){const d={fields:{[S_]:{stringValue:T_},[w_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&wd(h)&&(h=Ac(h)),h&&(d.fields[A_]=h),{mapValue:d}})(i,e):r instanceof So?q_(r,e):r instanceof Ao?H_(r,e):(function(o,h){const d=P_(o,h),y=f0(d)+f0(o.Ae);return id(d)&&id(o.Ae)?B_(y):Dd(o.serializer,y)})(r,e)}function CS(r,e,i){return r instanceof So?q_(r,e):r instanceof Ao?H_(r,e):i}function P_(r,e){return r instanceof pc?(function(a){return id(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class gc extends Rc{}class So extends Rc{constructor(e){super(),this.elements=e}}function q_(r,e){const i=G_(e);for(const a of r.elements)i.some((o=>Li(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ao extends Rc{constructor(e){super(),this.elements=e}}function H_(r,e){let i=G_(e);for(const a of r.elements)i=i.filter((o=>!Li(o,a)));return{arrayValue:{values:i}}}class pc extends Rc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f0(r){return De(r.integerValue||r.doubleValue)}function G_(r){return xd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function RS(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof So&&o instanceof So||a instanceof Ao&&o instanceof Ao?Zr(a.elements,o.elements,Li):a instanceof pc&&o instanceof pc?Li(a.Ae,o.Ae):a instanceof gc&&o instanceof gc})(r.transform,e.transform)}class NS{constructor(e,i){this.version=e,this.transformResults=i}}class ys{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nc{}function F_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Y_(r.key,ys.none()):new xo(r.key,r.data,ys.none());{const i=r.data,a=ai.empty();let o=new He(tn.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new $a(r.key,a,new vi(o.toArray()),ys.none())}}function DS(r,e,i){r instanceof xo?(function(o,h,d){const y=o.value.clone(),v=m0(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof $a?(function(o,h,d){if(!ic(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=m0(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Q_(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function fo(r,e,i,a){return r instanceof xo?(function(h,d,y,v){if(!ic(h.precondition,d))return y;const p=h.value.clone(),S=g0(h.fieldTransforms,v,d);return p.setAll(S),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,i,a):r instanceof $a?(function(h,d,y,v){if(!ic(h.precondition,d))return y;const p=g0(h.fieldTransforms,v,d),S=d.data;return S.setAll(Q_(h)),S.setAll(p),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(h,d,y){return ic(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function VS(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=P_(a.transform,o||null);h!=null&&(i===null&&(i=ai.empty()),i.set(a.field,h))}return i||null}function d0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Zr(a,o,((h,d)=>RS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xo extends Nc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $a extends Nc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Q_(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function m0(r,e,i){const a=new Map;ee(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,y=e.data.field(h.field);a.set(h.field,CS(d,y,i[o]))}return a}function g0(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,xS(h,d,e))}return a}class Y_ extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MS extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&DS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=fo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=fo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=L_();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=F_(d,y);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Rt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qt())}isEqual(e){return this.batchId===e.batchId&&Zr(this.mutations,e.mutations,((i,a)=>d0(i,a)))&&Zr(this.baseMutations,e.baseMutations,((i,a)=>d0(i,a)))}}class Vd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){ee(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return bS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Vd(e,i,a,o)}}class IS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ue,Qt;function zS(r){switch(r){case tt.OK:return wt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return wt(15467,{code:r})}}function X_(r){if(r===void 0)return vs("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Ue.OK:return tt.OK;case Ue.CANCELLED:return tt.CANCELLED;case Ue.UNKNOWN:return tt.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return tt.INTERNAL;case Ue.UNAVAILABLE:return tt.UNAVAILABLE;case Ue.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ue.NOT_FOUND:return tt.NOT_FOUND;case Ue.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ue.ABORTED:return tt.ABORTED;case Ue.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ue.DATA_LOSS:return tt.DATA_LOSS;default:return wt(39323,{code:r})}}(Qt=Ue||(Ue={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function kS(){return new TextEncoder}const US=new na([4294967295,4294967295],0);function p0(r){const e=kS().encode(r),i=new u_;return i.update(e),new Uint8Array(i.digest())}function y0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new na([i,a],0),new na([o,h],0)]}class Md{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(a<0)throw new ro(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=na.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(na.fromNumber(a)));return o.compare(US)===1&&(o=new na([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=p0(e),[a,o]=y0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Md(h,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=p0(e),[a,o]=y0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Dc(Rt.min(),o,new be(Pt),Es(),qt())}}class Co{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Co(a,i,qt(),qt(),qt())}}class sc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class K_{constructor(e,i){this.targetId=e,this.Ce=i}}class $_{constructor(e,i,a=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class _0{constructor(){this.ve=0,this.Fe=v0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qt(),i=qt(),a=qt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:wt(38017,{changeType:h})}})),new Co(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=v0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.Je=Ju(),this.He=Ju(),this.Ye=new be(Pt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ad(h))if(a===0){const d=new bt(h.path);this.et(i,d,on.newNoDocument(d,Rt.min()))}else ee(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const p=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=ra(a).toUint8Array()}catch(v){if(v instanceof b_)return $r("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Md(d,o,h)}catch(v){return $r(v instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&ad(y.target)){const v=new bt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,on.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=qt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const p=this.ot(v);return!p||p.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Dc(e,i,this.Ye,this.je,a);return this.je=Es(),this.Je=Ju(),this.He=Ju(),this.Ye=new be(Pt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new _0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new He(Pt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new He(Pt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ju(){return new be(bt.comparator)}function v0(){return new be(bt.comparator)}const BS={asc:"ASCENDING",desc:"DESCENDING"},PS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qS={and:"AND",or:"OR"};class HS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ld(r,e){return r.useProto3Json||Sc(e)?e:{value:e}}function yc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GS(r,e){return yc(r,e.toTimestamp())}function zi(r){return ee(!!r,49232),Rt.fromTimestamp((function(i){const a=aa(i);return new ge(a.seconds,a.nanos)})(r))}function Od(r,e){return od(r,e).canonicalString()}function od(r,e){const i=(function(o){return new me(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function J_(r){const e=me.fromString(r);return ee(iv(e),10190,{key:e.toString()}),e}function ud(r,e){return Od(r.databaseId,e.path)}function Gf(r,e){const i=J_(e);if(i.get(1)!==r.databaseId.projectId)throw new gt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new gt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new bt(tv(i))}function W_(r,e){return Od(r.databaseId,e)}function FS(r){const e=J_(r);return e.length===4?me.emptyPath():tv(e)}function cd(r){return new me(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tv(r){return ee(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function E0(r,e,i){return{name:ud(r,e),fields:i.value.mapValue.fields}}function QS(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:wt(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(p,S){return p.useProto3Json?(ee(S===void 0||typeof S=="string",58123),en.fromBase64String(S||"")):(ee(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),en.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(p){const S=p.code===void 0?tt.UNKNOWN:X_(p.code);return new gt(S,p.message||"")})(d);i=new $_(a,o,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gf(r,a.document.name),h=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):Rt.min(),y=new ai({mapValue:{fields:a.document.fields}}),v=on.newFoundDocument(o,h,d,y),p=a.targetIds||[],S=a.removedTargetIds||[];i=new sc(p,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gf(r,a.document),h=a.readTime?zi(a.readTime):Rt.min(),d=on.newNoDocument(o,h),y=a.removedTargetIds||[];i=new sc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gf(r,a.document),h=a.removedTargetIds||[];i=new sc([],h,o,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new jS(o,h),y=a.targetId;i=new K_(y,d)}}return i}function YS(r,e){let i;if(e instanceof xo)i={update:E0(r,e.key,e.value)};else if(e instanceof Y_)i={delete:ud(r,e.key)};else if(e instanceof $a)i={update:E0(r,e.key,e.data),updateMask:nA(e.fieldMask)};else{if(!(e instanceof MS))return wt(16599,{Vt:e.type});i={verify:ud(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const y=d.transform;if(y instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof So)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof pc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw wt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:GS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:wt(27497)})(r,e.precondition)),i}function XS(r,e){return r&&r.length>0?(ee(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?zi(o.updateTime):zi(h);return d.isEqual(Rt.min())&&(d=zi(h)),new NS(d,o.transformResults||[])})(i,e)))):[]}function KS(r,e){return{documents:[W_(r,e.path)]}}function $S(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=W_(r,o);const h=(function(p){if(p.length!==0)return nv(Bi.create(p,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(p){if(p.length!==0)return p.map((S=>(function(N){return{field:Hr(N.field),direction:WS(N.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=ld(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:o}}function ZS(r){let e=FS(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ee(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(A){const N=ev(A);return N instanceof Bi&&V_(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(U){return new mc(Gr(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(N)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let N;return N=typeof A=="object"?A.value:A,Sc(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(A){const N=!!A.before,j=A.values||[];return new dc(j,N)})(i.startAt));let p=null;return i.endAt&&(p=(function(A){const N=!A.before,j=A.values||[];return new dc(j,N)})(i.endAt)),gS(e,o,d,h,y,"F",v,p)}function JS(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ev(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Gr(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Gr(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Gr(i.unaryFilter.field);return Pe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Gr(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(Gr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>ev(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(r):wt(30097,{filter:r})}function WS(r){return BS[r]}function tA(r){return PS[r]}function eA(r){return qS[r]}function Hr(r){return{fieldPath:r.canonicalString()}}function Gr(r){return tn.fromServerFormat(r.fieldPath)}function nv(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(l0(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NAN"}};if(r0(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(l0(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NAN"}};if(r0(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(i.field),op:tA(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((o=>nv(o)));return a.length===1?a[0]:{compositeFilter:{op:eA(i.op),filters:a}}})(r):wt(54877,{filter:r})}function nA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function iv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ws{constructor(e,i,a,o,h=Rt.min(),d=Rt.min(),y=en.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iA{constructor(e){this.yt=e}}function sA(r){const e=ZS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rd(e,e.limit,"L"):e}class aA{constructor(){this.Cn=new rA}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(sa.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(sa.min())}updateCollectionGroup(e,i,a){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class rA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new He(me.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new He(me.comparator)).toArray()}}const b0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sv=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(sv,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}const T0="LruGarbageCollector",lA=1048576;function S0([r,e],[i,a]){const o=Pt(r,i);return o===0?Pt(e,a):o}class oA{constructor(e){this.Ir=e,this.buffer=new He(S0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();S0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(T0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){al(i)?ot(T0,"Ignoring IndexedDB error during garbage collection: ",i):await sl(i)}await this.Vr(3e5)}))}}class cA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Tc.ce);const a=new oA(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(b0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,y,v,p;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,y=Date.now(),this.removeTargets(e,a,i)))).next((A=>(h=A,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(p=Date.now(),Pr()<=Yt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${A} documents in `+(p-v)+`ms
Total Duration: ${p-S}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function hA(r,e){return new cA(r,e)}class fA{constructor(){this.changes=new Ka((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class mA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&fo(a.mutation,o,vi.empty(),ge.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qt()){const o=Ha();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=ao();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Ha();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let h=Es();const d=ho(),y=(function(){return ho()})();return i.forEach(((v,p)=>{const S=a.get(p.key);o.has(p.key)&&(S===void 0||S.mutation instanceof $a)?h=h.insert(p.key,p):S!==void 0?(d.set(p.key,S.mutation.getFieldMask()),fo(S.mutation,p,S.mutation.getFieldMask(),ge.now())):d.set(p.key,vi.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((p,S)=>d.set(p,S))),i.forEach(((p,S)=>y.set(p,new dA(S,d.get(p)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=ho();let o=new be(((d,y)=>d-y)),h=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const p=i.get(v);if(p===null)return;let S=a.get(v)||vi.empty();S=y.applyToLocalView(p,S),a.set(v,S);const A=(o.get(y.batchId)||qt()).add(v);o=o.insert(y.batchId,A)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),p=v.key,S=v.value,A=L_();S.forEach((N=>{if(!h.has(N)){const j=F_(i.get(N),a.get(N));j!==null&&A.set(N,j),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,A))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return bt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):pS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):W.resolve(Ha());let y=vo,v=h;return d.next((p=>W.forEach(p,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),h.get(S)?W.resolve():this.remoteDocumentCache.getEntry(e,S).next((N=>{v=v.insert(S,N)}))))).next((()=>this.populateOverlays(e,p,h))).next((()=>this.computeViews(e,v,p,qt()))).next((S=>({batchId:y,changes:U_(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new bt(i)).next((a=>{let o=ao();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=ao();return this.indexManager.getCollectionParents(e,h).next((y=>W.forEach(y,(v=>{const p=(function(A,N){return new wc(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next((S=>{S.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,p)=>{const S=p.getKey();d.get(S)===null&&(d=d.insert(S,on.newInvalidDocument(S)))}));let y=ao();return d.forEach(((v,p)=>{const S=h.get(v);S!==void 0&&fo(S.mutation,p,vi.empty(),ge.now()),Cc(i,p)&&(y=y.insert(v,p))})),y}))}}class gA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:sA(o.bundledQuery),readTime:zi(o.readTime)}})(i)),W.resolve()}}class pA{constructor(){this.overlays=new be(bt.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Ha();return W.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),W.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(e,i,a){const o=Ha(),h=i.length+1,d=new bt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,p=v.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new be(((p,S)=>p-S));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let S=h.get(p.largestBatchId);S===null&&(S=Ha(),h=h.insert(p.largestBatchId,S)),S.set(p.getKey(),p)}}const y=Ha(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((p,S)=>y.set(p,S))),!(y.size()>=o)););return W.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new IS(i,a));let h=this.qr.get(i);h===void 0&&(h=qt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}class yA{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}class Id{constructor(){this.Qr=new He(Qe.$r),this.Ur=new He(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Qe(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Qe(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new bt(new me([])),a=new Qe(i,e),o=new Qe(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new bt(new me([])),a=new Qe(i,e),o=new Qe(i,e+1);let h=qt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Qe(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Qe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return bt.comparator(e.key,i.key)||Pt(e.Yr,i.Yr)}static Kr(e,i){return Pt(e.Yr,i.Yr)||bt.comparator(e.key,i.key)}}class _A{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new He(Qe.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new OS(h,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Qe(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return W.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Ad:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),W.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new He(Pt);return i.forEach((o=>{const h=new Qe(o,0),d=new Qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{a=a.add(y.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;bt.isDocumentKey(h)||(h=h.child(""));const d=new Qe(new bt(h),0);let y=new He(Pt);return this.Zr.forEachWhile((v=>{const p=v.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(y=y.add(v.Yr)),!0)}),d),W.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){ee(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(i.mutations,(o=>{const h=new Qe(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Qe(i,0),o=this.Zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class vA{constructor(e){this.ri=e,this.docs=(function(){return new be(bt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let a=Es();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():on.newInvalidDocument(o))})),W.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Es();const d=i.path,y=new bt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:p,value:{document:S}}=v.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||Y2(Q2(S),a)<=0||(o.has(S.key)||Cc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return W.resolve(h)}getAllFromCollectionGroup(e,i,a,o){wt(9500)}ii(e,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new EA(this)}getSize(e){return W.resolve(this.size)}}class EA extends fA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class bA{constructor(e){this.persistence=e,this.si=new Ka((i=>Cd(i)),Rd),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Id,this.targetCount=0,this.ai=tl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new tl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),W.waitFor(h).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return W.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),W.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return W.resolve(a)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}class av{constructor(e,i){this.ui={},this.overlays={},this.ci=new Tc(0),this.li=!1,this.li=!0,this.hi=new yA,this.referenceDelegate=e(this),this.Pi=new bA(this),this.indexManager=new aA,this.remoteDocumentCache=(function(o){return new vA(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new iA(i),this.Ii=new gA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new _A(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ot("MemoryPersistence","Starting transaction:",e);const o=new TA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class TA extends K2{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.Ri=new Id,this.Vi=null}static mi(e){return new jd(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),W.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const o=bt.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Rt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.pi=new Ka((a=>J2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=hA(this,i)}static mi(e,i){return new _c(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?W.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,h.removeEntry(d,Rt.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}br(e,i,a){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=qt(),o=qt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new zd(e,i.fromCache,a,o)}}class SA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mT()?8:$2(fT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new SA;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Pr()<=Yt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",qr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Pr()<=Yt.DEBUG&&ot("QueryEngine","Query:",qr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Pr()<=Yt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",qr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(i))):W.resolve())}ys(e,i){if(h0(i))return W.resolve(null);let a=ji(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rd(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=qt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((v=>{const p=this.Ds(i,y);return this.Cs(i,p,d,v.readTime)?this.ys(e,rd(i,null,"F")):this.vs(e,p,i,v)}))))})))))}ws(e,i,a,o){return h0(i)||o.isEqual(Rt.min())?W.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?W.resolve(null):(Pr()<=Yt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qr(i)),this.vs(e,d,i,F2(o,vo)).next((y=>y)))}))}Ds(e,i){let a=new He(z_(e));return i.forEach(((o,h)=>{Cc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return Pr()<=Yt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",qr(i)),this.ps.getDocumentsMatchingQuery(e,i,sa.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const kd="LocalStore",wA=3e8;class xA{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new be(Pt),this.xs=new Ka((h=>Cd(h)),Rd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function CA(r,e,i,a){return new xA(r,e,i,a)}async function rv(r,e){const i=Dt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],y=[];let v=qt();for(const p of o){d.push(p.batchId);for(const S of p.mutations)v=v.add(S.key)}for(const p of h){y.push(p.batchId);for(const S of p.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:y})))}))}))}function RA(r,e){const i=Dt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,p,S){const A=p.batch,N=A.keys();let j=W.resolve();return N.forEach((U=>{j=j.next((()=>S.getEntry(v,U))).next((H=>{const P=p.docVersions.get(U);ee(P!==null,48541),H.version.compareTo(P)<0&&(A.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),S.addEntry(H)))}))})),j.next((()=>y.mutationQueue.removeMutationBatch(v,A)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=qt();for(let p=0;p<y.mutationResults.length;++p)y.mutationResults[p].transformResults.length>0&&(v=v.add(y.batch.mutations[p].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function lv(r){const e=Dt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function NA(r,e){const i=Dt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((S,A)=>{const N=o.get(A);if(!N)return;y.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,A))));let j=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?j=j.withResumeToken(en.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,a)),o=o.insert(A,j),(function(H,P,et){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=wA?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(N,j,S)&&y.push(i.Pi.updateTargetData(h,j))}));let v=Es(),p=qt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),y.push(DA(h,d,e.documentUpdates).next((S=>{v=S.ks,p=S.qs}))),!a.isEqual(Rt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((A=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));y.push(S)}return W.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,p))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function DA(r,e,i){let a=qt(),o=qt();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Es();return i.forEach(((y,v)=>{const p=h.get(y);v.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Rt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!p.isValidDocument()||v.version.compareTo(p.version)>0||v.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ot(kd,"Ignoring outdated watch update for ",y,". Current version:",p.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function VA(r,e){const i=Dt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ad),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function MA(r,e){const i=Dt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,W.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ws(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function hd(r,e,i){const a=Dt(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!al(d))throw d;ot(kd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function A0(r,e,i){const a=Dt(r);let o=Rt.min(),h=qt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,p,S){const A=Dt(v),N=A.xs.get(S);return N!==void 0?W.resolve(A.Ms.get(N)):A.Pi.getTargetData(p,S)})(a,d,ji(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Rt.min(),i?h:qt()))).next((y=>(OA(a,_S(e),y),{documents:y,Qs:h})))))}function OA(r,e,i){let a=r.Os.get(e)||Rt.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class w0{constructor(){this.activeTargetIds=AS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IA{constructor(){this.Mo=new w0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jA{Oo(e){}shutdown(){}}const x0="ConnectivityMonitor";class C0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(x0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wu=null;function fd(){return Wu===null?Wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wu++,"0x"+Wu.toString(16)}const Ff="RestConnection",zA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===hc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=fd(),y=this.zo(e,i.toUriEncodedString());ot(Ff,`Sending RPC '${e}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:p}=new URL(y),S=vd(p);return this.Jo(e,y,v,a,S).then((A=>(ot(Ff,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw $r(Ff,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=zA[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class UA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class LA extends kA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=fd();return new Promise(((y,v)=>{const p=new c_;p.setWithCredentials(!0),p.listenOnce(h_.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case tc.NO_ERROR:const A=p.getResponseJson();ot(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case tc.TIMEOUT:ot(rn,`RPC '${e}' ${d} timed out`),v(new gt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const N=p.getStatus();if(ot(rn,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const U=j?.error;if(U&&U.status&&U.message){const H=(function(et){const pt=et.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(pt)>=0?pt:tt.UNKNOWN})(U.status);v(new gt(H,U.message))}else v(new gt(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else v(new gt(tt.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ot(rn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ot(rn,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=fd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=m_(),y=d_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(v.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const S=h.join("");ot(rn,`Creating RPC '${e}' stream ${o}: ${S}`,v);const A=d.createWebChannel(S,v);this.I_(A);let N=!1,j=!1;const U=new UA({Yo:P=>{j?ot(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(N||(ot(rn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),N=!0),ot(rn,`RPC '${e}' stream ${o} sending:`,P),A.send(P))},Zo:()=>A.close()}),H=(P,et,pt)=>{P.listen(et,(dt=>{try{pt(dt)}catch(yt){setTimeout((()=>{throw yt}),0)}}))};return H(A,so.EventType.OPEN,(()=>{j||(ot(rn,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),H(A,so.EventType.CLOSE,(()=>{j||(j=!0,ot(rn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(A))})),H(A,so.EventType.ERROR,(P=>{j||(j=!0,$r(rn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new gt(tt.UNAVAILABLE,"The operation could not be completed")))})),H(A,so.EventType.MESSAGE,(P=>{if(!j){const et=P.data[0];ee(!!et,16349);const pt=et,dt=pt?.error||pt[0]?.error;if(dt){ot(rn,`RPC '${e}' stream ${o} received error:`,dt);const yt=dt.status;let _t=(function(x){const w=Ue[x];if(w!==void 0)return X_(w)})(yt),vt=dt.message;_t===void 0&&(_t=tt.INTERNAL,vt="Unknown error status: "+yt+" with message "+dt.message),j=!0,U.a_(new gt(_t,vt)),A.close()}else ot(rn,`RPC '${e}' stream ${o} received:`,et),U.u_(et)}})),H(y,f_.STAT_EVENT,(P=>{P.stat===td.PROXY?ot(rn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===td.NOPROXY&&ot(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qf(){return typeof document<"u"?document:null}function Vc(r){return new HS(r,!0)}class ov{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const R0="PersistentStream";class uv{constructor(e,i,a,o,h,d,y,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ov(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new gt(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BA extends uv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=QS(this.serializer,e),a=(function(h){if(!("targetChange"in h))return Rt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Rt.min():d.readTime?zi(d.readTime):Rt.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=cd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=ad(v)?{documents:KS(h,v)}:{query:$S(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Z_(h,d.resumeToken);const p=ld(h,d.expectedCount);p!==null&&(y.expectedCount=p)}else if(d.snapshotVersion.compareTo(Rt.min())>0){y.readTime=yc(h,d.snapshotVersion.toTimestamp());const p=ld(h,d.expectedCount);p!==null&&(y.expectedCount=p)}return y})(this.serializer,e);const a=JS(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=cd(this.serializer),i.removeTarget=e,this.q_(i)}}class PA extends uv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=XS(e.writeResults,e.commitTime),a=zi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=cd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>YS(this.serializer,a)))};this.q_(i)}}class qA{}class HA extends qA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,od(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new gt(tt.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,od(i,a),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ya="RemoteStore";class FA{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Za(this)&&(ot(Ya,"Restarting streams for network reachability change."),await(async function(v){const p=Dt(v);p.Ea.add(4),await Ro(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Mc(p)})(this))}))})),this.Ra=new GA(a,o)}}async function Mc(r){if(Za(r))for(const e of r.da)await e(!0)}async function Ro(r){for(const e of r.da)await e(!1)}function cv(r,e){const i=Dt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Pd(i)?Bd(i):rl(i).O_()&&Ld(i,e))}function Ud(r,e){const i=Dt(r),a=rl(i);i.Ia.delete(e),a.O_()&&hv(i,e),i.Ia.size===0&&(a.O_()?a.L_():Za(i)&&i.Ra.set("Unknown"))}function Ld(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}rl(r).Y_(e)}function hv(r,e){r.Va.Ue(e),rl(r).Z_(e)}function Bd(r){r.Va=new LS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),rl(r).start(),r.Ra.ua()}function Pd(r){return Za(r)&&!rl(r).x_()&&r.Ia.size>0}function Za(r){return Dt(r).Ea.size===0}function fv(r){r.Va=void 0}async function QA(r){r.Ra.set("Online")}async function YA(r){r.Ia.forEach(((e,i)=>{Ld(r,e)}))}async function XA(r,e){fv(r),Pd(r)?(r.Ra.ha(e),Bd(r)):r.Ra.set("Unknown")}async function KA(r,e,i){if(r.Ra.set("Online"),e instanceof $_&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(a){ot(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vc(r,a)}else if(e instanceof sc?r.Va.Ze(e):e instanceof K_?r.Va.st(e):r.Va.tt(e),!i.isEqual(Rt.min()))try{const a=await lv(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,p)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(p);S&&h.Ia.set(p,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,p)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(en.EMPTY_BYTE_STRING,S.snapshotVersion)),hv(h,v);const A=new Ws(S.target,v,p,S.sequenceNumber);Ld(h,A)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ot(Ya,"Failed to raise snapshot:",a),await vc(r,a)}}async function vc(r,e,i){if(!al(e))throw e;r.Ea.add(1),await Ro(r),r.Ra.set("Offline"),i||(i=()=>lv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Ya,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Mc(r)}))}function dv(r,e){return e().catch((i=>vc(r,i,e)))}async function Oc(r){const e=Dt(r),i=oa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ad;for(;$A(e);)try{const o=await VA(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,ZA(e,o)}catch(o){await vc(e,o)}mv(e)&&gv(e)}function $A(r){return Za(r)&&r.Ta.length<10}function ZA(r,e){r.Ta.push(e);const i=oa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function mv(r){return Za(r)&&!oa(r).x_()&&r.Ta.length>0}function gv(r){oa(r).start()}async function JA(r){oa(r).ra()}async function WA(r){const e=oa(r);for(const i of r.Ta)e.ea(i.mutations)}async function tw(r,e,i){const a=r.Ta.shift(),o=Vd.from(a,e,i);await dv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Oc(r)}async function ew(r,e){e&&oa(r).X_&&await(async function(a,o){if((function(d){return zS(d)&&d!==tt.ABORTED})(o.code)){const h=a.Ta.shift();oa(a).B_(),await dv(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Oc(a)}})(r,e),mv(r)&&gv(r)}async function N0(r,e){const i=Dt(r);i.asyncQueue.verifyOperationInProgress(),ot(Ya,"RemoteStore received new credentials");const a=Za(i);i.Ea.add(3),await Ro(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mc(i)}async function nw(r,e){const i=Dt(r);e?(i.Ea.delete(2),await Mc(i)):e||(i.Ea.add(2),await Ro(i),i.Ra.set("Unknown"))}function rl(r){return r.ma||(r.ma=(function(i,a,o){const h=Dt(i);return h.sa(),new BA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:QA.bind(null,r),t_:YA.bind(null,r),r_:XA.bind(null,r),H_:KA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Pd(r)?Bd(r):r.Ra.set("Unknown")):(await r.ma.stop(),fv(r))}))),r.ma}function oa(r){return r.fa||(r.fa=(function(i,a,o){const h=Dt(i);return h.sa(),new PA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:JA.bind(null,r),r_:ew.bind(null,r),ta:WA.bind(null,r),na:tw.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Oc(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,y=new qd(e,i,d,o,h);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(r,e){if(vs("AsyncQueue",`${e}: ${r}`),al(r))return new gt(tt.UNAVAILABLE,`${e}: ${r}`);throw r}class Xr{static emptySet(e){return new Xr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||bt.comparator(i.key,a.key):(i,a)=>bt.comparator(i.key,a.key),this.keyedMap=ao(),this.sortedSet=new be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Xr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class D0{constructor(){this.ga=new be(bt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class el{constructor(e,i,a,o,h,d,y,v,p){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=p}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new el(e,i,Xr.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class iw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sw{constructor(){this.queries=V0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Dt(i),h=o.queries;o.queries=V0(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new gt(tt.ABORTED,"Firestore shutting down"))}}function V0(){return new Ka((r=>j_(r)),xc)}async function pv(r,e){const i=Dt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new iw,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Hd(d,`Initialization of query '${qr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Gd(i)}async function yv(r,e){const i=Dt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function aw(r,e){const i=Dt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&Gd(i)}function rw(r,e,i){const a=Dt(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Gd(r){r.Ca.forEach((e=>{e.next()}))}var dd,M0;(M0=dd||(dd={})).Ma="default",M0.Cache="cache";class _v{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new el(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dd.Cache}}class vv{constructor(e){this.key=e}}class Ev{constructor(e){this.key=e}}class lw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=z_(e),this.tu=new Xr(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new D0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,A)=>{const N=o.get(S),j=Cc(this.query,A)?A:null,U=!!N&&this.mutatedKeys.has(N.key),H=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let P=!1;N&&j?N.data.isEqual(j.data)?U!==H&&(a.track({type:3,doc:j}),P=!0):this.su(N,j)||(a.track({type:2,doc:j}),P=!0,(v&&this.eu(j,v)>0||p&&this.eu(j,p)<0)&&(y=!0)):!N&&j?(a.track({type:0,doc:j}),P=!0):N&&!j&&(a.track({type:1,doc:N}),P=!0,(v||p)&&(y=!0)),P&&(j?(d=d.add(j),h=H?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(j,U){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:P})}};return H(j)-H(U)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,p=v!==this.Za;return this.Za=v,d.length!==0||p?{snapshot:new el(this.query,e.tu,h,d,e.mutatedKeys,v===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Ev(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new vv(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=qt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fd="SyncEngine";class ow{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class uw{constructor(e){this.key=e,this.hu=!1}}class cw{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ka((y=>j_(y)),xc),this.Iu=new Map,this.Eu=new Set,this.du=new be(bt.comparator),this.Au=new Map,this.Ru=new Id,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hw(r,e,i=!0){const a=xv(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await bv(a,e,i,!0),o}async function fw(r,e){const i=xv(r);await bv(i,e,!0,!1)}async function bv(r,e,i,a){const o=await MA(r.localStore,ji(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await dw(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&cv(r.remoteStore,o),y}async function dw(r,e,i,a,o){r.pu=(A,N,j)=>(async function(H,P,et,pt){let dt=P.view.ru(et);dt.Cs&&(dt=await A0(H.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,dt))));const yt=pt&&pt.targetChanges.get(P.targetId),_t=pt&&pt.targetMismatches.get(P.targetId)!=null,vt=P.view.applyChanges(dt,H.isPrimaryClient,yt,_t);return I0(H,P.targetId,vt.au),vt.snapshot})(r,A,N,j);const h=await A0(r.localStore,e,!0),d=new lw(e,h.Qs),y=d.ru(h.documents),v=Co.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),p=d.applyChanges(y,r.isPrimaryClient,v);I0(r,i,p.au);const S=new ow(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),p.snapshot}async function mw(r,e,i){const a=Dt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!xc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ud(a.remoteStore,o.targetId),md(a,o.targetId)})).catch(sl)):(md(a,o.targetId),await hd(a.localStore,o.targetId,!0))}async function gw(r,e){const i=Dt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ud(i.remoteStore,a.targetId))}async function pw(r,e,i){const a=Sw(r);try{const o=await(function(d,y){const v=Dt(d),p=ge.now(),S=y.reduce(((j,U)=>j.add(U.key)),qt());let A,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let U=Es(),H=qt();return v.Ns.getEntries(j,S).next((P=>{U=P,U.forEach(((et,pt)=>{pt.isValidDocument()||(H=H.add(et))}))})).next((()=>v.localDocuments.getOverlayedDocuments(j,U))).next((P=>{A=P;const et=[];for(const pt of y){const dt=VS(pt,A.get(pt.key).overlayedDocument);dt!=null&&et.push(new $a(pt.key,dt,R_(dt.value.mapValue),ys.exists(!0)))}return v.mutationQueue.addMutationBatch(j,p,et,y)})).next((P=>{N=P;const et=P.applyToLocalDocumentSet(A,H);return v.documentOverlayCache.saveOverlays(j,P.batchId,et)}))})).then((()=>({batchId:N.batchId,changes:U_(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let p=d.Vu[d.currentUser.toKey()];p||(p=new be(Pt)),p=p.insert(y,v),d.Vu[d.currentUser.toKey()]=p})(a,o.batchId,i),await No(a,o.changes),await Oc(a.remoteStore)}catch(o){const h=Hd(o,"Failed to persist write");i.reject(h)}}async function Tv(r,e){const i=Dt(r);try{const a=await NA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(ee(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ee(d.hu,14607):o.removedDocuments.size>0&&(ee(d.hu,42227),d.hu=!1))})),await No(i,a,e)}catch(a){await sl(a)}}function O0(r,e,i){const a=Dt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Dt(d);v.onlineState=y;let p=!1;v.queries.forEach(((S,A)=>{for(const N of A.Sa)N.va(y)&&(p=!0)})),p&&Gd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function yw(r,e,i){const a=Dt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new be(bt.comparator);d=d.insert(h,on.newNoDocument(h,Rt.min()));const y=qt().add(h),v=new Dc(Rt.min(),new Map,new be(Pt),d,y);await Tv(a,v),a.du=a.du.remove(h),a.Au.delete(e),Qd(a)}else await hd(a.localStore,e,!1).then((()=>md(a,e,i))).catch(sl)}async function _w(r,e){const i=Dt(r),a=e.batch.batchId;try{const o=await RA(i.localStore,e);Av(i,a,null),Sv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await No(i,o)}catch(o){await sl(o)}}async function vw(r,e,i){const a=Dt(r);try{const o=await(function(d,y){const v=Dt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let S;return v.mutationQueue.lookupMutationBatch(p,y).next((A=>(ee(A!==null,37113),S=A.keys(),v.mutationQueue.removeMutationBatch(p,A)))).next((()=>v.mutationQueue.performConsistencyCheck(p))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(p,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,S))).next((()=>v.localDocuments.getDocuments(p,S)))}))})(a.localStore,e);Av(a,e,i),Sv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await No(a,o)}catch(o){await sl(o)}}function Sv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Av(r,e,i){const a=Dt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function md(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||wv(r,a)}))}function wv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Ud(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Qd(r))}function I0(r,e,i){for(const a of i)a instanceof vv?(r.Ru.addReference(a.key,e),Ew(r,a)):a instanceof Ev?(ot(Fd,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||wv(r,a.key)):wt(19791,{wu:a})}function Ew(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(Fd,"New document in limbo: "+i),r.Eu.add(a),Qd(r))}function Qd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new bt(me.fromString(e)),a=r.fu.next();r.Au.set(a,new uw(i)),r.du=r.du.insert(i,a),cv(r.remoteStore,new Ws(ji(Nd(i.path)),a,"TargetPurposeLimboResolution",Tc.ce))}}async function No(r,e,i){const a=Dt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,e,i).then((p=>{if((p||i)&&a.isPrimaryClient){const S=p?!p.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(p){o.push(p);const S=zd.As(v.targetId,p);h.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,p){const S=Dt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(p,(N=>W.forEach(N.Es,(j=>S.persistence.referenceDelegate.addReference(A,N.targetId,j))).next((()=>W.forEach(N.ds,(j=>S.persistence.referenceDelegate.removeReference(A,N.targetId,j)))))))))}catch(A){if(!al(A))throw A;ot(kd,"Failed to update sequence numbers: "+A)}for(const A of p){const N=A.targetId;if(!A.fromCache){const j=S.Ms.get(N),U=j.snapshotVersion,H=j.withLastLimboFreeSnapshotVersion(U);S.Ms=S.Ms.insert(N,H)}}})(a.localStore,h))}async function bw(r,e){const i=Dt(r);if(!i.currentUser.isEqual(e)){ot(Fd,"User change. New user:",e.toKey());const a=await rv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new gt(tt.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await No(i,a.Ls)}}function Tw(r,e){const i=Dt(r),a=i.Au.get(e);if(a&&a.hu)return qt().add(a.key);{let o=qt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function xv(r){const e=Dt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yw.bind(null,e),e.Pu.H_=aw.bind(null,e.eventManager),e.Pu.yu=rw.bind(null,e.eventManager),e}function Sw(r){const e=Dt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_w.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vw.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CA(this.persistence,new AA,e.initialUser,this.serializer)}Cu(e){return new av(jd.mi,this.serializer)}Du(e){return new IA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class Aw extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ee(this.persistence.referenceDelegate instanceof _c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uA(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new av((a=>_c.mi(a,i)),this.serializer)}}class gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>O0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bw.bind(null,this.syncEngine),await nw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sw})()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),a=(function(h){return new LA(h)})(e.databaseInfo);return(function(h,d,y,v){return new HA(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,y){return new FA(a,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>O0(this.syncEngine,i,0)),(function(){return C0.v()?new C0:new jA})())}createSyncEngine(e,i){return(function(o,h,d,y,v,p,S){const A=new cw(o,h,d,y,v,p);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Dt(i);ot(Ya,"RemoteStore shutting down."),a.Ea.add(5),await Ro(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gd.provider={build:()=>new gd};class Cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ua="FirestoreClient";class ww{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ot(ua,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(ua,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Hd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Yf(r,e){r.asyncQueue.verifyOperationInProgress(),ot(ua,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await rv(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function j0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await xw(r);ot(ua,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>N0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>N0(e.remoteStore,o))),r._onlineComponents=e}async function xw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(ua,"Using user provided OfflineComponentProvider");try{await Yf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$r("Error using user provided cache. Falling back to memory cache: "+i),await Yf(r,new Ec)}}else ot(ua,"Using default OfflineComponentProvider"),await Yf(r,new Aw(void 0));return r._offlineComponents}async function Rv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(ua,"Using user provided OnlineComponentProvider"),await j0(r,r._uninitializedComponentsProvider._online)):(ot(ua,"Using default OnlineComponentProvider"),await j0(r,new gd))),r._onlineComponents}function Cw(r){return Rv(r).then((e=>e.syncEngine))}async function Nv(r){const e=await Rv(r),i=e.eventManager;return i.onListen=hw.bind(null,e.syncEngine),i.onUnlisten=mw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=fw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=gw.bind(null,e.syncEngine),i}function Rw(r,e,i={}){const a=new ps;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,p){const S=new Cv({next:N=>{S.Nu(),d.enqueueAndForget((()=>yv(h,A)));const j=N.docs.has(y);!j&&N.fromCache?p.reject(new gt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&N.fromCache&&v&&v.source==="server"?p.reject(new gt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(N)},error:N=>p.reject(N)}),A=new _v(Nd(y.path),S,{includeMetadataChanges:!0,qa:!0});return pv(h,A)})(await Nv(r),r.asyncQueue,e,i,a))),a.promise}function Nw(r,e,i={}){const a=new ps;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,p){const S=new Cv({next:N=>{S.Nu(),d.enqueueAndForget((()=>yv(h,A))),N.fromCache&&v.source==="server"?p.reject(new gt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(N)},error:N=>p.reject(N)}),A=new _v(y,S,{includeMetadataChanges:!0,qa:!0});return pv(h,A)})(await Nv(r),r.asyncQueue,e,i,a))),a.promise}function Dv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const z0=new Map;const Vv="firestore.googleapis.com",k0=!0;class U0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new gt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vv,this.ssl=k0}else this.host=e.host,this.ssl=e.ssl??k0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lA)throw new gt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dv(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ic{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new I2;switch(a.type){case"firstParty":return new U2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new gt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=z0.get(i);a&&(ot("ComponentProvider","Removing Datastore"),z0.delete(i),a.terminate())})(this),Promise.resolve()}}function Dw(r,e,i,a={}){r=Qa(r,Ic);const o=vd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(lT(`https://${y}`),hT("Firestore",!0)),h.host!==Vv&&h.host!==y&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:a};if(!oc(v,d)&&(r._setSettings(v),a.mockUserToken)){let p,S;if(typeof a.mockUserToken=="string")p=a.mockUserToken,S=ln.MOCK_USER;else{p=oT(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new gt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new ln(A)}r._authCredentials=new j2(new p_(p,S))}}class jc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class qe{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(wo(i,qe._jsonSchema))return new qe(e,a||null,new bt(me.fromString(i.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Le("string",qe._jsonSchemaVersion),referencePath:Le("string")};class ia extends jc{constructor(e,i,a){super(e,i,Nd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new bt(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function Vw(r,e,...i){if(r=go(r),y_("collection","path",e),r instanceof Ic){const a=me.fromString(e,...i);return Jy(a),new ia(r,null,a)}{if(!(r instanceof qe||r instanceof ia))throw new gt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(me.fromString(e,...i));return Jy(a),new ia(r.firestore,null,a)}}function Yd(r,e,...i){if(r=go(r),arguments.length===1&&(e=Td.newId()),y_("doc","path",e),r instanceof Ic){const a=me.fromString(e,...i);return Zy(a),new qe(r,null,new bt(a))}{if(!(r instanceof qe||r instanceof ia))throw new gt(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(me.fromString(e,...i));return Zy(a),new qe(r.firestore,r instanceof ia?r.converter:null,new bt(a))}}const L0="AsyncQueue";class B0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ov(this,"async_queue_retry"),this._c=()=>{const a=Qf();a&&ot(L0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;ot(L0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",P0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=qd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:P0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function P0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class zc extends Ic{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new B0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B0(e),this._firestoreClient=void 0,await e}}}function q0(r,e){const i=typeof r=="object"?r:r_(),a=typeof r=="string"?r:hc,o=p2(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=aT("firestore");h&&Dw(o,...h)}return o}function Xd(r){if(r._terminated)throw new gt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Mw(r),r._firestoreClient}function Mw(r){const e=r._freezeSettings(),i=(function(o,h,d,y){return new eS(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Dv(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ww(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(en.fromBase64String(e))}catch(i){throw new gt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wo(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Le("string",ri._jsonSchemaVersion),bytes:Le("string")};class Kd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new gt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mv{constructor(e){this._methodName=e}}class ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(wo(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Le("string",ki._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wo(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new gt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Le("string",Ui._jsonSchemaVersion),vectorValues:Le("object")};const Ow=/^__.*__$/;class Iw{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new $a(e,this.data,this.fieldMask,i,this.fieldTransforms):new xo(e,this.data,i,this.fieldTransforms)}}function Ov(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:r})}}class $d{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $d({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ov(this.Ac)&&Ow.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jw{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Vc(e)}Cc(e,i,a,o=!1){return new $d({Ac:e,methodName:i,Dc:a,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zw(r){const e=r._freezeSettings(),i=Vc(r._databaseId);return new jw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function kw(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);kv("Data must be an object, but it was:",d,a);const y=jv(a,d);let v,p;if(h.merge)v=new vi(d.fieldMask),p=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const A of h.mergeFields){const N=Uw(e,A,i);if(!d.contains(N))throw new gt(tt.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Bw(S,N)||S.push(N)}v=new vi(S),p=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,p=d.fieldTransforms;return new Iw(new ai(y),v,p)}function Iv(r,e){if(zv(r=go(r)))return kv("Unsupported field value:",e,r),jv(r,e);if(r instanceof Mv)return(function(a,o){if(!Ov(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const y of a){let v=Iv(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=go(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return wS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ge.fromDate(a);return{timestampValue:yc(o.serializer,h)}}if(a instanceof ge){const h=new ge(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yc(o.serializer,h)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:Z_(o.serializer,a._byteString)};if(a instanceof qe){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Od(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ui)return(function(d,y){return{mapValue:{fields:{[x_]:{stringValue:C_},[fc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw y.Sc("VectorValues must only contain numeric values.");return Dd(y.serializer,p)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Sd(a)}`)})(r,e)}function jv(r,e){const i={};return E_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(r,((a,o)=>{const h=Iv(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function zv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ge||r instanceof ki||r instanceof ri||r instanceof qe||r instanceof Mv||r instanceof Ui)}function kv(r,e,i){if(!zv(i)||!__(i)){const a=Sd(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Uw(r,e,i){if((e=go(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return Uv(r,e);throw bc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Lw=new RegExp("[~\\*/\\[\\]]");function Uv(r,e,i){if(e.search(Lw)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Kd(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function bc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new gt(tt.INVALID_ARGUMENT,y+r+v)}function Bw(r,e){return r.some((i=>i.isEqual(e)))}class Lv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Bv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Pw extends Lv{data(){return super.data()}}function Bv(r,e){return typeof e=="string"?Uv(r,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}function qw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new gt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hw{convertValue(e,i="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Xa(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[fc].arrayValue?.values?.map((a=>De(a.doubleValue)));return new Ui(i)}convertGeoPoint(e){return new ki(De(e.latitude),De(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ac(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Eo(e));default:return null}}convertTimestamp(e){const i=aa(e);return new ge(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=me.fromString(e);ee(iv(a),9688,{name:e});const o=new bo(a.get(1),a.get(3)),h=new bt(a.popFirst(5));return o.isEqual(i)||vs(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function Gw(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends Lv{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Bv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:Le("string",Ga._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class ac extends Ga{data(e={}){return super.data(e)}}class Kr{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new ac(this._firestore,this._userDataWriter,a.key,a,new lo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new lo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new lo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,S=-1;return y.type!==0&&(p=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:Fw(y.type),doc:v,oldIndex:p,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:r})}}function Qw(r){r=Qa(r,qe);const e=Qa(r.firestore,zc);return Rw(Xd(e),r._key).then((i=>Kw(e,r,i)))}Kr._jsonSchemaVersion="firestore/querySnapshot/1.0",Kr._jsonSchema={type:Le("string",Kr._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class Pv extends Hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,i)}}function Yw(r){r=Qa(r,jc);const e=Qa(r.firestore,zc),i=Xd(e),a=new Pv(e);return qw(r._query),Nw(i,r._query).then((o=>new Kr(e,a,r,o)))}function qv(r,e,i){r=Qa(r,qe);const a=Qa(r.firestore,zc),o=Gw(r.converter,e,i);return Xw(a,[kw(zw(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ys.none())])}function Xw(r,e){return(function(a,o){const h=new ps;return a.asyncQueue.enqueueAndForget((async()=>pw(await Cw(a),o,h))),h.promise})(Xd(r),e)}function Kw(r,e,i){const a=i.docs.get(e._key),o=new Pv(r);return new Ga(r,o,e._key,a,new lo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){il=o})(E2),uc(new po("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new zc(new z2(a.getProvider("auth-internal")),new L2(d,a.getProvider("app-check-internal")),(function(p,S){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new gt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(p.options.projectId,S)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Yr(Yy,Xy,e),Yr(Yy,Xy,"esm2020")})();const H0={apiKey:"AIzaSyDRJEVjEjAG6KDpNNSw4jVIefrFeg6KE",authDomain:"japanese-learning-app-fcb27.firebaseapp.com",projectId:"japanese-learning-app-fcb27",storageBucket:"japanese-learning-app-fcb27.appspot.com",messagingSenderId:"999126999380",appId:"1:999126999380:web:21b7ec4100378178ec10c1"};let Qr=null,Fr=null;const $w=()=>{if(b2().length>0)return Fr=r_(),Qr=q0(Fr),console.log("[Firestore] existing app found",Fr),Qr;if(!H0.apiKey)return console.warn("[Firestore] Missing API Key. Skipping initialization."),null;try{console.log("[Firestore] Initializing Firebase App..."),Fr=a_(H0),Qr=q0(Fr),console.log("[Firestore] Initialization successful.")}catch(r){console.error("[Firestore] Initialization failed",r)}return Qr},kc=()=>{if(!Qr){if(!Fr)return $w();console.warn("[Firestore] Database not initialized was null, and init failed.")}return Qr},Zw="demoUser1",Uc=()=>Zw,Jw=async()=>{const r=kc();if(!r)return null;const e=Uc();try{console.log(`[Firestore] Fetching config for ${e}`);const i=Yd(r,"users",e,"preferences","config"),a=await Qw(i);return a.exists()?a.data():null}catch(i){return console.error("[Firestore] Failed to load config",i),null}},Ww=async r=>{const e=kc();if(!e)return;const i=Uc();try{console.log(`[Firestore] Saving config for ${i}`,r);const a=Yd(e,"users",i,"preferences","config");await qv(a,r,{merge:!0})}catch(a){console.error("[Firestore] Failed to save config",a)}},Mi={itemsPerPage:"itemsPerPage",columnOrder:"columnOrder",columnVisibility:"columnVisibility",columnWidths:"columnWidths"},io={itemsPerPage:500,columnOrder:[],columnVisibility:{},columnWidths:{}};class tx{constructor(){this._isHydrated=!1,this._listeners=new Set,this._backgroundSync()}loadPreferences(){return{itemsPerPage:this._get(Mi.itemsPerPage,io.itemsPerPage),columnOrder:this._get(Mi.columnOrder,io.columnOrder),columnVisibility:this._get(Mi.columnVisibility,io.columnVisibility),columnWidths:this._get(Mi.columnWidths,io.columnWidths)}}subscribe(e){return this._listeners.add(e),()=>this._listeners.delete(e)}_notifyListeners(){const e=this.loadPreferences();this._listeners.forEach(i=>i(e))}savePreferences(e){if(Object.keys(e).forEach(i=>{Mi[i]?this._set(Mi[i],e[i]):console.warn(`PreferenceStore: Unknown preference key '${i}'`)}),this._isHydrated){const i={};Object.keys(e).forEach(a=>{Mi[a]&&(i[a]=e[a])}),Object.keys(i).length>0&&Ww(i)}else console.log("[PreferenceStore] Skipping Firestore save (not hydrated).",e)}async _backgroundSync(){const e=await Jw();if(e){console.log("[PreferenceStore] Synced config from Firestore",e);let i=!1;Object.keys(Mi).forEach(a=>{if(e[a]!==void 0){const o=this._get(Mi[a],io[a]);JSON.stringify(o)!==JSON.stringify(e[a])&&(this._set(Mi[a],e[a]),i=!0)}}),i&&this._notifyListeners()}this._isHydrated=!0,console.log("[PreferenceStore] Hydration complete. Firestore writes enabled.")}_get(e,i){try{const a=localStorage.getItem(e);return a===null?i:JSON.parse(a)}catch(a){return console.warn(`PreferenceStore: Failed to load '${e}'`,a),i}}_set(e,i){try{localStorage.setItem(e,JSON.stringify(i))}catch(a){console.warn(`PreferenceStore: Failed to save '${e}'`,a)}}}const gs=new tx,ex=async()=>{const r=kc();if(!r)return{};const e=Uc();try{console.log(`[Firestore] Fetching learning progress for ${e}`);const i=Vw(r,"users",e,"progress"),a=await Yw(i),o={};return a.empty?(console.log("[Firestore] No progress data found."),{}):(a.forEach(h=>{o[h.id]=h.data()}),console.log(`[Firestore] Loaded ${Object.keys(o).length} progress items.`),o)}catch(i){return console.error("[Firestore] Failed to fetch progress",i),{}}},nx=async(r,e)=>{const i=kc();if(!i)return;const a=Uc();try{console.log(`[Firestore] Updating progress for ${r}`,e);const o=Yd(i,"users",a,"progress",r);await qv(o,{...e,updatedAt:new Date().toISOString()},{merge:!0})}catch(o){throw console.error("[Firestore] Failed to update progress",o),o}};function ix({vocabList:r,setVocabList:e,folders:i,setFolders:a,currentFolderId:o,setCurrentFolderId:h,isLoading:d,setIsLoading:y,isSyncing:v,setIsSyncing:p,apiService:S,fetchSheetData:A}){const[N,j]=nt.useState(!1),[U,H]=nt.useState([]),[P,et]=nt.useState(!1),[pt,dt]=nt.useState({japanese:!1,kanji:!1,bangla:!1}),[yt,_t]=nt.useState({japanese:null,kanji:null,bangla:null}),vt=nt.useRef(0),[C,x]=nt.useState(()=>gs.loadPreferences().columnOrder),[w,I]=nt.useState(()=>gs.loadPreferences().columnVisibility),[V,z]=nt.useState(()=>gs.loadPreferences().columnWidths),[R,Xt]=nt.useState(!1),[ae,Y]=nt.useState(!1);nt.useEffect(()=>{gs.savePreferences({columnWidths:V})},[V]);const it=nt.useMemo(()=>{let K=[];if(r&&r.length>0){const st=r[0];K=Object.keys(st).filter(ut=>!Vb.has(ut)).filter(ut=>ut!=="japanese"||!st._isSyntheticJapanese).map(ut=>({id:ut,label:ut,width:"min-w-[140px]",type:"text",sortable:!0}))}return[Ob,...K,...Mb]},[r]);nt.useEffect(()=>{x(K=>{const st=K||[],ft=new Set(st),ut=it.filter(ne=>!ft.has(ne.id)).map(ne=>ne.id);return[...st,...ut]})},[it]),nt.useEffect(()=>{gs.savePreferences({columnOrder:C})},[C]),nt.useEffect(()=>{gs.savePreferences({columnVisibility:w})},[w]);const[ht,jt]=nt.useState({key:null,direction:"asc"}),[Ht,M]=nt.useState({lesson:[],cando:[]}),[$,lt]=nt.useState(""),[at,St]=nt.useState("all"),[xt,At]=nt.useState(new Set),[Ut,te]=nt.useState([]),[xn,Cn]=nt.useState(0),[li,Rn]=nt.useState(!1),[un,qn]=nt.useState(!1),[cn,oi]=nt.useState({open:!1,type:null,targetId:null,targetName:""}),[It,Ct]=nt.useState(!1),[Gt,Ve]=nt.useState({open:!1,pendingAction:null}),[ui,ca]=nt.useState(null),re=nt.useCallback((K,st="success")=>ca({message:K,type:st}),[]),{filteredAndSortedData:Ye,trendData:ha,weaknessSuggestion:fa,safeDataList:Ei}=Yb(r,o,$,Ht,ht,at,N,U),{showingCount:Ja,totalCount:da}=Xb(r,Ye,o),[Pi,bs]=nt.useState(1),[Te,Me]=nt.useState(()=>gs.loadPreferences().itemsPerPage);nt.useEffect(()=>{gs.savePreferences({itemsPerPage:Te})},[Te]),nt.useEffect(()=>{const K=gs.subscribe(st=>{st.itemsPerPage!==Te&&Me(st.itemsPerPage),JSON.stringify(st.columnOrder)!==JSON.stringify(C)&&x(st.columnOrder),JSON.stringify(st.columnVisibility)!==JSON.stringify(w)&&I(st.columnVisibility),JSON.stringify(st.columnWidths)!==JSON.stringify(V)&&z(st.columnWidths)});return()=>K()},[Te,C,w,V]),nt.useEffect(()=>{bs(1)},[o,$,Ht,at,ht]);const mn=nt.useMemo(()=>{const K=(Pi-1)*Te;return Ye.slice(K,K+Te)},[Ye,Pi,Te]),_e=Math.ceil(Ye.length/Te),{playbackMode:qi,isPlaying:bi,playbackQueue:Hi,currentIndex:Nn,audioConfig:Gi,isAudioBarManuallyHidden:ve,setAudioConfig:gn,setIsAudioBarManuallyHidden:Dn,togglePlayPause:pn,startPlaylist:ll,handlePlaySingle:Wa,onPrevTrack:Hn,onNextTrack:Fi}=Qb(r,Ye,re),ol=nt.useMemo(()=>o==="root"?r:r.filter(K=>K.folderId===o),[r,o]),hn=K=>{N&&P?Ve({open:!0,pendingAction:K}):(N&&j(!1),K())},Qi=K=>hn(()=>h(K)),ma=K=>hn(()=>M(K)),Yi=(K="standard")=>{let st=Ye;if(K==="smart"&&(st=st.filter(ft=>ft.isMarked)),st.length===0&&(st=Ye.slice(0,10)),st.length===0){re("No words to practice!","error");return}te([...st].sort(()=>Math.random()-.5)),Cn(0),Rn(!0)},ci=()=>hn(()=>Yi()),tr=()=>hn(()=>ll(0)),Vn=K=>hn(()=>St(at===K?"all":K)),Mn=K=>hn(()=>M({lesson:K.lesson,cando:K.cando})),Se=async()=>{if(N&&P){re("Save or discard changes before refreshing","warning");return}p(!0);try{await A(!0),re("Data refreshed from Sheet","success")}catch(K){console.error(K),re("Refresh failed","error")}finally{p(!1)}},Oe=()=>hn(()=>{const K=r.filter(ut=>ut.isMarked),st=ut=>[...ut].sort(()=>Math.random()-.5);let ft=[...st(K).slice(0,15),...st(r.filter(ut=>!ut.isMarked)).slice(0,5)];ft.length===0&&(ft=st(r).slice(0,20)),te(ft),Cn(0),Rn(!0)}),Gn=()=>{H(JSON.parse(JSON.stringify(r))),et(!1),j(!0),Ct(!1),re("Edit Mode Started","warning")},Xi=async()=>{if(v)return;const K=[],st=[];if(U.forEach(ft=>{if(!ft.id)st.push(ft);else{const ut=r.find(ne=>ne.id===ft.id);ut&&JSON.stringify(Dy(ut,ft))&&K.push({id:ft.id,...Dy(ut,ft)})}}),K.length===0&&st.length===0){et(!1);return}p(!0),e(JSON.parse(JSON.stringify(U))),et(!1);try{st.length&&await S.sendAdd(st),K.length&&await S.sendUpdate(K),re("Saved!","success"),j(!1),await A()}catch(ft){console.error(ft),re("Save failed","error"),et(!0)}finally{p(!1)}},ul=()=>{H([]),et(!1),j(!1)},er=()=>{Xi(),Ve({open:!1,pendingAction:null}),Gt.pendingAction?.()},nr=()=>{et(!1),j(!1),Ve({open:!1,pendingAction:null}),Gt.pendingAction?.()},Fn=()=>Ve({open:!1,pendingAction:null});nt.useEffect(()=>{_t({japanese:null,kanji:null,bangla:null})},[o,Ht,$,ht,at]);const Ts=K=>{dt(st=>({...st,[K]:!st[K]})),_t(st=>({...st,[K]:null}))},Qn=nt.useCallback((K,st)=>_t(ft=>({...ft,[st]:K})),[]),yn=nt.useCallback((K,st,ft)=>{N&&(H(ut=>ut.map(ne=>ne.localId===K?{...ne,[st]:ft}:ne)),et(!0))},[N]),nn=nt.useCallback(async K=>{if(N)H(st=>st.map(ft=>ft.localId===K?{...ft,isMarked:!ft.isMarked}:ft)),et(!0);else{const st=r.find(ut=>ut.localId===K);if(!st||!st.id)return;const ft=!st.isMarked;e(ut=>ut.map(ne=>ne.localId===K?{...ne,isMarked:ft}:ne)),vt.current===0&&p(!0),vt.current+=1;try{await nx(st.id,{isMarked:ft})}catch(ut){console.error(ut),e(ne=>ne.map(Ge=>Ge.localId===K?{...Ge,isMarked:!ft}:Ge)),re("Failed to update mark","error")}finally{vt.current-=1,vt.current===0&&p(!1)}}},[N,r,S,e,re]),On=async()=>{Rn(!1)},Ee=nt.useCallback((K,st,ft)=>{!N&&K!=="folder"||oi({open:!0,type:K,targetId:st,targetName:ft})},[N]),ga=async()=>{N&&(cn.type==="single"?H(K=>K.filter(st=>st.localId!==cn.targetId)):(H(K=>K.filter(st=>!xt.has(st.localId))),At(new Set)),et(!0)),oi({open:!1,type:null,targetId:null,targetName:""})},pa=nt.useCallback(K=>{At(st=>{const ft=new Set(st);return ft.has(K)?ft.delete(K):ft.add(K),ft})},[]),Yn=K=>jt({key:K,direction:ht.key===K&&ht.direction==="asc"?"desc":"asc"}),In=()=>jt({key:"random",seed:Date.now()}),ya=(K,st)=>{K.dataTransfer.setData("text/plain",st),K.dataTransfer.effectAllowed="move"},_a=K=>{K.preventDefault(),K.dataTransfer.dropEffect="move"},va=(K,st)=>{K.preventDefault();const ft=K.dataTransfer.getData("text/plain");if(ft===st)return;const ut=C.indexOf(ft),ne=C.indexOf(st);if(ut<0||ne<0)return;const Ge=[...C],[$i]=Ge.splice(ut,1);Ge.splice(ne,0,$i),x(Ge)},ir=async K=>{const st=K.map(ft=>({...ft,id:null,localId:`imported_${Date.now()}_${Math.random()}`,folderId:o==="root"?"Uncategorized":o,book:i.find(ut=>ut.id===o)?.name||"Uncategorized",mistakes:0,confidence:0,isMarked:!1,lesson:ft.lesson||"1",cando:ft.cando||"1",japanese:ft.japanese||"",bangla:ft.bangla||"",kanji:ft.kanji||""}));if(N)H(ft=>[...ft,...st]),et(!0);else{p(!0);try{await S.sendAdd(st),re("Imported successfully","success"),await A()}catch{re("Import failed","error")}finally{p(!1)}}qn(!1)},Ki=K=>{xn<Ut.length-1?Cn(st=>st+1):On()};if(d)return b.jsxs("div",{className:"h-screen flex items-center justify-center font-bold text-slate-500",children:[b.jsx(Y0,{className:"animate-spin mr-2"})," Loading..."]});if(li)return b.jsx("div",{className:"p-4 bg-slate-100 h-screen flex flex-col items-center justify-center",children:b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl text-center",children:[b.jsx("h2",{className:"text-4xl font-bold mb-4",children:Ut[xn]?.japanese}),b.jsxs("div",{className:"flex gap-4 mt-8",children:[b.jsx("button",{onClick:()=>Ki(),className:"px-6 py-3 bg-red-100 text-red-600 rounded-lg font-bold",children:"Hard"}),b.jsx("button",{onClick:()=>Ki(),className:"px-6 py-3 bg-green-100 text-green-600 rounded-lg font-bold",children:"Easy"})]}),b.jsx("button",{onClick:()=>On(),className:"mt-8 text-slate-400 underline text-sm",children:"Save & Exit"})]})});const sn=qi==="playlist"&&Hi.length>0&&!ve,Ae=qi==="playlist"&&Hi.length>0&&ve;return b.jsxs("div",{className:"flex h-screen w-full bg-slate-100 font-sans text-slate-800 overflow-hidden",children:[ui&&b.jsx(jb,{message:ui.message,type:ui.type,onClose:()=>ca(null)}),b.jsx("div",{className:"hidden md:flex h-full flex-shrink-0",children:b.jsx(Oy,{folders:i,currentFolderId:o,handleFolderChange:Qi})}),ae&&b.jsxs("div",{className:"fixed inset-0 z-[100] md:hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>Y(!1)}),b.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-slate-900 shadow-2xl animate-in slide-in-from-left duration-200",children:b.jsx(Oy,{folders:i,currentFolderId:o,handleFolderChange:K=>{Qi(K),Y(!1)},isMobile:!0})})]}),b.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-slate-50",children:[b.jsxs("div",{className:"md:hidden bg-slate-900 text-white px-3 py-1.5 flex items-center justify-between shadow-md z-20 h-11 shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-7 h-7 bg-indigo-600 rounded flex-shrink-0 flex items-center justify-center font-bold text-base shadow-lg",children:""}),b.jsxs("span",{className:"font-bold text-base tracking-tight leading-none",children:["Irodori",b.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"text-[10px] text-slate-300 font-mono text-right leading-none flex flex-col gap-0.5",children:[b.jsx("div",{className:"font-bold text-white max-w-[100px] truncate",children:o==="root"?"My Drive":i.find(K=>K.id===o)?.name||"..."}),b.jsxs("div",{className:"opacity-80",children:[Ja," / ",da]})]}),b.jsx("button",{onClick:()=>Y(!0),className:"md:hidden p-1 -mr-1",children:b.jsxs("div",{className:"space-y-[3px]",children:[b.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"}),b.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"}),b.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"})]})})]})]}),b.jsx(Pb,{currentFolderId:o,folders:i,vocabList:ol,selectedIds:xt,isEditMode:N,hasUnsavedChanges:P,filters:Ht,hiddenColumns:pt,viewMode:at,onFolderChange:Qi,onDeleteRequest:Ee,onEditModeToggle:()=>Ct(!0),onFilterChange:ma,onViewModeChange:Vn,onVisibilityToggle:Ts,onSave:Xi,onDiscard:ul,onPracticeStart:ci,onPlaylistStart:tr,onImportOpen:()=>qn(!0),setIsColumnManagerOpen:Xt,isSyncing:v,filteredData:Ye,onStartSmartPractice:Oe,trendData:ha,suggestion:fa,onApplySuggestion:Mn,onRefresh:Se,onShuffle:In,isPlaying:bi,onTogglePlay:pn,showingCount:Ja,totalCount:da}),b.jsx("div",{className:"flex-1 overflow-auto transition-all duration-300",style:{paddingBottom:sn?"96px":"0px"},children:b.jsxs("table",{className:"w-full border-collapse bg-white text-sm table-fixed",children:[b.jsx("colgroup",{children:C.map(K=>{const st=it.find(ut=>ut.id===K);if(!st||st.editOnly&&!N||w[K]===!1)return null;let ft=V[K];if(!ft){const ut={"w-10":40,"w-12":48,"w-16":64,"w-20":80,"w-24":96,"w-32":128,"w-40":160,"w-48":192,"w-64":256},ne=st.width&&typeof st.width=="string"&&st.width.match(/w-(\d+)/);ut[st.width]?ft=ut[st.width]:ne?ft=parseInt(ne[1])*4:ft=160}return b.jsx("col",{id:`col-${K}`,style:{width:ft}},K)})}),b.jsx("thead",{className:"sticky top-0 z-10 shadow-sm",children:b.jsx("tr",{children:C.map(K=>{const st=it.find(ft=>ft.id===K);return(!st?.editOnly||N)&&b.jsx(Lb,{colId:K,def:st,isEditMode:N,sortConfig:ht,onSort:Yn,columnVisibility:w,onDragStart:ya,onDragOver:_a,onDrop:va,onShuffle:In,columnWidths:V,setColumnWidths:z},K)})})}),b.jsx("tbody",{children:mn.map((K,st)=>b.jsx(kb,{item:K,index:(Pi-1)*Te+st,columnOrder:C,columnDefs:it,columnVisibility:w,columnWidths:V,selectedIds:xt,playbackMode:qi,isPlaying:bi,playbackQueue:Hi,currentIndex:Nn,hiddenColumns:pt,revealedCells:yt,isEditMode:N,onToggleSelection:pa,onUpdateCell:yn,onRevealCell:Qn,onPlaySingle:Wa,onMark:nn,onDeleteRequest:Ee},K.localId))})]})}),b.jsx(Gb,{currentPage:Pi,totalPages:_e,itemsPerPage:Te,onPageChange:bs,onItemsPerPageChange:K=>{Me(K),bs(1)},totalItems:Ye.length}),sn&&b.jsx(Ub,{playbackMode:qi,playbackQueue:Hi,currentIndex:Nn,vocabList:Ei,isPlaying:bi,audioConfig:Gi,onPrevTrack:Hn,onNextTrack:Fi,onTogglePlayPause:pn,onCycleRepeat:K=>gn(st=>({...st,repeatPerItem:K,repeatMode:`${K}x`})),onCycleSpeed:()=>gn(K=>({...K,speed:K.speed===1?1.5:1})),onToggleBangla:()=>gn(K=>({...K,includeBangla:!K.includeBangla})),onHide:()=>Dn(!0),onToggleMark:nn}),Ae&&b.jsx("button",{onClick:()=>Dn(!1),className:"fixed bottom-6 right-6 p-3 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 hover:scale-105 transition-all z-50 animate-bounce",title:"Show Player",children:b.jsx(Nb,{size:24})})]}),cn.open&&b.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:[b.jsxs("div",{className:"bg-red-50 p-6 flex flex-col items-center text-center",children:[b.jsx(rc,{className:"text-red-600 mb-4",size:24}),b.jsx("h3",{className:"text-xl font-bold",children:"Delete?"}),b.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Delete ",cn.targetName,"?"]})]}),b.jsxs("div",{className:"p-4 bg-white flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>oi({...cn,open:!1}),className:"flex-1 px-4 py-2.5 font-bold text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),b.jsx("button",{onClick:ga,className:"flex-1 px-4 py-2.5 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700",children:"Delete"})]})]})}),It&&b.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:[b.jsxs("div",{className:"bg-amber-50 p-6 flex flex-col items-center text-center",children:[b.jsx(lb,{className:"text-amber-600 mb-4",size:24}),b.jsx("h3",{className:"text-xl font-bold",children:"Enable Editing?"}),b.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["You are entering Edit Mode.",b.jsx("br",{}),"Changes are temporary until you click Save."]})]}),b.jsxs("div",{className:"p-4 bg-white flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>Ct(!1),className:"flex-1 px-4 py-2.5 font-bold text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),b.jsx("button",{onClick:Gn,className:"flex-1 px-4 py-2.5 bg-amber-500 text-white font-bold rounded-lg hover:bg-amber-600",children:"Start Editing"})]})]})}),Gt.open&&b.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/70 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[b.jsxs("div",{className:"bg-amber-50 p-6 flex flex-col items-center text-center border-b border-amber-100",children:[b.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4",children:b.jsx(rc,{className:"text-amber-600",size:24})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Unsaved Changes"}),b.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["You have unsaved edits in this session.",b.jsx("br",{}),"What would you like to do?"]})]}),b.jsxs("div",{className:"p-4 bg-white flex flex-col gap-2",children:[b.jsxs("button",{onClick:er,className:"w-full px-4 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[b.jsx(K0,{size:16})," Save & Continue"]}),b.jsxs("button",{onClick:nr,className:"w-full px-4 py-3 bg-white border-2 border-red-100 text-red-600 font-bold rounded-lg hover:bg-red-50 flex items-center justify-center gap-2",children:[b.jsx($0,{size:16})," Discard Changes"]}),b.jsx("button",{onClick:Fn,className:"w-full px-4 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-lg",children:"Cancel (Stay Here)"})]})]})}),b.jsx(qb,{isOpen:R,onClose:()=>Xt(!1),allColumns:it,columnOrder:C,setColumnOrder:x,columnVisibility:w,setColumnVisibility:I}),b.jsx(Hb,{isOpen:un,onClose:()=>qn(!1),onImport:ir})]})}const sx=(r,e)=>{if(!r||!e)return null;const i=r.split(".").map(Number),a=e.split(".").map(Number);for(let o=0;o<Math.max(i.length,a.length);o++){const h=i[o]||0,d=a[o]||0;if(h>d)return 1;if(h<d)return-1}return 0},ax=()=>{const[r,e]=nt.useState(!1),[i,a]=nt.useState({force:!1,message:"",storeUrl:"",version:""});return nt.useEffect(()=>{(async()=>{try{const h="https://japanese-learning-app-fcb27.web.app/app-version.json",d=await fetch(`${h}?t=${Date.now()}`,{cache:"no-store"});if(!d.ok)return;const y=await d.json();sx(y.version,"90.90.721")===1&&(e(!0),a(y))}catch{}})()},[]),{updateAvailable:r,...i}},rx=()=>{const{updateAvailable:r,force:e,message:i,version:a}=ax(),[o,h]=Ii.useState(!1);if(!r||o&&!e)return null;const d=()=>{window.location.reload()};return b.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-end sm:items-center justify-center p-4 pointer-events-none",children:[e&&b.jsx("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-md pointer-events-auto"}),!e&&b.jsx("div",{className:"absolute inset-0 bg-black/20 pointer-events-auto",onClick:()=>h(!0)}),b.jsxs("div",{className:`
                relative w-full max-w-md bg-white rounded-xl shadow-2xl overflow-hidden pointer-events-auto
                animate-in slide-in-from-bottom-4 duration-300
                ${e?"scale-105 ring-4 ring-red-500/20":"border border-slate-200"}
            `,children:[b.jsxs("div",{className:`${e?"bg-red-600":"bg-indigo-600"} px-6 py-4 flex items-center justify-between`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e?b.jsx(Ny,{className:"text-white",size:20}):b.jsx(JE,{className:"text-white",size:20})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-bold text-lg leading-none",children:e?"Critical Update Required":"Update Available"}),b.jsxs("p",{className:`${e?"text-red-100":"text-indigo-200"} text-xs mt-1`,children:["Version ",a]})]})]}),!e&&b.jsx("button",{onClick:()=>h(!0),className:"text-white/70 hover:text-white transition-colors p-1",children:b.jsx(Z0,{size:20})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed text-sm",children:i||"A new version of the application is available. Please update to continue ensuring the best experience."}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("button",{onClick:d,className:`w-full flex items-center justify-center gap-2 font-bold py-3.5 px-4 rounded-lg transition-all active:scale-95 text-sm
                                ${e?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-500/30":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-500/30"}`,children:e?"Update Now":"Reload to Update"}),!e&&b.jsx("button",{onClick:()=>h(!0),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-medium text-sm transition-colors",children:"Not now"})]}),e&&b.jsxs("div",{className:"flex items-start gap-2 mt-6 p-3 bg-red-50 rounded text-xs text-red-600 border border-red-100",children:[b.jsx(Ny,{size:14,className:"min-w-[14px] mt-0.5"}),b.jsx("p",{children:"This update includes critical security or feature changes. You cannot continue using the app without updating."})]})]})]})]})},Xf="https://script.google.com/macros/s/AKfycbwXyfE5aiGFaLh9MfX_4oxHLS9J_I6K8pyoHgUmJQZDmbqECS19Q8lGsOUxBFADWthh_Q/exec";function lx(){const[r,e]=nt.useState([]),[i,a]=nt.useState([]),[o,h]=nt.useState("root"),[d,y]=nt.useState(!0),[v,p]=nt.useState(!1),S={sendAdd:async N=>{const j={action:"add",items:N.map(U=>({hiragana:U.japanese,kanji:U.kanji,bangla:U.bangla,lesson:U.lesson,cando:U.cando,is_problem:U.isMarked,mistake_count:U.mistakes,confidence:U.confidence,last_practiced:U.lastPracticed}))};await fetch(Xf,{method:"POST",body:JSON.stringify(j)})},sendUpdate:async N=>{await fetch(Xf,{method:"POST",body:JSON.stringify({action:"update",updates:N})})}},A=async(N=!1)=>{!N&&r.length===0&&y(!0);try{const j=await fetch(Xf);if(!j.ok)throw new Error("Network response was not ok");const U=await j.json();let H=[];if(typeof U=="object"&&!Array.isArray(U)&&!U.data?Object.keys(U).forEach(P=>{Array.isArray(U[P])&&U[P].forEach(et=>{H.push({...et,book:P})})}):H=Array.isArray(U)?U:U.data||[],H.length>0){const P=H.map((yt,_t)=>Ib(yt,_t)),pt=[...new Set(P.map(yt=>yt.book))].filter(yt=>yt).map(yt=>({id:yt,name:yt,parentId:"root"}));a(pt);const dt=localStorage.getItem("vocabList");if(dt)try{const yt=new Map(JSON.parse(dt).map(_t=>[_t.localId,_t]));P.forEach(_t=>{const vt=yt.get(_t.localId);vt&&(_t.isMarked=vt.isMarked)})}catch(yt){console.error("Merge error",yt)}try{const yt=await ex();yt&&Object.keys(yt).length>0&&(P.forEach(_t=>{if(_t.id&&yt[_t.id]){const vt=yt[_t.id];vt.isMarked!==void 0&&(_t.isMarked=vt.isMarked)}}),console.log("[App] Merged Firestore progress into vocabList"))}catch(yt){console.error("[App] Failed to merge Firestore progress",yt)}e(P)}else console.error("Unexpected data format:",U)}catch(j){console.error("Fetch error:",j)}finally{N||y(!1)}};return nt.useEffect(()=>{const N=localStorage.getItem("vocabList");if(N)try{const j=JSON.parse(N);e(j),y(!1);const H=[...new Set(j.map(P=>P.book))].filter(P=>P).map(P=>({id:P,name:P,parentId:"root"}));a(H)}catch(j){console.error("Failed to parse saved data",j)}A(!!N)},[]),nt.useEffect(()=>{r.length>0&&localStorage.setItem("vocabList",JSON.stringify(r))},[r]),nt.useEffect(()=>{const N=()=>{if(window.AudioContext||window.webkitAudioContext){const j=window.AudioContext||window.webkitAudioContext,U=new j;U.state==="suspended"&&U.resume().then(()=>console.log("AudioContext resumed"));const H=U.createBuffer(1,1,22050),P=U.createBufferSource();P.buffer=H,P.connect(U.destination),P.start(0)}window.speechSynthesis&&window.speechSynthesis.cancel(),console.log("Audio subsystem unlocked via user interaction"),document.removeEventListener("click",N),document.removeEventListener("touchstart",N),document.removeEventListener("keydown",N)};return document.addEventListener("click",N),document.addEventListener("touchstart",N),document.addEventListener("keydown",N),()=>{document.removeEventListener("click",N),document.removeEventListener("touchstart",N),document.removeEventListener("keydown",N)}},[]),b.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-[#1e1e1e]",children:[b.jsx(rx,{}),b.jsx(ix,{vocabList:r,setVocabList:e,folders:i,setFolders:a,currentFolderId:o,setCurrentFolderId:h,isLoading:d,setIsLoading:y,isSyncing:v,setIsSyncing:p,apiService:S,fetchSheetData:A})]})}NE.createRoot(document.getElementById("root")).render(b.jsx(nt.StrictMode,{children:b.jsx(lx,{})}));
