(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function iS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ld={exports:{}},Pl={};var q0;function sS(){if(q0)return Pl;q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var H0;function rS(){return H0||(H0=1,Ld.exports=sS()),Ld.exports}var E=rS(),Ud={exports:{}},Ne={};var F0;function aS(){if(F0)return Ne;F0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.iterator;function k(I){return I===null||typeof I!="object"?null:(I=D&&I[D]||I["@@iterator"],typeof I=="function"?I:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,F={};function ie(I,X,re){this.props=I,this.context=X,this.refs=F,this.updater=re||B}ie.prototype.isReactComponent={},ie.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},ie.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function fe(){}fe.prototype=ie.prototype;function pe(I,X,re){this.props=I,this.context=X,this.refs=F,this.updater=re||B}var Me=pe.prototype=new fe;Me.constructor=pe,q(Me,ie.prototype),Me.isPureReactComponent=!0;var Se=Array.isArray;function we(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(I,X,re){var le=re.ref;return{$$typeof:s,type:I,key:X,ref:le!==void 0?le:null,props:re}}function V(I,X){return x(I.type,X,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(re){return X[re]})}var C=/\/+/g;function Xe(I,X){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):X.toString(36)}function et(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(we,we):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function K(I,X,re,le,he){var _e=typeof I;(_e==="undefined"||_e==="boolean")&&(I=null);var ve=!1;if(I===null)ve=!0;else switch(_e){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(I.$$typeof){case s:case e:ve=!0;break;case T:return ve=I._init,K(ve(I._payload),X,re,le,he)}}if(ve)return he=he(I),ve=le===""?"."+Xe(I,0):le,Se(he)?(re="",ve!=null&&(re=ve.replace(C,"$&/")+"/"),K(he,X,re,"",function(Nn){return Nn})):he!=null&&(O(he)&&(he=V(he,re+(he.key==null||I&&I.key===he.key?"":(""+he.key).replace(C,"$&/")+"/")+ve)),X.push(he)),1;ve=0;var ze=le===""?".":le+":";if(Se(I))for(var it=0;it<I.length;it++)le=I[it],_e=ze+Xe(le,it),ve+=K(le,X,re,_e,he);else if(it=k(I),typeof it=="function")for(I=it.call(I),it=0;!(le=I.next()).done;)le=le.value,_e=ze+Xe(le,it++),ve+=K(le,X,re,_e,he);else if(_e==="object"){if(typeof I.then=="function")return K(et(I),X,re,le,he);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Y(I,X,re){if(I==null)return I;var le=[],he=0;return K(I,le,"","",function(_e){return X.call(re,_e,he++)}),le}function se(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(re){(I._status===0||I._status===-1)&&(I._status=1,I._result=re)},function(re){(I._status===0||I._status===-1)&&(I._status=2,I._result=re)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var ce=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Re={map:Y,forEach:function(I,X,re){Y(I,function(){X.apply(this,arguments)},re)},count:function(I){var X=0;return Y(I,function(){X++}),X},toArray:function(I){return Y(I,function(X){return X})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ne.Activity=w,Ne.Children=Re,Ne.Component=ie,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=pe,Ne.StrictMode=r,Ne.Suspense=y,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},Ne.cache=function(I){return function(){return I.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(I,X,re){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var le=q({},I.props),he=I.key;if(X!=null)for(_e in X.key!==void 0&&(he=""+X.key),X)!A.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(le[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)le.children=re;else if(1<_e){for(var ve=Array(_e),ze=0;ze<_e;ze++)ve[ze]=arguments[ze+2];le.children=ve}return x(I.type,he,le)},Ne.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ne.createElement=function(I,X,re){var le,he={},_e=null;if(X!=null)for(le in X.key!==void 0&&(_e=""+X.key),X)A.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(he[le]=X[le]);var ve=arguments.length-2;if(ve===1)he.children=re;else if(1<ve){for(var ze=Array(ve),it=0;it<ve;it++)ze[it]=arguments[it+2];he.children=ze}if(I&&I.defaultProps)for(le in ve=I.defaultProps,ve)he[le]===void 0&&(he[le]=ve[le]);return x(I,_e,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:p,render:I}},Ne.isValidElement=O,Ne.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:se}},Ne.memo=function(I,X){return{$$typeof:g,type:I,compare:X===void 0?null:X}},Ne.startTransition=function(I){var X=R.T,re={};R.T=re;try{var le=I(),he=R.S;he!==null&&he(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(we,ce)}catch(_e){ce(_e)}finally{X!==null&&re.types!==null&&(X.types=re.types),R.T=X}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(I){return R.H.use(I)},Ne.useActionState=function(I,X,re){return R.H.useActionState(I,X,re)},Ne.useCallback=function(I,X){return R.H.useCallback(I,X)},Ne.useContext=function(I){return R.H.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I,X){return R.H.useDeferredValue(I,X)},Ne.useEffect=function(I,X){return R.H.useEffect(I,X)},Ne.useEffectEvent=function(I){return R.H.useEffectEvent(I)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(I,X,re){return R.H.useImperativeHandle(I,X,re)},Ne.useInsertionEffect=function(I,X){return R.H.useInsertionEffect(I,X)},Ne.useLayoutEffect=function(I,X){return R.H.useLayoutEffect(I,X)},Ne.useMemo=function(I,X){return R.H.useMemo(I,X)},Ne.useOptimistic=function(I,X){return R.H.useOptimistic(I,X)},Ne.useReducer=function(I,X,re){return R.H.useReducer(I,X,re)},Ne.useRef=function(I){return R.H.useRef(I)},Ne.useState=function(I){return R.H.useState(I)},Ne.useSyncExternalStore=function(I,X,re){return R.H.useSyncExternalStore(I,X,re)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.2.3",Ne}var G0;function Im(){return G0||(G0=1,Ud.exports=aS()),Ud.exports}var te=Im();const Gi=iS(te);var zd={exports:{}},Ll={},Bd={exports:{}},qd={};var Q0;function oS(){return Q0||(Q0=1,(function(s){function e(K,Y){var se=K.length;K.push(Y);e:for(;0<se;){var ce=se-1>>>1,Re=K[ce];if(0<l(Re,Y))K[ce]=Y,K[se]=Re,se=ce;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Y=K[0],se=K.pop();if(se!==Y){K[0]=se;e:for(var ce=0,Re=K.length,I=Re>>>1;ce<I;){var X=2*(ce+1)-1,re=K[X],le=X+1,he=K[le];if(0>l(re,se))le<Re&&0>l(he,re)?(K[ce]=he,K[le]=se,ce=le):(K[ce]=re,K[X]=se,ce=X);else if(le<Re&&0>l(he,se))K[ce]=he,K[le]=se,ce=le;else break e}}return Y}function l(K,Y){var se=K.sortIndex-Y.sortIndex;return se!==0?se:K.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],g=[],T=1,w=null,D=3,k=!1,B=!1,q=!1,F=!1,ie=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Me(K){for(var Y=n(g);Y!==null;){if(Y.callback===null)r(g);else if(Y.startTime<=K)r(g),Y.sortIndex=Y.expirationTime,e(y,Y);else break;Y=n(g)}}function Se(K){if(q=!1,Me(K),!B)if(n(y)!==null)B=!0,we||(we=!0,j());else{var Y=n(g);Y!==null&&et(Se,Y.startTime-K)}}var we=!1,R=-1,A=5,x=-1;function V(){return F?!0:!(s.unstable_now()-x<A)}function O(){if(F=!1,we){var K=s.unstable_now();x=K;var Y=!0;try{e:{B=!1,q&&(q=!1,fe(R),R=-1),k=!0;var se=D;try{t:{for(Me(K),w=n(y);w!==null&&!(w.expirationTime>K&&V());){var ce=w.callback;if(typeof ce=="function"){w.callback=null,D=w.priorityLevel;var Re=ce(w.expirationTime<=K);if(K=s.unstable_now(),typeof Re=="function"){w.callback=Re,Me(K),Y=!0;break t}w===n(y)&&r(y),Me(K)}else r(y);w=n(y)}if(w!==null)Y=!0;else{var I=n(g);I!==null&&et(Se,I.startTime-K),Y=!1}}break e}finally{w=null,D=se,k=!1}Y=void 0}}finally{Y?j():we=!1}}}var j;if(typeof pe=="function")j=function(){pe(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Xe=C.port2;C.port1.onmessage=O,j=function(){Xe.postMessage(null)}}else j=function(){ie(O,0)};function et(K,Y){R=ie(function(){K(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(K){switch(D){case 1:case 2:case 3:var Y=3;break;default:Y=D}var se=D;D=Y;try{return K()}finally{D=se}},s.unstable_requestPaint=function(){F=!0},s.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=D;D=K;try{return Y()}finally{D=se}},s.unstable_scheduleCallback=function(K,Y,se){var ce=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ce+se:ce):se=ce,K){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=se+Re,K={id:T++,callback:Y,priorityLevel:K,startTime:se,expirationTime:Re,sortIndex:-1},se>ce?(K.sortIndex=se,e(g,K),n(y)===null&&K===n(g)&&(q?(fe(R),R=-1):q=!0,et(Se,se-ce))):(K.sortIndex=Re,e(y,K),B||k||(B=!0,we||(we=!0,j()))),K},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(K){var Y=D;return function(){var se=D;D=Y;try{return K.apply(this,arguments)}finally{D=se}}}})(qd)),qd}var K0;function lS(){return K0||(K0=1,Bd.exports=oS()),Bd.exports}var Hd={exports:{}},an={};var Y0;function uS(){if(Y0)return an;Y0=1;var s=Im();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:g,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,T)},an.flushSync=function(y){var g=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=g,r.p=T,r.d.f()}},an.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},an.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},an.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,w=p(T,g.crossOrigin),D=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:k}):T==="script"&&r.d.X(y,{crossOrigin:w,integrity:D,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},an.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,w=p(T,g.crossOrigin);r.d.L(y,T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},an.requestFormReset=function(y){r.d.r(y)},an.unstable_batchedUpdates=function(y,g){return y(g)},an.useFormState=function(y,g,T){return d.H.useFormState(y,g,T)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var X0;function cS(){if(X0)return Hd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=uS(),Hd.exports}var $0;function hS(){if($0)return Ll;$0=1;var s=lS(),e=Im(),n=cS();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,o=f;break}if(b===o){_=!0,o=h,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,o=h;break}if(b===o){_=!0,o=f,a=h;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,D=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case ie:return"Profiler";case F:return"StrictMode";case Se:return"Suspense";case we:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case pe:return t.displayName||"Context";case fe:return(t._context.displayName||"Context")+".Consumer";case Me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:Xe(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Xe(t(i))}catch{}}return null}var et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ce=[],Re=-1;function I(t){return{current:t}}function X(t){0>Re||(t.current=ce[Re],ce[Re]=null,Re--)}function re(t,i){Re++,ce[Re]=t.current,t.current=i}var le=I(null),he=I(null),_e=I(null),ve=I(null);function ze(t,i){switch(re(_e,i),re(he,t),re(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?h0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=h0(i),t=f0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(le),re(le,t)}function it(){X(le),X(he),X(_e)}function Nn(t){t.memoizedState!==null&&re(ve,t);var i=le.current,a=f0(i,t.type);i!==a&&(re(he,t),re(le,a))}function Kn(t){he.current===t&&(X(le),X(he)),ve.current===t&&(X(ve),Ml._currentValue=se)}var Dn,pi;function Yt(t){if(Dn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Dn=i&&i[1]||"",pi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+t+pi}var Ii=!1;function On(t,i){if(!t||Ii)return"";Ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var H=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){H=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){H=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var N=_.split(`
`),z=b.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var $=`
`+N[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{Ii=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yt(a):""}function Mn(t,i){switch(t.tag){case 26:case 27:case 5:return Yt(t.type);case 16:return Yt("Lazy");case 13:return t.child!==i&&i!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return On(t.type,!1);case 11:return On(t.type.render,!1);case 1:return On(t.type,!0);case 31:return Yt("Activity");default:return""}}function ke(t){try{var i="",a=null;do i+=Mn(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Oe=Object.prototype.hasOwnProperty,Qe=s.unstable_scheduleCallback,zt=s.unstable_cancelCallback,Yn=s.unstable_shouldYield,Ps=s.unstable_requestPaint,Gt=s.unstable_now,Dt=s.unstable_getCurrentPriorityLevel,hn=s.unstable_ImmediatePriority,Pr=s.unstable_UserBlockingPriority,Ni=s.unstable_NormalPriority,Fo=s.unstable_LowPriority,Lr=s.unstable_IdlePriority,Ur=s.log,Wi=s.unstable_setDisableYieldValue,fn=null,ot=null;function dn(t){if(typeof Ur=="function"&&Wi(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(fn,t)}catch{}}var vt=Math.clz32?Math.clz32:Ls,xa=Math.log,gi=Math.LN2;function Ls(t){return t>>>=0,t===0?32:31-(xa(t)/gi|0)|0}var mn=256,Di=262144,St=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function En(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=kn(o):(_&=b,_!==0?h=kn(_):a||(a=b&~t,a!==0&&(h=kn(a))))):(b=o&~f,b!==0?h=kn(b):_!==0?h=kn(_):a||(a=o&~t,a!==0&&(h=kn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ra(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function Xn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function es(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Go(t,i,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-vt(a),Z=1<<$;b[$]=0,N[$]=-1;var H=z[$];if(H!==null)for(z[$]=null,$=0;$<H.length;$++){var Q=H[$];Q!==null&&(Q.lane&=-536870913)}a&=~Z}o!==0&&ts(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function ts(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-vt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Vn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-vt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function ns(t,i){var a=i&-i;return a=(a&42)!==0?1:is(a),(a&(t.suspendedLanes|i))!==0?0:a}function is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ia(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:V0(t.type))}function jn(t,i){var a=Y.p;try{return Y.p=t,i()}finally{Y.p=a}}var Pn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Pn,Ot="__reactProps$"+Pn,$n="__reactContainer$"+Pn,Us="__reactEvents$"+Pn,Na="__reactListeners$"+Pn,Da="__reactHandles$"+Pn,Oa="__reactResources$"+Pn,Jn="__reactMarker$"+Pn;function zs(t){delete t[wt],delete t[Ot],delete t[Us],delete t[Na],delete t[Da]}function Zn(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[$n]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=v0(t);t!==null;){if(a=t[wt])return a;t=v0(t)}return i}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[wt]||t[$n]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ln(t){var i=t[Oa];return i||(i=t[Oa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[Jn]=!0}var Bs=new Set,zr={};function Wn(t,i){ei(t,i),ei(t+"Capture",i)}function ei(t,i){for(zr[t]=i,t=0;t<i.length;t++)Bs.add(i[t])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Br={},qr={};function Ma(t){return Oe.call(qr,t)?!0:Oe.call(Br,t)?!1:qs.test(t)?qr[t]=!0:(Br[t]=!0,!1)}function Hs(t,i,a){if(Ma(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Mt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function oe(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ae(t){if(!t._valueTracker){var i=W(t)?"checked":"value";t._valueTracker=oe(t,i,""+t[i])}}function Ie(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=W(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function $e(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gn=/[\n"\\]/g;function rn(t){return t.replace(gn,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ka(t,i,a,o,h,f,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Mt(i)):t.value!==""+Mt(i)&&(t.value=""+Mt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,_,Mt(i)):a!=null?Qo(t,_,Mt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Mt(b):t.removeAttribute("name")}function Eu(t,i,a,o,h,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){ae(t);return}a=a!=null?""+Mt(a):"",i=i!=null?""+Mt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ae(t)}function Qo(t,i,a){i==="number"&&$e(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fs(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Mt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function bu(t,i,a){if(i!=null&&(i=""+Mt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Mt(a):""}function Gs(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(et(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Mt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),ae(t)}function Sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Tu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Ko(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Ko(t,f,i[f])}function Va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return Qs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _i(){}var Xo=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ks=null,Oi=null;function Hr(t){var i=Tn(t);if(i&&(t=i.stateNode)){var a=t[Ot]||null;e:switch(t=i.stateNode,i.type){case"input":if(ka(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Ot]||null;if(!h)throw Error(r(90));ka(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Ie(o)}break e;case"textarea":bu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Fs(t,!!a.multiple,i,!1)}}}var Pa=!1;function Ys(t,i,a){if(Pa)return t(i,a);Pa=!0;try{var o=t(i);return o}finally{if(Pa=!1,(Ks!==null||Oi!==null)&&(gc(),Ks&&(i=Ks,t=Oi,Oi=Ks=null,Hr(i),t)))for(i=0;i<t.length;i++)Hr(t[i])}}function vi(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ot]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(ni)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Fr=!1}var Mi=null,$o=null,Gr=null;function Jo(){if(Gr)return Gr;var t,i=$o,a=i.length,o,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Gr=h.slice(t,1<o?1-o:void 0)}function Qr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function Ei(){return!1}function Xt(t){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ss:Ei,this.isPropagationStopped=Ei,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),i}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Xt(rs),Xs=w({},rs,{view:0,detail:0}),Zo=Xt(Xs),$s,La,Vi,Ua=w({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?($s=t.screenX-Vi.screenX,La=t.screenY-Vi.screenY):La=$s=0,Vi=t),$s)},movementY:function(t){return"movementY"in t?t.movementY:La}}),Wo=Xt(Ua),Kr=w({},Ua,{dataTransfer:0}),wu=Xt(Kr),Au=w({},Xs,{relatedTarget:0}),Yr=Xt(Au),el=w({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Xt(el),za=w({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=Xt(za),Cu=w({},rs,{data:0}),ji=Xt(Cu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function Js(){return Ou}var yn=w({},Xs,{key:function(t){if(t.key){var i=Iu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(t){return t.type==="keypress"?Qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=Xt(yn),ku=w({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Xt(ku),c=w({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),m=Xt(c),v=w({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Xt(v),L=w({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Xt(L),ue=w({},rs,{newState:0,oldState:0}),Ve=Xt(ue),Rt=[9,13,27,32],tt=ni&&"CompositionEvent"in window,yt=null;ni&&"documentMode"in document&&(yt=document.documentMode);var ii=ni&&"TextEvent"in window&&!yt,Pi=ni&&(!tt||yt&&8<yt&&11>=yt),bi=" ",Ti=!1;function Xr(t,i){switch(t){case"keyup":return Rt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function Rb(t,i){switch(t){case"compositionend":return Ba(i);case"keypress":return i.which!==32?null:(Ti=!0,bi);case"textInput":return t=i.data,t===bi&&Ti?null:t;default:return null}}function Cb(t,i){if(qa)return t==="compositionend"||!tt&&Xr(t,i)?(t=Jo(),Gr=$o=Mi=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pi&&i.locale!=="ko"?null:i.data;default:return null}}var Ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ib[t.type]:i==="textarea"}function Sp(t,i,a,o){Ks?Oi?Oi.push(o):Oi=[o]:Ks=o,i=Sc(i,"onChange"),0<i.length&&(a=new ki("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var tl=null,nl=null;function Nb(t){r0(t,0)}function Vu(t){var i=pn(t);if(Ie(i))return t}function wp(t,i){if(t==="change")return i}var Ap=!1;if(ni){var Fh;if(ni){var Gh="oninput"in document;if(!Gh){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),Gh=typeof xp.oninput=="function"}Fh=Gh}else Fh=!1;Ap=Fh&&(!document.documentMode||9<document.documentMode)}function Rp(){tl&&(tl.detachEvent("onpropertychange",Cp),nl=tl=null)}function Cp(t){if(t.propertyName==="value"&&Vu(nl)){var i=[];Sp(i,nl,t,ti(t)),Ys(Nb,i)}}function Db(t,i,a){t==="focusin"?(Rp(),tl=i,nl=a,tl.attachEvent("onpropertychange",Cp)):t==="focusout"&&Rp()}function Ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(nl)}function Mb(t,i){if(t==="click")return Vu(i)}function kb(t,i){if(t==="input"||t==="change")return Vu(i)}function Vb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Un=typeof Object.is=="function"?Object.is:Vb;function il(t,i){if(Un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Oe.call(i,h)||!Un(t[h],i[h]))return!1}return!0}function Ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Np(t,i){var a=Ip(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ip(a)}}function Dp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Dp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=$e(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=$e(t.document)}return i}function Qh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var jb=ni&&"documentMode"in document&&11>=document.documentMode,Ha=null,Kh=null,sl=null,Yh=!1;function Mp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Ha==null||Ha!==$e(o)||(o=Ha,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),sl&&il(sl,o)||(sl=o,o=Sc(Kh,"onSelect"),0<o.length&&(i=new ki("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ha)))}function $r(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Fa={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Xh={},kp={};ni&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Jr(t){if(Xh[t])return Xh[t];if(!Fa[t])return t;var i=Fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in kp)return Xh[t]=i[a];return t}var Vp=Jr("animationend"),jp=Jr("animationiteration"),Pp=Jr("animationstart"),Pb=Jr("transitionrun"),Lb=Jr("transitionstart"),Ub=Jr("transitioncancel"),Lp=Jr("transitionend"),Up=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Si(t,i){Up.set(t,i),Wn(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],Ga=0,Jh=0;function Pu(){for(var t=Ga,i=Jh=Ga=0;i<t;){var a=si[i];si[i++]=null;var o=si[i];si[i++]=null;var h=si[i];si[i++]=null;var f=si[i];if(si[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&zp(a,h,f)}}function Lu(t,i,a,o){si[Ga++]=t,si[Ga++]=i,si[Ga++]=a,si[Ga++]=o,Jh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zh(t,i,a,o){return Lu(t,i,a,o),Uu(t)}function Zr(t,i){return Lu(t,null,null,i),Uu(t)}function zp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-vt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Uu(t){if(50<xl)throw xl=0,ld=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qa={};function zb(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,a,o){return new zb(t,i,a,o)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function os(t,i){var a=t.alternate;return a===null?(a=zn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function zu(t,i,a,o,h,f){var _=0;if(o=t,typeof t=="function")Wh(t)&&(_=1);else if(typeof t=="string")_=GT(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=zn(31,a,i,h),t.elementType=x,t.lanes=f,t;case q:return Wr(a.children,h,f,i);case F:_=8,h|=24;break;case ie:return t=zn(12,a,i,h|2),t.elementType=ie,t.lanes=f,t;case Se:return t=zn(13,a,i,h),t.elementType=Se,t.lanes=f,t;case we:return t=zn(19,a,i,h),t.elementType=we,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:_=10;break e;case fe:_=9;break e;case Me:_=11;break e;case R:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=zn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Wr(t,i,a,o){return t=zn(7,t,o,i),t.lanes=a,t}function ef(t,i,a){return t=zn(6,t,null,i),t.lanes=a,t}function qp(t){var i=zn(18,null,null,0);return i.stateNode=t,i}function tf(t,i,a){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Hp=new WeakMap;function ri(t,i){if(typeof t=="object"&&t!==null){var a=Hp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ke(i)},Hp.set(t,i),i)}return{value:t,source:i,stack:ke(i)}}var Ka=[],Ya=0,Bu=null,rl=0,ai=[],oi=0,Zs=null,Li=1,Ui="";function ls(t,i){Ka[Ya++]=rl,Ka[Ya++]=Bu,Bu=t,rl=i}function Fp(t,i,a){ai[oi++]=Li,ai[oi++]=Ui,ai[oi++]=Zs,Zs=t;var o=Li;t=Ui;var h=32-vt(o)-1;o&=~(1<<h),a+=1;var f=32-vt(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Li=1<<32-vt(i)+h|a<<h|o,Ui=f+t}else Li=1<<f|a<<h|o,Ui=t}function nf(t){t.return!==null&&(ls(t,1),Fp(t,1,0))}function sf(t){for(;t===Bu;)Bu=Ka[--Ya],Ka[Ya]=null,rl=Ka[--Ya],Ka[Ya]=null;for(;t===Zs;)Zs=ai[--oi],ai[oi]=null,Ui=ai[--oi],ai[oi]=null,Li=ai[--oi],ai[oi]=null}function Gp(t,i){ai[oi++]=Li,ai[oi++]=Ui,ai[oi++]=Zs,Li=i.id,Ui=i.overflow,Zs=t}var $t=null,dt=null,Ke=!1,Ws=null,li=!1,rf=Error(r(519));function er(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(ri(i,t)),rf}function Qp(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[wt]=t,i[Ot]=o,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Ue(Cl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Eu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Gs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||u0(i.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),o.onScroll!=null&&Ue("scroll",i),o.onScrollEnd!=null&&Ue("scrollend",i),o.onClick!=null&&(i.onclick=_i),i=!0):i=!1,i||er(t,!0)}function Kp(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:$t=$t.return}}function Xa(t){if(t!==$t)return!1;if(!Ke)return Kp(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sd(t.type,t.memoizedProps)),a=!a),a&&dt&&er(t),Kp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=_0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=_0(t)}else i===27?(i=dt,mr(t.type)?(t=Cd,Cd=null,dt=t):dt=i):dt=$t?ci(t.stateNode.nextSibling):null;return!0}function ea(){dt=$t=null,Ke=!1}function af(){var t=Ws;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Ws=null),t}function al(t){Ws===null?Ws=[t]:Ws.push(t)}var of=I(null),ta=null,us=null;function tr(t,i,a){re(of,i._currentValue),i._currentValue=a}function cs(t){t._currentValue=of.current,X(of)}function lf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function uf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),lf(f.return,a,t),o||(_=null);break e}f=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),lf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function $a(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=h.type;Un(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===ve.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&uf(i,t,a,o),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ta=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Yp(ta,t)}function Hu(t,i){return ta===null&&na(t),Yp(t,i)}function Yp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},us===null){if(t===null)throw Error(r(308));us=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else us=us.next=i;return a}var Bb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},qb=s.unstable_scheduleCallback,Hb=s.unstable_NormalPriority,kt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new Bb,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&qb(Hb,function(){t.controller.abort()})}var ll=null,hf=0,Ja=0,Za=null;function Fb(t,i){if(ll===null){var a=ll=[];hf=0,Ja=md(),Za={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,i.then(Xp,Xp),i}function Xp(){if(--hf===0&&ll!==null){Za!==null&&(Za.status="fulfilled");var t=ll;ll=null,Ja=0,Za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Gb(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $p=K.S;K.S=function(t,i){My=Gt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Fb(t,i),$p!==null&&$p(t,i)};var ia=I(null);function ff(){var t=ia.current;return t!==null?t:ft.pooledCache}function Fu(t,i){i===null?re(ia,ia.current):re(ia,i.pool)}function Jp(){var t=ff();return t===null?null:{parent:kt._currentValue,pool:t}}var Wa=Error(r(460)),df=Error(r(474)),Gu=Error(r(542)),Qu={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(_i,_i),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,tg(t),t;default:if(typeof i.status=="string")i.then(_i,_i);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,tg(t),t}throw ra=i,Wa}}function sa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,Wa):a}}var ra=null;function eg(){if(ra===null)throw Error(r(459));var t=ra;return ra=null,t}function tg(t){if(t===Wa||t===Gu)throw Error(r(483))}var eo=null,ul=0;function Ku(t){var i=ul;return ul+=1,eo===null&&(eo=[]),Wp(eo,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Yu(t,i){throw i.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ng(t){function i(P,M){if(t){var U=P.deletions;U===null?(P.deletions=[M],P.flags|=16):U.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=os(P,M),P.index=0,P.sibling=null,P}function f(P,M,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<M?(P.flags|=67108866,M):U):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,M,U,J){return M===null||M.tag!==6?(M=ef(U,P.mode,J),M.return=P,M):(M=h(M,U),M.return=P,M)}function N(P,M,U,J){var Ee=U.type;return Ee===q?$(P,M,U.props.children,J,U.key):M!==null&&(M.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&sa(Ee)===M.type)?(M=h(M,U.props),cl(M,U),M.return=P,M):(M=zu(U.type,U.key,U.props,null,P.mode,J),cl(M,U),M.return=P,M)}function z(P,M,U,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=tf(U,P.mode,J),M.return=P,M):(M=h(M,U.children||[]),M.return=P,M)}function $(P,M,U,J,Ee){return M===null||M.tag!==7?(M=Wr(U,P.mode,J,Ee),M.return=P,M):(M=h(M,U),M.return=P,M)}function Z(P,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ef(""+M,P.mode,U),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return U=zu(M.type,M.key,M.props,null,P.mode,U),cl(U,M),U.return=P,U;case B:return M=tf(M,P.mode,U),M.return=P,M;case A:return M=sa(M),Z(P,M,U)}if(et(M)||j(M))return M=Wr(M,P.mode,U,null),M.return=P,M;if(typeof M.then=="function")return Z(P,Ku(M),U);if(M.$$typeof===pe)return Z(P,Hu(P,M),U);Yu(P,M)}return null}function H(P,M,U,J){var Ee=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Ee!==null?null:b(P,M,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return U.key===Ee?N(P,M,U,J):null;case B:return U.key===Ee?z(P,M,U,J):null;case A:return U=sa(U),H(P,M,U,J)}if(et(U)||j(U))return Ee!==null?null:$(P,M,U,J,null);if(typeof U.then=="function")return H(P,M,Ku(U),J);if(U.$$typeof===pe)return H(P,M,Hu(P,U),J);Yu(P,U)}return null}function Q(P,M,U,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(U)||null,b(M,P,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return P=P.get(J.key===null?U:J.key)||null,N(M,P,J,Ee);case B:return P=P.get(J.key===null?U:J.key)||null,z(M,P,J,Ee);case A:return J=sa(J),Q(P,M,U,J,Ee)}if(et(J)||j(J))return P=P.get(U)||null,$(M,P,J,Ee,null);if(typeof J.then=="function")return Q(P,M,U,Ku(J),Ee);if(J.$$typeof===pe)return Q(P,M,U,Hu(M,J),Ee);Yu(M,J)}return null}function me(P,M,U,J){for(var Ee=null,Je=null,ge=M,Pe=M=0,qe=null;ge!==null&&Pe<U.length;Pe++){ge.index>Pe?(qe=ge,ge=null):qe=ge.sibling;var Ze=H(P,ge,U[Pe],J);if(Ze===null){ge===null&&(ge=qe);break}t&&ge&&Ze.alternate===null&&i(P,ge),M=f(Ze,M,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze,ge=qe}if(Pe===U.length)return a(P,ge),Ke&&ls(P,Pe),Ee;if(ge===null){for(;Pe<U.length;Pe++)ge=Z(P,U[Pe],J),ge!==null&&(M=f(ge,M,Pe),Je===null?Ee=ge:Je.sibling=ge,Je=ge);return Ke&&ls(P,Pe),Ee}for(ge=o(ge);Pe<U.length;Pe++)qe=Q(ge,P,Pe,U[Pe],J),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?Pe:qe.key),M=f(qe,M,Pe),Je===null?Ee=qe:Je.sibling=qe,Je=qe);return t&&ge.forEach(function(vr){return i(P,vr)}),Ke&&ls(P,Pe),Ee}function Te(P,M,U,J){if(U==null)throw Error(r(151));for(var Ee=null,Je=null,ge=M,Pe=M=0,qe=null,Ze=U.next();ge!==null&&!Ze.done;Pe++,Ze=U.next()){ge.index>Pe?(qe=ge,ge=null):qe=ge.sibling;var vr=H(P,ge,Ze.value,J);if(vr===null){ge===null&&(ge=qe);break}t&&ge&&vr.alternate===null&&i(P,ge),M=f(vr,M,Pe),Je===null?Ee=vr:Je.sibling=vr,Je=vr,ge=qe}if(Ze.done)return a(P,ge),Ke&&ls(P,Pe),Ee;if(ge===null){for(;!Ze.done;Pe++,Ze=U.next())Ze=Z(P,Ze.value,J),Ze!==null&&(M=f(Ze,M,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze);return Ke&&ls(P,Pe),Ee}for(ge=o(ge);!Ze.done;Pe++,Ze=U.next())Ze=Q(ge,P,Pe,Ze.value,J),Ze!==null&&(t&&Ze.alternate!==null&&ge.delete(Ze.key===null?Pe:Ze.key),M=f(Ze,M,Pe),Je===null?Ee=Ze:Je.sibling=Ze,Je=Ze);return t&&ge.forEach(function(nS){return i(P,nS)}),Ke&&ls(P,Pe),Ee}function ht(P,M,U,J){if(typeof U=="object"&&U!==null&&U.type===q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case k:e:{for(var Ee=U.key;M!==null;){if(M.key===Ee){if(Ee=U.type,Ee===q){if(M.tag===7){a(P,M.sibling),J=h(M,U.props.children),J.return=P,P=J;break e}}else if(M.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&sa(Ee)===M.type){a(P,M.sibling),J=h(M,U.props),cl(J,U),J.return=P,P=J;break e}a(P,M);break}else i(P,M);M=M.sibling}U.type===q?(J=Wr(U.props.children,P.mode,J,U.key),J.return=P,P=J):(J=zu(U.type,U.key,U.props,null,P.mode,J),cl(J,U),J.return=P,P=J)}return _(P);case B:e:{for(Ee=U.key;M!==null;){if(M.key===Ee)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(P,M.sibling),J=h(M,U.children||[]),J.return=P,P=J;break e}else{a(P,M);break}else i(P,M);M=M.sibling}J=tf(U,P.mode,J),J.return=P,P=J}return _(P);case A:return U=sa(U),ht(P,M,U,J)}if(et(U))return me(P,M,U,J);if(j(U)){if(Ee=j(U),typeof Ee!="function")throw Error(r(150));return U=Ee.call(U),Te(P,M,U,J)}if(typeof U.then=="function")return ht(P,M,Ku(U),J);if(U.$$typeof===pe)return ht(P,M,Hu(P,U),J);Yu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(P,M.sibling),J=h(M,U),J.return=P,P=J):(a(P,M),J=ef(U,P.mode,J),J.return=P,P=J),_(P)):a(P,M)}return function(P,M,U,J){try{ul=0;var Ee=ht(P,M,U,J);return eo=null,Ee}catch(ge){if(ge===Wa||ge===Gu)throw ge;var Je=zn(29,ge,null,P.mode);return Je.lanes=J,Je.return=P,Je}finally{}}}var aa=ng(!0),ig=ng(!1),nr=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Uu(t),zp(t,null,a),i}return Lu(t,o,i,a),Uu(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Vn(t,a)}}function gf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var yf=!1;function fl(){if(yf){var t=Za;if(t!==null)throw t}}function dl(t,i,a,o){yf=!1;var h=t.updateQueue;nr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,z=N.next;N.next=null,_===null?f=z:_.next=z,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=z:b.next=z,$.lastBaseUpdate=N))}if(f!==null){var Z=h.baseState;_=0,$=z=N=null,b=f;do{var H=b.lane&-536870913,Q=H!==b.lane;if(Q?(Be&H)===H:(o&H)===H){H!==0&&H===Ja&&(yf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=t,Te=b;H=i;var ht=a;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){Z=me.call(ht,Z,H);break e}Z=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,H=typeof me=="function"?me.call(ht,Z,H):me,H==null)break e;Z=w({},Z,H);break e;case 2:nr=!0}}H=b.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(z=$=Q,N=Z):$=$.next=Q,_|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),ur|=_,t.lanes=_,t.memoizedState=Z}}function sg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function rg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sg(a[t],i)}var to=I(null),Xu=I(0);function ag(t,i){t=vs,re(Xu,t),re(to,i),vs=t|i.baseLanes}function _f(){re(Xu,vs),re(to,to.current)}function vf(){vs=Xu.current,X(to),X(Xu)}var Bn=I(null),ui=null;function rr(t){var i=t.alternate;re(Ct,Ct.current&1),re(Bn,t),ui===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(ui=t)}function Ef(t){re(Ct,Ct.current),re(Bn,t),ui===null&&(ui=t)}function og(t){t.tag===22?(re(Ct,Ct.current),re(Bn,t),ui===null&&(ui=t)):ar()}function ar(){re(Ct,Ct.current),re(Bn,Bn.current)}function qn(t){X(Bn),ui===t&&(ui=null),X(Ct)}var Ct=I(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xd(a)||Rd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var hs=0,je=null,ut=null,Vt=null,Ju=!1,no=!1,oa=!1,Zu=0,ml=0,io=null,Qb=0;function At(){throw Error(r(321))}function bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Un(t[a],i[a]))return!1;return!0}function Tf(t,i,a,o,h,f){return hs=f,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Fg:Pf,oa=!1,f=a(o,h),oa=!1,no&&(f=ug(i,a,o,h)),lg(t),f}function lg(t){K.H=yl;var i=ut!==null&&ut.next!==null;if(hs=0,Vt=ut=je=null,Ju=!1,ml=0,io=null,i)throw Error(r(300));t===null||jt||(t=t.dependencies,t!==null&&qu(t)&&(jt=!0))}function ug(t,i,a,o){je=t;var h=0;do{if(no&&(io=null),ml=0,no=!1,25<=h)throw Error(r(301));if(h+=1,Vt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=Gg,f=i(a,o)}while(no);return f}function Kb(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(je.flags|=1024),i}function Sf(){var t=Zu!==0;return Zu=0,t}function wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Af(t){if(Ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ju=!1}hs=0,Vt=ut=je=null,no=!1,ml=Zu=0,io=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function It(){if(ut===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var i=Vt===null?je.memoizedState:Vt.next;if(i!==null)Vt=i,ut=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Vt===null?je.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,io===null&&(io=[]),t=Wp(io,t,i),i=je,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Fg:Pf),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===pe)return Jt(t)}throw Error(r(438,String(t)))}function xf(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wu(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function fs(t,i){return typeof i=="function"?i(t):i}function tc(t){var i=It();return Rf(i,ut,t)}function Rf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var b=_=null,N=null,z=i,$=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Be&Z)===Z:(hs&Z)===Z){var H=z.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ja&&($=!0);else if((hs&H)===H){z=z.next,H===Ja&&($=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=Z,_=f):N=N.next=Z,je.lanes|=H,ur|=H;Z=z.action,oa&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else H={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=H,_=f):N=N.next=H,je.lanes|=Z,ur|=Z;z=z.next}while(z!==null&&z!==i);if(N===null?_=f:N.next=b,!Un(f,t.memoizedState)&&(jt=!0,$&&(a=Za,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Cf(t){var i=It(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Un(f,i.memoizedState)||(jt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function cg(t,i,a){var o=je,h=It(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Un((ut||h).memoizedState,a);if(_&&(h.memoizedState=a,jt=!0),h=h.queue,Df(dg.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,so(9,{destroy:void 0},fg.bind(null,o,h,a,i),null),ft===null)throw Error(r(349));f||(hs&127)!==0||hg(o,i,a)}return a}function hg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=Wu(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function fg(t,i,a,o){i.value=a,i.getSnapshot=o,mg(i)&&pg(t)}function dg(t,i,a){return a(function(){mg(i)&&pg(t)})}function mg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Un(t,a)}catch{return!0}}function pg(t){var i=Zr(t,2);i!==null&&Cn(i,t,2)}function If(t){var i=_n();if(typeof t=="function"){var a=t;if(t=a(),oa){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},i}function gg(t,i,a,o){return t.baseState=a,Rf(t,ut,typeof o=="function"?o:fs)}function Yb(t,i,a,o,h){if(sc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};K.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,yg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function yg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=K.T,_={};K.T=_;try{var b=a(h,o),N=K.S;N!==null&&N(_,b),_g(t,i,b)}catch(z){Nf(t,i,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),K.T=f}}else try{f=a(h,o),_g(t,i,f)}catch(z){Nf(t,i,z)}}function _g(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){vg(t,i,o)},function(o){return Nf(t,i,o)}):vg(t,i,a)}function vg(t,i,a){i.status="fulfilled",i.value=a,Eg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,yg(t,a)))}function Nf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Eg(i),i=i.next;while(i!==o)}t.action=null}function Eg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function bg(t,i){return i}function Tg(t,i){if(Ke){var a=ft.formState;if(a!==null){e:{var o=je;if(Ke){if(dt){t:{for(var h=dt,f=li;h.nodeType!==8;){if(!f){h=null;break t}if(h=ci(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=ci(h.nextSibling),o=h.data==="F!";break e}}er(o)}o=!1}o&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:i},a.queue=o,a=Bg.bind(null,je,o),o.dispatch=a,o=If(!1),f=jf.bind(null,je,!1,o.queue),o=_n(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=Yb.bind(null,je,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Sg(t){var i=It();return wg(i,ut,t)}function wg(t,i,a){if(i=Rf(t,i,bg)[0],t=tc(fs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=pl(i)}catch(_){throw _===Wa?Gu:_}else o=i;i=It();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,so(9,{destroy:void 0},Xb.bind(null,h,a),null)),[o,f,t]}function Xb(t,i){t.action=i}function Ag(t){var i=It(),a=ut;if(a!==null)return wg(i,a,t);It(),i=i.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function so(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=je.updateQueue,i===null&&(i=Wu(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function xg(){return It().memoizedState}function nc(t,i,a,o){var h=_n();je.flags|=t,h.memoizedState=so(1|i,{destroy:void 0},a,o===void 0?null:o)}function ic(t,i,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;ut!==null&&o!==null&&bf(o,ut.memoizedState.deps)?h.memoizedState=so(i,f,a,o):(je.flags|=t,h.memoizedState=so(1|i,f,a,o))}function Rg(t,i){nc(8390656,8,t,i)}function Df(t,i){ic(2048,8,t,i)}function $b(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=Wu(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Cg(t){var i=It().memoizedState;return $b({ref:i,nextImpl:t}),function(){if((nt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ig(t,i){return ic(4,2,t,i)}function Ng(t,i){return ic(4,4,t,i)}function Dg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Og(t,i,a){a=a!=null?a.concat([t]):null,ic(4,4,Dg.bind(null,i,t),a)}function Of(){}function Mg(t,i){var a=It();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&bf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function kg(t,i){var a=It();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&bf(i,o[1]))return o[0];if(o=t(),oa){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[o,i],o}function Mf(t,i,a){return a===void 0||(hs&1073741824)!==0&&(Be&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Vy(),je.lanes|=t,ur|=t,a)}function Vg(t,i,a,o){return Un(a,i)?a:to.current!==null?(t=Mf(t,a,o),Un(t,i)||(jt=!0),t):(hs&42)===0||(hs&1073741824)!==0&&(Be&261930)===0?(jt=!0,t.memoizedState=a):(t=Vy(),je.lanes|=t,ur|=t,i)}function jg(t,i,a,o,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var _=K.T,b={};K.T=b,jf(t,!1,i,a);try{var N=h(),z=K.S;if(z!==null&&z(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=Gb(N,o);gl(t,i,$,Gn(t))}else gl(t,i,o,Gn(t))}catch(Z){gl(t,i,{then:function(){},status:"rejected",reason:Z},Gn())}finally{Y.p=f,_!==null&&b.types!==null&&(_.types=b.types),K.T=_}}function Jb(){}function kf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=Pg(t).queue;jg(t,h,i,se,a===null?Jb:function(){return Lg(t),a(o)})}function Pg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Lg(t){var i=Pg(t);i.next===null&&(i=t.alternate.memoizedState),gl(t,i.next.queue,{},Gn())}function Vf(){return Jt(Ml)}function Ug(){return It().memoizedState}function zg(){return It().memoizedState}function Zb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Gn();t=ir(a);var o=sr(i,t,a);o!==null&&(Cn(o,i,a),hl(o,i,a)),i={cache:cf()},t.payload=i;return}i=i.return}}function Wb(t,i,a){var o=Gn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?qg(i,a):(a=Zh(t,i,a,o),a!==null&&(Cn(a,t,o),Hg(a,i,o)))}function Bg(t,i,a){var o=Gn();gl(t,i,a,o)}function gl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))qg(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,b=f(_,a);if(h.hasEagerState=!0,h.eagerState=b,Un(b,_))return Lu(t,i,h,0),ft===null&&Pu(),!1}catch{}finally{}if(a=Zh(t,i,h,o),a!==null)return Cn(a,t,o),Hg(a,i,o),!0}return!1}function jf(t,i,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(r(479))}else i=Zh(t,a,o,2),i!==null&&Cn(i,t,2)}function sc(t){var i=t.alternate;return t===je||i!==null&&i===je}function qg(t,i){no=Ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Hg(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Vn(t,a)}}var yl={readContext:Jt,use:ec,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};yl.useEffectEvent=At;var Fg={readContext:Jt,use:ec,useCallback:function(t,i){return _n().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:Rg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,nc(4194308,4,Dg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return nc(4194308,4,t,i)},useInsertionEffect:function(t,i){nc(4,2,t,i)},useMemo:function(t,i){var a=_n();i=i===void 0?null:i;var o=t();if(oa){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=_n();if(a!==void 0){var h=a(i);if(oa){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Wb.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var i=_n();return t={current:t},i.memoizedState=t},useState:function(t){t=If(t);var i=t.queue,a=Bg.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(t,i){var a=_n();return Mf(a,t,i)},useTransition:function(){var t=If(!1);return t=jg.bind(null,je,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=je,h=_n();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ft===null)throw Error(r(349));(Be&127)!==0||hg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Rg(dg.bind(null,o,f,t),[t]),o.flags|=2048,so(9,{destroy:void 0},fg.bind(null,o,f,a,i),null),a},useId:function(){var t=_n(),i=ft.identifierPrefix;if(Ke){var a=Ui,o=Li;a=(o&~(1<<32-vt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Qb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Vf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var i=_n();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=jf.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:xf,useCacheRefresh:function(){return _n().memoizedState=Zb.bind(null,je)},useEffectEvent:function(t){var i=_n(),a={impl:t};return i.memoizedState=a,function(){if((nt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:Jt,use:ec,useCallback:Mg,useContext:Jt,useEffect:Df,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:kg,useReducer:tc,useRef:xg,useState:function(){return tc(fs)},useDebugValue:Of,useDeferredValue:function(t,i){var a=It();return Vg(a,ut.memoizedState,t,i)},useTransition:function(){var t=tc(fs)[0],i=It().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:cg,useId:Ug,useHostTransitionStatus:Vf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,i){var a=It();return gg(a,ut,t,i)},useMemoCache:xf,useCacheRefresh:zg};Pf.useEffectEvent=Cg;var Gg={readContext:Jt,use:ec,useCallback:Mg,useContext:Jt,useEffect:Df,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:kg,useReducer:Cf,useRef:xg,useState:function(){return Cf(fs)},useDebugValue:Of,useDeferredValue:function(t,i){var a=It();return ut===null?Mf(a,t,i):Vg(a,ut.memoizedState,t,i)},useTransition:function(){var t=Cf(fs)[0],i=It().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:cg,useId:Ug,useHostTransitionStatus:Vf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,i){var a=It();return ut!==null?gg(a,ut,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:zg};Gg.useEffectEvent=Cg;function Lf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Gn(),h=ir(o);h.payload=i,a!=null&&(h.callback=a),i=sr(t,h,o),i!==null&&(Cn(i,t,o),hl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Gn(),h=ir(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=sr(t,h,o),i!==null&&(Cn(i,t,o),hl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Gn(),o=ir(a);o.tag=2,i!=null&&(o.callback=i),i=sr(t,o,a),i!==null&&(Cn(i,t,a),hl(i,t,a))}};function Qg(t,i,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,o)||!il(h,f):!0}function Kg(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Uf.enqueueReplaceState(i,i.state,null)}function la(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Yg(t){ju(t)}function Xg(t){console.error(t)}function $g(t){ju(t)}function rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Jg(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,i,a){return a=ir(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,i)},a}function Zg(t){return t=ir(t),t.tag=3,t}function Wg(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Jg(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Jg(i,a,o),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function eT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&$a(i,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?yc():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),hd(t,o,h)),!1;case 22:return a.flags|=65536,o===Qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),hd(t,o,h)),!1}throw Error(r(435,a.tag))}return hd(t,o,h),yc(),!1}if(Ke)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==rf&&(t=Error(r(422),{cause:o}),al(ri(t,a)))):(o!==rf&&(i=Error(r(423),{cause:o}),al(ri(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ri(o,a),h=zf(t.stateNode,o,h),gf(t,h),xt!==4&&(xt=2)),!1;var f=Error(r(520),{cause:o});if(f=ri(f,a),Al===null?Al=[f]:Al.push(f),xt!==4&&(xt=2),i===null)return!0;o=ri(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,o,t),gf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zg(h),Wg(h,t,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(r(461)),jt=!1;function Zt(t,i,a,o){i.child=t===null?ig(i,null,a,o):aa(i,t.child,a,o)}function ey(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var b in o)b!=="ref"&&(_[b]=o[b])}else _=o;return na(i),o=Tf(t,i,a,_,f,h),b=Sf(),t!==null&&!jt?(wf(t,i,h),ds(t,i,h)):(Ke&&b&&nf(i),i.flags|=1,Zt(t,i,o,h),i.child)}function ty(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,ny(t,i,f,o,h)):(t=zu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Xf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,o)&&t.ref===i.ref)return ds(t,i,h)}return i.flags|=1,t=os(f,o),t.ref=i.ref,t.return=i,i.child=t}function ny(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(il(f,o)&&t.ref===i.ref)if(jt=!1,i.pendingProps=o=f,Xf(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,ds(t,i,h)}return qf(t,i,a,o,h)}function iy(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return sy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,f!==null?f.cachePool:null),f!==null?ag(i,f):_f(),og(i);else return o=i.lanes=536870912,sy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Fu(i,f.cachePool),ag(i,f),ar(),i.memoizedState=null):(t!==null&&Fu(i,null),_f(),ar());return Zt(t,i,h,a),i.child}function _l(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function sy(t,i,a,o,h){var f=ff();return f=f===null?null:{parent:kt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Fu(i,null),_f(),og(i),t!==null&&$a(t,i,o,!0),i.childLanes=h,null}function ac(t,i){return i=lc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function ry(t,i,a){return aa(i,t.child,null,a),t=ac(i,i.pendingProps),t.flags|=2,qn(i),i.memoizedState=null,t}function tT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=ac(i,o),i.lanes=536870912,_l(null,t);if(Ef(i),(t=dt)?(t=y0(t,li),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Zs!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=qp(t),a.return=i,i.child=a,$t=i,dt=null)):t=null,t===null)throw er(i);return i.lanes=536870912,null}return ac(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Ef(i),h)if(i.flags&256)i.flags&=-257,i=ry(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(jt||$a(t,i,a,!1),h=(a&t.childLanes)!==0,jt||h){if(o=ft,o!==null&&(_=ns(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Zr(t,_),Cn(o,t,_),Bf;yc(),i=ry(t,i,a)}else t=f.treeContext,dt=ci(_.nextSibling),$t=i,Ke=!0,Ws=null,li=!1,t!==null&&Gp(i,t),i=ac(i,o),i.flags|=4096;return i}return t=os(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function qf(t,i,a,o,h){return na(i),a=Tf(t,i,a,o,void 0,h),o=Sf(),t!==null&&!jt?(wf(t,i,h),ds(t,i,h)):(Ke&&o&&nf(i),i.flags|=1,Zt(t,i,a,h),i.child)}function ay(t,i,a,o,h,f){return na(i),i.updateQueue=null,a=ug(i,o,a,h),lg(t),o=Sf(),t!==null&&!jt?(wf(t,i,f),ds(t,i,f)):(Ke&&o&&nf(i),i.flags|=1,Zt(t,i,a,f),i.child)}function oy(t,i,a,o,h){if(na(i),i.stateNode===null){var f=Qa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Jt(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},mf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Jt(_):Qa,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Uf.enqueueReplaceState(f,f.state,null),dl(i,o,f,h),fl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,N=la(a,b);f.props=N;var z=f.context,$=a.contextType;_=Qa,typeof $=="object"&&$!==null&&(_=Jt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==_)&&Kg(i,f,o,_),nr=!1;var H=i.memoizedState;f.state=H,dl(i,o,f,h),fl(),z=i.memoizedState,b||H!==z||nr?(typeof Z=="function"&&(Lf(i,a,Z,o),z=i.memoizedState),(N=nr||Qg(i,a,N,o,H,z,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),f.props=o,f.state=z,f.context=_,o=N):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,pf(t,i),_=i.memoizedProps,$=la(a,_),f.props=$,Z=i.pendingProps,H=f.context,z=a.contextType,N=Qa,typeof z=="object"&&z!==null&&(N=Jt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Z||H!==N)&&Kg(i,f,o,N),nr=!1,H=i.memoizedState,f.state=H,dl(i,o,f,h),fl();var Q=i.memoizedState;_!==Z||H!==Q||nr||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof b=="function"&&(Lf(i,a,b,o),Q=i.memoizedState),($=nr||Qg(i,a,$,o,H,Q,N)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Q,N)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Q),f.props=o,f.state=Q,f.context=N,o=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,oc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=aa(i,t.child,null,h),i.child=aa(i,null,a,h)):Zt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=ds(t,i,h),t}function ly(t,i,a,o){return ea(),i.flags|=256,Zt(t,i,a,o),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:Jp()}}function Gf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fn),t}function uy(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(h?rr(i):ar(),(t=dt)?(t=y0(t,li),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Zs!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=qp(t),a.return=i,i.child=a,$t=i,dt=null)):t=null,t===null)throw er(i);return Rd(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(ar(),h=i.mode,b=lc({mode:"hidden",children:b},h),o=Wr(o,h,a,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=Ff(a),o.childLanes=Gf(t,_,a),i.memoizedState=Hf,_l(null,o)):(rr(i),Qf(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)i.flags&256?(rr(i),i.flags&=-257,i=Kf(t,i,a)):i.memoizedState!==null?(ar(),i.child=t.child,i.flags|=128,i=null):(ar(),b=o.fallback,h=i.mode,o=lc({mode:"visible",children:o.children},h),b=Wr(b,h,a,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,aa(i,t.child,null,a),o=i.child,o.memoizedState=Ff(a),o.childLanes=Gf(t,_,a),i.memoizedState=Hf,i=_l(null,o));else if(rr(i),Rd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,al({value:o,source:null,stack:null}),i=Kf(t,i,a)}else if(jt||$a(t,i,a,!1),_=(a&t.childLanes)!==0,jt||_){if(_=ft,_!==null&&(o=ns(_,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Zr(t,o),Cn(_,t,o),Bf;xd(b)||yc(),i=Kf(t,i,a)}else xd(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,dt=ci(b.nextSibling),$t=i,Ke=!0,Ws=null,li=!1,t!==null&&Gp(i,t),i=Qf(i,o.children),i.flags|=4096);return i}return h?(ar(),b=o.fallback,h=i.mode,N=t.child,z=N.sibling,o=os(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?b=os(z,b):(b=Wr(b,h,a,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,_l(null,o),o=i.child,b=t.child.memoizedState,b===null?b=Ff(a):(h=b.cachePool,h!==null?(N=kt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Jp(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=Gf(t,_,a),i.memoizedState=Hf,_l(t.child,o)):(rr(i),a=t.child,t=a.sibling,a=os(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Qf(t,i){return i=lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function lc(t,i){return t=zn(22,t,null,i),t.lanes=0,t}function Kf(t,i,a){return aa(i,t.child,null,a),t=Qf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),lf(t.return,i,a)}function Yf(t,i,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function hy(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=Ct.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,re(Ct,_),Zt(t,i,o,a),o=Ke?rl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,i);else if(t.tag===19)cy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Yf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(i,!0,a,null,f,o);break;case"together":Yf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ds(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if($a(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=os(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=os(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Xf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function nT(t,i,a){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),tr(i,kt,t.memoizedState.cache),ea();break;case 27:case 5:Nn(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:tr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ef(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uy(t,i,a):(rr(i),t=ds(t,i,a),t!==null?t.sibling:null);rr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||($a(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return hy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Ct,Ct.current),o)break;return null;case 22:return i.lanes=0,iy(t,i,a,i.pendingProps);case 24:tr(i,kt,t.memoizedState.cache)}return ds(t,i,a)}function fy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!Xf(t,a)&&(i.flags&128)===0)return jt=!1,nT(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,Ke&&(i.flags&1048576)!==0&&Fp(i,rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=sa(i.elementType),i.type=t,typeof t=="function")Wh(t)?(o=la(t,o),i.tag=1,i=oy(null,i,t,o,a)):(i.tag=0,i=qf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Me){i.tag=11,i=ey(null,i,t,o,a);break e}else if(h===R){i.tag=14,i=ty(null,i,t,o,a);break e}}throw i=Xe(t)||t,Error(r(306,i,""))}}return i;case 0:return qf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=la(o,i.pendingProps),oy(t,i,o,h,a);case 3:e:{if(ze(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,pf(t,i),dl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,tr(i,kt,o),o!==f.cache&&uf(i,[kt],a,!0),fl(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=ly(t,i,o,a);break e}else if(o!==h){h=ri(Error(r(424)),i),al(h),i=ly(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=ci(t.firstChild),$t=i,Ke=!0,Ws=null,li=!0,a=ig(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),o===h){i=ds(t,i,a);break e}Zt(t,i,o,a)}i=i.child}return i;case 26:return oc(t,i),t===null?(a=S0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,o=wc(_e.current).createElement(a),o[wt]=i,o[Ot]=t,Wt(o,a,t),Et(o),i.stateNode=o):i.memoizedState=S0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Nn(i),t===null&&Ke&&(o=i.stateNode=E0(i.type,i.pendingProps,_e.current),$t=i,li=!0,h=dt,mr(i.type)?(Cd=h,dt=ci(o.firstChild)):dt=h),Zt(t,i,i.pendingProps.children,a),oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((h=o=dt)&&(o=OT(o,i.type,i.pendingProps,li),o!==null?(i.stateNode=o,$t=i,dt=ci(o.firstChild),li=!1,h=!0):h=!1),h||er(i)),Nn(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Sd(h,f)?o=null:_!==null&&Sd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Tf(t,i,Kb,null,null,a),Ml._currentValue=h),oc(t,i),Zt(t,i,o,a),i.child;case 6:return t===null&&Ke&&((t=a=dt)&&(a=MT(a,i.pendingProps,li),a!==null?(i.stateNode=a,$t=i,dt=null,t=!0):t=!1),t||er(i)),null;case 13:return uy(t,i,a);case 4:return ze(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=aa(i,null,o,a):Zt(t,i,o,a),i.child;case 11:return ey(t,i,i.type,i.pendingProps,a);case 7:return Zt(t,i,i.pendingProps,a),i.child;case 8:return Zt(t,i,i.pendingProps.children,a),i.child;case 12:return Zt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,tr(i,i.type,o.value),Zt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,na(i),h=Jt(h),o=o(h),i.flags|=1,Zt(t,i,o,a),i.child;case 14:return ty(t,i,i.type,i.pendingProps,a);case 15:return ny(t,i,i.type,i.pendingProps,a);case 19:return hy(t,i,a);case 31:return tT(t,i,a);case 22:return iy(t,i,a,i.pendingProps);case 24:return na(i),o=Jt(kt),t===null?(h=ff(),h===null&&(h=ft,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},mf(i),tr(i,kt,h)):((t.lanes&a)!==0&&(pf(t,i),dl(i,null,null,a),fl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),tr(i,kt,o)):(o=f.cache,tr(i,kt,o),o!==h.cache&&uf(i,[kt],a,!0))),Zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ms(t){t.flags|=4}function $f(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw ra=Qu,df}else t.flags&=-16777217}function dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C0(i))if(Uy())t.flags|=8192;else throw ra=Qu,df}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ca():536870912,t.lanes|=i,lo|=i)}function vl(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function iT(t,i,a){var o=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),cs(kt),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xa(i)?ms(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),mt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(ms(i),f!==null?(mt(i),dy(i,f)):(mt(i),$f(i,h,null,o,a))):f?f!==t.memoizedState?(ms(i),mt(i),dy(i,f)):(mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&ms(i),mt(i),$f(i,h,t,o,a)),null;case 27:if(Kn(i),a=_e.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ms(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return mt(i),null}t=le.current,Xa(i)?Qp(i):(t=E0(h,o,a),i.stateNode=t,ms(i))}return mt(i),null;case 5:if(Kn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ms(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return mt(i),null}if(f=le.current,Xa(i))Qp(i);else{var _=wc(_e.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[wt]=i,f[Ot]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Wt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ms(i)}}return mt(i),$f(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ms(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=_e.current,Xa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=$t,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||u0(t.nodeValue,a)),t||er(i,!0)}else t=wc(t).createTextNode(o),t[wt]=i,i.stateNode=t}return mt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Xa(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(qn(i),i):(qn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return mt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[wt]=i}else ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(qn(i),i):(qn(i),null)}return qn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),mt(i),null);case 4:return it(),t===null&&_d(i.stateNode.containerInfo),mt(i),null;case 10:return cs(i.type),mt(i),null;case 19:if(X(Ct),o=i.memoizedState,o===null)return mt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)vl(o,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=$u(t),f!==null){for(i.flags|=128,vl(o,!1),t=f.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Bp(a,t),a=a.sibling;return re(Ct,Ct.current&1|2),Ke&&ls(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Gt()>mc&&(i.flags|=128,h=!0,vl(o,!1),i.lanes=4194304)}else{if(!h)if(t=$u(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return mt(i),null}else 2*Gt()-o.renderingStartTime>mc&&a!==536870912&&(i.flags|=128,h=!0,vl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,a=Ct.current,re(Ct,h?a&1|2:a&1),Ke&&ls(i,o.treeForkCount),t):(mt(i),null);case 22:case 23:return qn(i),vf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&X(ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),cs(kt),mt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function sT(t,i){switch(sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return cs(kt),it(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 31:if(i.memoizedState!==null){if(qn(i),i.alternate===null)throw Error(r(340));ea()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(qn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ea()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Ct),null;case 4:return it(),null;case 10:return cs(i.type),null;case 22:case 23:return qn(i),vf(),t!==null&&X(ia),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return cs(kt),null;case 25:return null;default:return null}}function my(t,i){switch(sf(i),i.tag){case 3:cs(kt),it();break;case 26:case 27:case 5:Kn(i);break;case 4:it();break;case 31:i.memoizedState!==null&&qn(i);break;case 13:qn(i);break;case 19:X(Ct);break;case 10:cs(i.type);break;case 22:case 23:qn(i),vf(),t!==null&&X(ia);break;case 24:cs(kt)}}function El(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(b){at(i,i.return,b)}}function or(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var N=a,z=b;try{z()}catch($){at(h,N,$)}}}o=o.next}while(o!==f)}}catch($){at(i,i.return,$)}}function py(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{rg(i,a)}catch(o){at(t,t.return,o)}}}function gy(t,i,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){at(t,i,o)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){at(t,i,h)}}function zi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){at(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,i,h)}else a.current=null}function yy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function Jf(t,i,a){try{var o=t.stateNode;xT(o,t.type,a,i),o[Ot]=i}catch(h){at(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mr(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_i));else if(o!==4&&(o===27&&mr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Wf(t,i,a),t=t.sibling;t!==null;)Wf(t,i,a),t=t.sibling}function cc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&mr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cc(t,i,a),t=t.sibling;t!==null;)cc(t,i,a),t=t.sibling}function vy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Wt(i,o,a),i[wt]=t,i[Ot]=a}catch(f){at(t,t.return,f)}}var ps=!1,Pt=!1,ed=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function rT(t,i){if(t=t.containerInfo,bd=Dc,t=Op(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,z=0,$=0,Z=t,H=null;t:for(;;){for(var Q;Z!==a||h!==0&&Z.nodeType!==3||(b=_+h),Z!==f||o!==0&&Z.nodeType!==3||(N=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)H=Z,Z=Q;for(;;){if(Z===t)break t;if(H===a&&++z===h&&(b=_),H===f&&++$===o&&(N=_),(Q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Dc=!1,Qt=i;Qt!==null;)if(i=Qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Qt=t;else for(;Qt!==null;){switch(i=Qt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var me=la(a.type,h);t=o.getSnapshotBeforeUpdate(me,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){at(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Qt=t;break}Qt=i.return}}function by(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ys(t,a),o&4&&El(5,a);break;case 1:if(ys(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){at(a,a.return,_)}else{var h=la(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){at(a,a.return,_)}}o&64&&py(a),o&512&&bl(a,a.return);break;case 3:if(ys(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{rg(t,i)}catch(_){at(a,a.return,_)}}break;case 27:i===null&&o&4&&vy(a);case 26:case 5:ys(t,a),i===null&&o&4&&yy(a),o&512&&bl(a,a.return);break;case 12:ys(t,a);break;case 31:ys(t,a),o&4&&wy(t,a);break;case 13:ys(t,a),o&4&&Ay(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mT.bind(null,a),kT(t,a))));break;case 22:if(o=a.memoizedState!==null||ps,!o){i=i!==null&&i.memoizedState!==null||Pt,h=ps;var f=Pt;ps=o,(Pt=i)&&!f?_s(t,a,(a.subtreeFlags&8772)!==0):ys(t,a),ps=h,Pt=f}break;case 30:break;default:ys(t,a)}}function Ty(t){var i=t.alternate;i!==null&&(t.alternate=null,Ty(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&zs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,wn=!1;function gs(t,i,a){for(a=a.child;a!==null;)Sy(t,i,a),a=a.sibling}function Sy(t,i,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(fn,a)}catch{}switch(a.tag){case 26:Pt||zi(a,i),gs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||zi(a,i);var o=_t,h=wn;mr(a.type)&&(_t=a.stateNode,wn=!1),gs(t,i,a),Nl(a.stateNode),_t=o,wn=h;break;case 5:Pt||zi(a,i);case 6:if(o=_t,h=wn,_t=null,gs(t,i,a),_t=o,wn=h,_t!==null)if(wn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(f){at(a,i,f)}else try{_t.removeChild(a.stateNode)}catch(f){at(a,i,f)}break;case 18:_t!==null&&(wn?(t=_t,p0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yo(t)):p0(_t,a.stateNode));break;case 4:o=_t,h=wn,_t=a.stateNode.containerInfo,wn=!0,gs(t,i,a),_t=o,wn=h;break;case 0:case 11:case 14:case 15:or(2,a,i),Pt||or(4,a,i),gs(t,i,a);break;case 1:Pt||(zi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&gy(a,i,o)),gs(t,i,a);break;case 21:gs(t,i,a);break;case 22:Pt=(o=Pt)||a.memoizedState!==null,gs(t,i,a),Pt=o;break;default:gs(t,i,a)}}function wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(a){at(i,i.return,a)}}}function Ay(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){at(i,i.return,a)}}function aT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ey),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ey),i;default:throw Error(r(435,t.tag))}}function hc(t,i){var a=aT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=pT.bind(null,t,o);o.then(h,h)}})}function An(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(mr(b.type)){_t=b.stateNode,wn=!1;break e}break;case 5:_t=b.stateNode,wn=!1;break e;case 3:case 4:_t=b.stateNode.containerInfo,wn=!0;break e}b=b.return}if(_t===null)throw Error(r(160));Sy(f,_,h),_t=null,wn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)xy(i,t),i=i.sibling}var wi=null;function xy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),xn(t),o&4&&(or(3,t,t.return),El(3,t),or(5,t,t.return));break;case 1:An(i,t),xn(t),o&512&&(Pt||a===null||zi(a,a.return)),o&64&&ps&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=wi;if(An(i,t),xn(t),o&512&&(Pt||a===null||zi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Jn]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Wt(f,o,a),f[wt]=t,Et(f),o=f;break e;case"link":var _=x0("link","href",h).get(o+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}f=h.createElement(o),Wt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=x0("meta","content",h).get(o+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}f=h.createElement(o),Wt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[wt]=t,Et(f),o=f}t.stateNode=o}else R0(h,t.type,t.stateNode);else t.stateNode=A0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?R0(h,t.type,t.stateNode):A0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),xn(t),o&512&&(Pt||a===null||zi(a,a.return)),a!==null&&o&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),xn(t),o&512&&(Pt||a===null||zi(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(me){at(t,t.return,me)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(An(i,t),xn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(me){at(t,t.return,me)}}break;case 3:if(Rc=null,h=wi,wi=Ac(i.containerInfo),An(i,t),wi=h,xn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(i.containerInfo)}catch(me){at(t,t.return,me)}ed&&(ed=!1,Ry(t));break;case 4:o=wi,wi=Ac(t.stateNode.containerInfo),An(i,t),xn(t),wi=o;break;case 12:An(i,t),xn(t);break;case 31:An(i,t),xn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 13:An(i,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=ps,$=Pt;if(ps=z||h,Pt=$||N,An(i,t),Pt=$,ps=z,xn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||ps||Pt||ua(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var Z=N.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(me){at(N,N.return,me)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){at(N,N.return,me)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?g0(Q,!0):g0(N.stateNode,!1)}catch(me){at(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,hc(t,a))));break;case 19:An(i,t),xn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 30:break;case 21:break;default:An(i,t),xn(t)}}function xn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(_y(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(t);cc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(Sn(_,""),a.flags&=-33);var b=Zf(t);cc(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Zf(t);Wf(t,z,N);break;default:throw Error(r(161))}}catch($){at(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ry(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ys(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)by(t,i.alternate,i),i=i.sibling}function ua(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:or(4,i,i.return),ua(i);break;case 1:zi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&gy(i,i.return,a),ua(i);break;case 27:Nl(i.stateNode);case 26:case 5:zi(i,i.return),ua(i);break;case 22:i.memoizedState===null&&ua(i);break;case 30:ua(i);break;default:ua(i)}t=t.sibling}}function _s(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:_s(h,f,a),El(4,f);break;case 1:if(_s(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)sg(N[h],b)}catch(z){at(o,o.return,z)}}a&&_&64&&py(f),bl(f,f.return);break;case 27:vy(f);case 26:case 5:_s(h,f,a),a&&o===null&&_&4&&yy(f),bl(f,f.return);break;case 12:_s(h,f,a);break;case 31:_s(h,f,a),a&&_&4&&wy(h,f);break;case 13:_s(h,f,a),a&&_&4&&Ay(h,f);break;case 22:f.memoizedState===null&&_s(h,f,a),bl(f,f.return);break;case 30:break;default:_s(h,f,a)}i=i.sibling}}function td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function Ai(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cy(t,i,a,o),i=i.sibling}function Cy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ai(t,i,a,o),h&2048&&El(9,i);break;case 1:Ai(t,i,a,o);break;case 3:Ai(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){Ai(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){at(i,i.return,N)}}else Ai(t,i,a,o);break;case 31:Ai(t,i,a,o);break;case 13:Ai(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Ai(t,i,a,o):Tl(t,i):f._visibility&2?Ai(t,i,a,o):(f._visibility|=2,ro(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&td(_,i);break;case 24:Ai(t,i,a,o),h&2048&&nd(i.alternate,i);break;default:Ai(t,i,a,o)}}function ro(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,b=a,N=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:ro(f,_,b,N,h),El(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?ro(f,_,b,N,h):Tl(f,_):($._visibility|=2,ro(f,_,b,N,h)),h&&z&2048&&td(_.alternate,_);break;case 24:ro(f,_,b,N,h),h&&z&2048&&nd(_.alternate,_);break;default:ro(f,_,b,N,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Tl(a,o),h&2048&&td(o.alternate,o);break;case 24:Tl(a,o),h&2048&&nd(o.alternate,o);break;default:Tl(a,o)}i=i.sibling}}var Sl=8192;function ao(t,i,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)Iy(t,i,a),t=t.sibling}function Iy(t,i,a){switch(t.tag){case 26:ao(t,i,a),t.flags&Sl&&t.memoizedState!==null&&QT(a,wi,t.memoizedState,t.memoizedProps);break;case 5:ao(t,i,a);break;case 3:case 4:var o=wi;wi=Ac(t.stateNode.containerInfo),ao(t,i,a),wi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Sl,Sl=16777216,ao(t,i,a),Sl=o):ao(t,i,a));break;default:ao(t,i,a)}}function Ny(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Qt=o,Oy(o,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&or(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,fc(t)):wl(t);break;default:wl(t)}}function fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Qt=o,Oy(o,t)}Ny(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:or(8,i,i.return),fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,fc(i));break;default:fc(i)}t=t.sibling}}function Oy(t,i){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:or(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ol(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Qt=o;else e:for(a=t;Qt!==null;){o=Qt;var h=o.sibling,f=o.return;if(Ty(o),o===a){Qt=null;break e}if(h!==null){h.return=f,Qt=h;break e}Qt=f}}}var oT={getCacheForType:function(t){var i=Jt(kt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Jt(kt).controller.signal}},lT=typeof WeakMap=="function"?WeakMap:Map,nt=0,ft=null,Le=null,Be=0,rt=0,Hn=null,lr=!1,oo=!1,id=!1,vs=0,xt=0,ur=0,ca=0,sd=0,Fn=0,lo=0,Al=null,Rn=null,rd=!1,dc=0,My=0,mc=1/0,pc=null,cr=null,Bt=0,hr=null,uo=null,Es=0,ad=0,od=null,ky=null,xl=0,ld=null;function Gn(){return(nt&2)!==0&&Be!==0?Be&-Be:K.T!==null?md():Ia()}function Vy(){if(Fn===0)if((Be&536870912)===0||Ke){var t=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),Fn=t}else Fn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Fn}function Cn(t,i,a){(t===ft&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(co(t,0),fr(t,Be,Fn,!1)),es(t,a),((nt&2)===0||t!==ft)&&(t===ft&&((nt&2)===0&&(ca|=a),xt===4&&fr(t,Be,Fn,!1)),Bi(t))}function jy(t,i,a){if((nt&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||bn(t,i),h=o?hT(t,i):cd(t,i,!0),f=o;do{if(h===0){oo&&!o&&fr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!uT(a)){h=cd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=Al;var N=b.current.memoizedState.isDehydrated;if(N&&(co(b,_).flags|=256),_=cd(b,_,!1),_!==2){if(id&&!N){b.errorRecoveryDisabledLanes|=f,ca|=f,h=4;break e}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){co(t,0),fr(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:fr(o,i,Fn,!lr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=dc+300-Gt(),10<h)){if(fr(o,i,Fn,!lr),En(o,0,!0)!==0)break e;Es=i,o.timeoutHandle=d0(Py.bind(null,o,a,Rn,pc,rd,i,Fn,ca,lo,lr,f,"Throttled",-0,0),h);break e}Py(o,a,Rn,pc,rd,i,Fn,ca,lo,lr,f,null,-0,0)}}break}while(!0);Bi(t)}function Py(t,i,a,o,h,f,_,b,N,z,$,Z,H,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Iy(i,f,Z);var me=(f&62914560)===f?dc-Gt():(f&4194048)===f?My-Gt():0;if(me=KT(Z,me),me!==null){Es=f,t.cancelPendingCommit=me(Gy.bind(null,t,i,f,a,o,h,_,b,N,$,Z,null,H,Q)),fr(t,f,_,!z);return}}Gy(t,i,f,a,o,h,_,b,N)}function uT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fr(t,i,a,o){i&=~sd,i&=~ca,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-vt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&ts(t,a,i)}function gc(){return(nt&6)===0?(Rl(0),!1):!0}function ud(){if(Le!==null){if(rt===0)var t=Le.return;else t=Le,us=ta=null,Af(t),eo=null,ul=0,t=Le;for(;t!==null;)my(t.alternate,t),t=t.return;Le=null}}function co(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Es=0,ud(),ft=t,Le=a=os(t.current,null),Be=i,rt=0,Hn=null,lr=!1,oo=bn(t,i),id=!1,lo=Fn=sd=ca=ur=xt=0,Rn=Al=null,rd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-vt(o),f=1<<h;i|=t[h],o&=~f}return vs=i,Pu(),a}function Ly(t,i){je=null,K.H=yl,i===Wa||i===Gu?(i=eg(),rt=3):i===df?(i=eg(),rt=4):rt=i===Bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,Le===null&&(xt=1,rc(t,ri(i,t.current)))}function Uy(){var t=Bn.current;return t===null?!0:(Be&4194048)===Be?ui===null:(Be&62914560)===Be||(Be&536870912)!==0?t===ui:!1}function zy(){var t=K.H;return K.H=yl,t===null?yl:t}function By(){var t=K.A;return K.A=oT,t}function yc(){xt=4,lr||(Be&4194048)!==Be&&Bn.current!==null||(oo=!0),(ur&134217727)===0&&(ca&134217727)===0||ft===null||fr(ft,Be,Fn,!1)}function cd(t,i,a){var o=nt;nt|=2;var h=zy(),f=By();(ft!==t||Be!==i)&&(pc=null,co(t,i)),i=!1;var _=xt;e:do try{if(rt!==0&&Le!==null){var b=Le,N=Hn;switch(rt){case 8:ud(),_=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var z=rt;if(rt=0,Hn=null,ho(t,b,N,z),a&&oo){_=0;break e}break;default:z=rt,rt=0,Hn=null,ho(t,b,N,z)}}cT(),_=xt;break}catch($){Ly(t,$)}while(!0);return i&&t.shellSuspendCounter++,us=ta=null,nt=o,K.H=h,K.A=f,Le===null&&(ft=null,Be=0,Pu()),_}function cT(){for(;Le!==null;)qy(Le)}function hT(t,i){var a=nt;nt|=2;var o=zy(),h=By();ft!==t||Be!==i?(pc=null,mc=Gt()+500,co(t,i)):oo=bn(t,i);e:do try{if(rt!==0&&Le!==null){i=Le;var f=Hn;t:switch(rt){case 1:rt=0,Hn=null,ho(t,i,f,1);break;case 2:case 9:if(Zp(f)){rt=0,Hn=null,Hy(i);break}i=function(){rt!==2&&rt!==9||ft!==t||(rt=7),Bi(t)},f.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Zp(f)?(rt=0,Hn=null,Hy(i)):(rt=0,Hn=null,ho(t,i,f,7));break;case 5:var _=null;switch(Le.tag){case 26:_=Le.memoizedState;case 5:case 27:var b=Le;if(_?C0(_):b.stateNode.complete){rt=0,Hn=null;var N=b.sibling;if(N!==null)Le=N;else{var z=b.return;z!==null?(Le=z,_c(z)):Le=null}break t}}rt=0,Hn=null,ho(t,i,f,5);break;case 6:rt=0,Hn=null,ho(t,i,f,6);break;case 8:ud(),xt=6;break e;default:throw Error(r(462))}}fT();break}catch($){Ly(t,$)}while(!0);return us=ta=null,K.H=o,K.A=h,nt=a,Le!==null?0:(ft=null,Be=0,Pu(),xt)}function fT(){for(;Le!==null&&!Yn();)qy(Le)}function qy(t){var i=fy(t.alternate,t,vs);t.memoizedProps=t.pendingProps,i===null?_c(t):Le=i}function Hy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ay(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=ay(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Af(i);default:my(a,i),i=Le=Bp(i,vs),i=fy(a,i,vs)}t.memoizedProps=t.pendingProps,i===null?_c(t):Le=i}function ho(t,i,a,o){us=ta=null,Af(i),eo=null,ul=0;var h=i.return;try{if(eT(t,h,i,a,Be)){xt=1,rc(t,ri(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;xt=1,rc(t,ri(a,t.current)),Le=null;return}i.flags&32768?(Ke||o===1?t=!0:oo||(Be&536870912)!==0?t=!1:(lr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(i,t)):_c(i)}function _c(t){var i=t;do{if((i.flags&32768)!==0){Fy(i,lr);return}t=i.return;var a=iT(i.alternate,i,vs);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);xt===0&&(xt=5)}function Fy(t,i){do{var a=sT(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);xt=6,Le=null}function Gy(t,i,a,o,h,f,_,b,N){t.cancelPendingCommit=null;do vc();while(Bt!==0);if((nt&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Jh,Go(t,a,f,_,b,N),t===ft&&(Le=ft=null,Be=0),uo=i,hr=t,Es=a,ad=f,od=h,ky=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gT(Ni,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=Y.p,Y.p=2,_=nt,nt|=4;try{rT(t,i,a)}finally{nt=_,Y.p=h,K.T=o}}Bt=1,Qy(),Ky(),Yy()}}function Qy(){if(Bt===1){Bt=0;var t=hr,i=uo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=Y.p;Y.p=2;var h=nt;nt|=4;try{xy(i,t);var f=Td,_=Op(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&Dp(b.ownerDocument.documentElement,b)){if(N!==null&&Qh(b)){var z=N.start,$=N.end;if($===void 0&&($=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min($,b.value.length);else{var Z=b.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Q=H.getSelection(),me=b.textContent.length,Te=Math.min(N.start,me),ht=N.end===void 0?Te:Math.min(N.end,me);!Q.extend&&Te>ht&&(_=ht,ht=Te,Te=_);var P=Np(b,Te),M=Np(b,ht);if(P&&M&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var U=Z.createRange();U.setStart(P.node,P.offset),Q.removeAllRanges(),Te>ht?(Q.addRange(U),Q.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),Q.addRange(U))}}}}for(Z=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var J=Z[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Dc=!!bd,Td=bd=null}finally{nt=h,Y.p=o,K.T=a}}t.current=i,Bt=2}}function Ky(){if(Bt===2){Bt=0;var t=hr,i=uo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=Y.p;Y.p=2;var h=nt;nt|=4;try{by(t,i.alternate,i)}finally{nt=h,Y.p=o,K.T=a}}Bt=3}}function Yy(){if(Bt===4||Bt===3){Bt=0,Ps();var t=hr,i=uo,a=Es,o=ky;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,uo=hr=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(cr=null),yi(a),i=i.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(fn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,h=Y.p,Y.p=2,K.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var b=o[_];f(b.value,{componentStack:b.stack})}}finally{K.T=i,Y.p=h}}(Es&3)!==0&&vc(),Bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ld?xl++:(xl=0,ld=t):xl=0,Rl(0)}}function Xy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function vc(){return Qy(),Ky(),Yy(),$y()}function $y(){if(Bt!==5)return!1;var t=hr,i=ad;ad=0;var a=yi(Es),o=K.T,h=Y.p;try{Y.p=32>a?32:a,K.T=null,a=od,od=null;var f=hr,_=Es;if(Bt=0,uo=hr=null,Es=0,(nt&6)!==0)throw Error(r(331));var b=nt;if(nt|=4,Dy(f.current),Cy(f,f.current,_,a),nt=b,Rl(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(fn,f)}catch{}return!0}finally{Y.p=h,K.T=o,Xy(t,i)}}function Jy(t,i,a){i=ri(a,i),i=zf(t.stateNode,i,2),t=sr(t,i,2),t!==null&&(es(t,2),Bi(t))}function at(t,i,a){if(t.tag===3)Jy(t,t,a);else for(;i!==null;){if(i.tag===3){Jy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cr===null||!cr.has(o))){t=ri(a,t),a=Zg(2),o=sr(i,a,2),o!==null&&(Wg(a,o,i,t),es(o,2),Bi(o));break}}i=i.return}}function hd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new lT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(id=!0,h.add(a),t=dT.bind(null,t,i,a),i.then(t,t))}function dT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(Be&a)===a&&(xt===4||xt===3&&(Be&62914560)===Be&&300>Gt()-dc?(nt&2)===0&&co(t,0):sd|=a,lo===Be&&(lo=0)),Bi(t)}function Zy(t,i){i===0&&(i=Ca()),t=Zr(t,i),t!==null&&(es(t,i),Bi(t))}function mT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Zy(t,a)}function pT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Zy(t,a)}function gT(t,i){return Qe(t,i)}var Ec=null,fo=null,fd=!1,bc=!1,dd=!1,dr=0;function Bi(t){t!==fo&&t.next===null&&(fo===null?Ec=fo=t:fo=fo.next=t),bc=!0,fd||(fd=!0,_T())}function Rl(t,i){if(!dd&&bc){dd=!0;do for(var a=!1,o=Ec;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-vt(42|t)+1)-1,f&=h&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,n0(o,f))}else f=Be,f=En(o,o===ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||bn(o,f)||(a=!0,n0(o,f));o=o.next}while(a);dd=!1}}function yT(){Wy()}function Wy(){bc=fd=!1;var t=0;dr!==0&&CT()&&(t=dr);for(var i=Gt(),a=null,o=Ec;o!==null;){var h=o.next,f=e0(o,i);f===0?(o.next=null,a===null?Ec=h:a.next=h,h===null&&(fo=a)):(a=o,(t!==0||(f&3)!==0)&&(bc=!0)),o=h}Bt!==0&&Bt!==5||Rl(t),dr!==0&&(dr=0)}function e0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-vt(f),b=1<<_,N=h[_];N===-1?((b&a)===0||(b&o)!==0)&&(h[_]=Ra(b,i)):N<=i&&(t.expiredLanes|=b),f&=~b}if(i=ft,a=Be,a=En(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&zt(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||bn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&zt(o),yi(a)){case 2:case 8:a=Pr;break;case 32:a=Ni;break;case 268435456:a=Lr;break;default:a=Ni}return o=t0.bind(null,t),a=Qe(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&zt(o),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,i){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var o=Be;return o=En(t,t===ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jy(t,o,i),e0(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?t0.bind(null,t):null)}function n0(t,i){if(vc())return null;jy(t,i,!0)}function _T(){NT(function(){(nt&6)!==0?Qe(hn,yT):Wy()})}function md(){if(dr===0){var t=Ja;t===0&&(t=mn,mn<<=1,(mn&261888)===0&&(mn=256)),dr=t}return dr}function i0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function s0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function vT(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=i0((h[Ot]||null).action),_=o.submitter;_&&(i=(i=_[Ot]||null)?i0(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var b=new ki("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(dr!==0){var N=_?s0(h,_):new FormData(h);kf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=_?s0(h,_):new FormData(h),kf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],ET=gd.toLowerCase(),bT=gd[0].toUpperCase()+gd.slice(1);Si(ET,"on"+bT)}Si(Vp,"onAnimationEnd"),Si(jp,"onAnimationIteration"),Si(Pp,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Pb,"onTransitionRun"),Si(Lb,"onTransitionStart"),Si(Ub,"onTransitionCancel"),Si(Lp,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function r0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var b=o[_],N=b.instance,z=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch($){ju($)}h.currentTarget=null,f=N}else for(_=0;_<o.length;_++){if(b=o[_],N=b.instance,z=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch($){ju($)}h.currentTarget=null,f=N}}}}function Ue(t,i){var a=i[Us];a===void 0&&(a=i[Us]=new Set);var o=t+"__bubble";a.has(o)||(a0(i,t,2,!1),a.add(o))}function yd(t,i,a){var o=0;i&&(o|=4),a0(a,t,o,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[Tc]){t[Tc]=!0,Bs.forEach(function(a){a!=="selectionchange"&&(TT.has(a)||yd(a,!1,t),yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,yd("selectionchange",!1,i))}}function a0(t,i,a,o){switch(V0(i)){case 2:var h=$T;break;case 8:h=JT;break;default:h=Md}a=h.bind(null,i,a,t),h=void 0,!Fr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function vd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var b=o.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Zn(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=f=_;continue e}b=b.parentNode}}o=o.return}Ys(function(){var z=f,$=ti(a),Z=[];e:{var H=Up.get(t);if(H!==void 0){var Q=ki,me=t;switch(t){case"keypress":if(Qr(a)===0)break e;case"keydown":case"keyup":Q=Mu;break;case"focusin":me="focus",Q=Yr;break;case"focusout":me="blur",Q=Yr;break;case"beforeblur":case"afterblur":Q=Yr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case Vp:case jp:case Pp:Q=xu;break;case Lp:Q=S;break;case"scroll":case"scrollend":Q=Zo;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=as;break;case"toggle":case"beforetoggle":Q=Ve}var Te=(i&4)!==0,ht=!Te&&(t==="scroll"||t==="scrollend"),P=Te?H!==null?H+"Capture":null:H;Te=[];for(var M=z,U;M!==null;){var J=M;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||P===null||(J=vi(M,P),J!=null&&Te.push(Il(M,J,U))),ht)break;M=M.return}0<Te.length&&(H=new Q(H,me,null,a,$),Z.push({event:H,listeners:Te}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Xo&&(me=a.relatedTarget||a.fromElement)&&(Zn(me)||me[$n]))break e;if((Q||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=z,me=me?Zn(me):null,me!==null&&(ht=u(me),Te=me.tag,me!==ht||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(Q=null,me=z),Q!==me)){if(Te=Wo,J="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Te=as,J="onPointerLeave",P="onPointerEnter",M="pointer"),ht=Q==null?H:pn(Q),U=me==null?H:pn(me),H=new Te(J,M+"leave",Q,a,$),H.target=ht,H.relatedTarget=U,J=null,Zn($)===z&&(Te=new Te(P,M+"enter",me,a,$),Te.target=U,Te.relatedTarget=ht,J=Te),ht=J,Q&&me)t:{for(Te=ST,P=Q,M=me,U=0,J=P;J;J=Te(J))U++;J=0;for(var Ee=M;Ee;Ee=Te(Ee))J++;for(;0<U-J;)P=Te(P),U--;for(;0<J-U;)M=Te(M),J--;for(;U--;){if(P===M||M!==null&&P===M.alternate){Te=P;break t}P=Te(P),M=Te(M)}Te=null}else Te=null;Q!==null&&o0(Z,H,Q,Te,!1),me!==null&&ht!==null&&o0(Z,ht,me,Te,!0)}}e:{if(H=z?pn(z):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Je=wp;else if(Tp(H))if(Ap)Je=kb;else{Je=Ob;var ge=Db}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&Va(z.elementType)&&(Je=wp):Je=Mb;if(Je&&(Je=Je(t,z))){Sp(Z,Je,a,$);break e}ge&&ge(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&Qo(H,"number",H.value)}switch(ge=z?pn(z):window,t){case"focusin":(Tp(ge)||ge.contentEditable==="true")&&(Ha=ge,Kh=z,sl=null);break;case"focusout":sl=Kh=Ha=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Mp(Z,a,$);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":Mp(Z,a,$)}var Pe;if(tt)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else qa?Xr(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Pi&&a.locale!=="ko"&&(qa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&qa&&(Pe=Jo()):(Mi=$,$o="value"in Mi?Mi.value:Mi.textContent,qa=!0)),ge=Sc(z,qe),0<ge.length&&(qe=new ji(qe,t,null,a,$),Z.push({event:qe,listeners:ge}),Pe?qe.data=Pe:(Pe=Ba(a),Pe!==null&&(qe.data=Pe)))),(Pe=ii?Rb(t,a):Cb(t,a))&&(qe=Sc(z,"onBeforeInput"),0<qe.length&&(ge=new ji("onBeforeInput","beforeinput",null,a,$),Z.push({event:ge,listeners:qe}),ge.data=Pe)),vT(Z,t,z,a,$)}r0(Z,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Sc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vi(t,a),h!=null&&o.unshift(Il(t,h,f)),h=vi(t,i),h!=null&&o.push(Il(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ST(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o0(t,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var b=a,N=b.alternate,z=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||z===null||(N=z,h?(z=vi(a,f),z!=null&&_.unshift(Il(a,z,N))):h||(z=vi(a,f),z!=null&&_.push(Il(a,z,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var wT=/\r\n?/g,AT=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(wT,`
`).replace(AT,"")}function u0(t,i){return i=l0(i),l0(t)===i}function ct(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Sn(t,""+o);break;case"className":sn(t,"class",o);break;case"tabIndex":sn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":sn(t,a,o);break;case"style":Yo(t,o,f);break;case"data":if(i!=="object"){sn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ja(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ct(t,i,"name",h.name,h,null),ct(t,i,"formEncType",h.formEncType,h,null),ct(t,i,"formMethod",h.formMethod,h,null),ct(t,i,"formTarget",h.formTarget,h,null)):(ct(t,i,"encType",h.encType,h,null),ct(t,i,"method",h.method,h,null),ct(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ja(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=_i);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Hs(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Hs(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,Hs(t,a,o))}}function Ed(t,i,a,o,h,f){switch(a){case"style":Yo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&Sn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Ot]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Hs(t,a,o)}}}function Wt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ct(t,i,f,_,a,null)}}h&&ct(t,i,"srcSet",a.srcSet,a,null),o&&ct(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var b=f=_=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":z=$;break;case"value":f=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:ct(t,i,o,$,a,null)}}Eu(t,f,b,N,z,_,h,!1);return;case"select":Ue("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":o=b;default:ct(t,i,h,b,a,null)}i=f,a=_,t.multiple=!!o,i!=null?Fs(t,!!o,i,!1):a!=null&&Fs(t,!!o,a,!0);return;case"textarea":Ue("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ct(t,i,_,b,a,null)}Gs(t,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(t,i,N,o,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<Cl.length;o++)Ue(Cl[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ct(t,i,z,o,a,null)}return;default:if(Va(i)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Ed(t,i,$,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&ct(t,i,b,o,a,null))}function xT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,b=null,N=null,z=null,$=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:o.hasOwnProperty(Q)||ct(t,i,Q,null,o,Z)}}for(var H in o){var Q=o[H];if(Z=a[H],o.hasOwnProperty(H)&&(Q!=null||Z!=null))switch(H){case"type":f=Q;break;case"name":h=Q;break;case"checked":z=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==Z&&ct(t,i,H,Q,o,Z)}}ka(t,_,b,N,z,$,f,h);return;case"select":Q=_=b=H=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":Q=N;default:o.hasOwnProperty(f)||ct(t,i,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":H=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==N&&ct(t,i,h,f,o,N)}i=b,a=_,o=Q,H!=null?Fs(t,!!a,H,!1):!!o!=!!a&&(i!=null?Fs(t,!!a,i,!0):Fs(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ct(t,i,b,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ct(t,i,_,h,o,f)}bu(t,H,Q);return;case"option":for(var me in a)if(H=a[me],a.hasOwnProperty(me)&&H!=null&&!o.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:ct(t,i,me,null,o,H)}for(N in o)if(H=o[N],Q=a[N],o.hasOwnProperty(N)&&H!==Q&&(H!=null||Q!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ct(t,i,N,H,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!o.hasOwnProperty(Te)&&ct(t,i,Te,null,o,H);for(z in o)if(H=o[z],Q=a[z],o.hasOwnProperty(z)&&H!==Q&&(H!=null||Q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:ct(t,i,z,H,o,Q)}return;default:if(Va(i)){for(var ht in a)H=a[ht],a.hasOwnProperty(ht)&&H!==void 0&&!o.hasOwnProperty(ht)&&Ed(t,i,ht,void 0,o,H);for($ in o)H=o[$],Q=a[$],!o.hasOwnProperty($)||H===Q||H===void 0&&Q===void 0||Ed(t,i,$,H,o,Q);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!o.hasOwnProperty(P)&&ct(t,i,P,null,o,H);for(Z in o)H=o[Z],Q=a[Z],!o.hasOwnProperty(Z)||H===Q||H==null&&Q==null||ct(t,i,Z,H,o,Q)}function c0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,b=h.duration;if(f&&b&&c0(_)){for(_=0,b=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>b)break;var $=N.transferSize,Z=N.initiatorType;$&&c0(Z)&&(N=N.responseEnd,_+=$*(N<b?1:(b-z)/(N-z)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Td=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function h0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Sd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wd=null;function CT(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(DT)}:d0;function DT(t){setTimeout(function(){throw t})}function mr(t){return t==="head"}function p0(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),yo(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[Jn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);yo(i)}function g0(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ad(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),zs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OT(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Jn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ci(t.nextSibling),t===null)break}return null}function MT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ci(t.nextSibling),t===null))return null;return t}function y0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ci(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ci(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Cd=null;function _0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ci(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function v0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function E0(t,i,a){switch(i=wc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);zs(t)}var hi=new Map,b0=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bs=Y.d;Y.d={f:VT,r:jT,D:PT,C:LT,L:UT,m:zT,X:qT,S:BT,M:HT};function VT(){var t=bs.f(),i=gc();return t||i}function jT(t){var i=Tn(t);i!==null&&i.tag===5&&i.type==="form"?Lg(i):bs.r(t)}var mo=typeof document>"u"?null:document;function T0(t,i,a){var o=mo;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),b0.has(h)||(b0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Wt(i,"link",t),Et(i),o.head.appendChild(i)))}}function PT(t){bs.D(t),T0("dns-prefetch",t,null)}function LT(t,i){bs.C(t,i),T0("preconnect",t,i)}function UT(t,i,a){bs.L(t,i,a);var o=mo;if(o&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(i){case"style":f=po(t);break;case"script":f=go(t)}hi.has(f)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),hi.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Dl(f))||i==="script"&&o.querySelector(Ol(f))||(i=o.createElement("link"),Wt(i,"link",t),Et(i),o.head.appendChild(i)))}}function zT(t,i){bs.m(t,i);var a=mo;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=go(t)}if(!hi.has(f)&&(t=w({rel:"modulepreload",href:t},i),hi.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(f)))return}o=a.createElement("link"),Wt(o,"link",t),Et(o),a.head.appendChild(o)}}}function BT(t,i,a){bs.S(t,i,a);var o=mo;if(o&&t){var h=Ln(o).hoistableStyles,f=po(t);i=i||"default";var _=h.get(f);if(!_){var b={loading:0,preload:null};if(_=o.querySelector(Dl(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=hi.get(f))&&Id(t,a);var N=_=o.createElement("link");Et(N),Wt(N,"link",t),N._p=new Promise(function(z,$){N.onload=z,N.onerror=$}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,xc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(f,_)}}}function qT(t,i){bs.X(t,i);var a=mo;if(a&&t){var o=Ln(a).hoistableScripts,h=go(t),f=o.get(h);f||(f=a.querySelector(Ol(h)),f||(t=w({src:t,async:!0},i),(i=hi.get(h))&&Nd(t,i),f=a.createElement("script"),Et(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HT(t,i){bs.M(t,i);var a=mo;if(a&&t){var o=Ln(a).hoistableScripts,h=go(t),f=o.get(h);f||(f=a.querySelector(Ol(h)),f||(t=w({src:t,async:!0,type:"module"},i),(i=hi.get(h))&&Nd(t,i),f=a.createElement("script"),Et(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function S0(t,i,a,o){var h=(h=_e.current)?Ac(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=Ln(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=po(a.href);var f=Ln(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Dl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),hi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(t,a),f||FT(h,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=go(a),a=Ln(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function po(t){return'href="'+rn(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function w0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function FT(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Wt(i,"link",a),Et(i),t.head.appendChild(i))}function go(t){return'[src="'+rn(t)+'"]'}function Ol(t){return"script[async]"+t}function A0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,Et(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Wt(o,"style",h),xc(o,a.precedence,t),i.instance=o;case"stylesheet":h=po(a.href);var f=t.querySelector(Dl(h));if(f)return i.state.loading|=4,i.instance=f,Et(f),f;o=w0(a),(h=hi.get(h))&&Id(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var _=f;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Wt(f,"link",o),i.state.loading|=4,xc(f,a.precedence,t),i.instance=f;case"script":return f=go(a.src),(h=t.querySelector(Ol(f)))?(i.instance=h,Et(h),h):(o=a,(h=hi.get(f))&&(o=w({},a),Nd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Wt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,xc(o,a.precedence,t));return i.instance}function xc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var b=o[_];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Nd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Rc=null;function x0(t,i,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Jn]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var b=o.get(_);b?b.push(f):o.set(_,[f])}}return o}function R0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function GT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function C0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function QT(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=po(o.href),f=i.querySelector(Dl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Cc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Et(f);return}f=i.ownerDocument||i,o=w0(o),(h=hi.get(h))&&Id(o,h),f=f.createElement("link"),Et(f);var _=f;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Wt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Dd=0;function KT(t,i){return t.stylesheets&&t.count===0&&Nc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Dd===0&&(Dd=62500*RT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Nc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(YT,t),Ic=null,Cc.call(t))}function YT(t,i){if(!(i.state.loading&4)){var a=Ic.get(t);if(a)var o=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:pe,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function XT(t,i,a,o,h,f,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function I0(t,i,a,o,h,f,_,b,N,z,$,Z){return t=new XT(t,i,a,_,N,z,$,Z,b),i=1,f===!0&&(i|=24),f=zn(3,null,null,i),t.current=f,f.stateNode=t,i=cf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},mf(f),t}function N0(t){return t?(t=Qa,t):Qa}function D0(t,i,a,o,h,f){h=N0(h),o.context===null?o.context=h:o.pendingContext=h,o=ir(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=sr(t,o,i),a!==null&&(Cn(a,t,i),hl(a,t,i))}function O0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Od(t,i){O0(t,i),(t=t.alternate)&&O0(t,i)}function M0(t){if(t.tag===13||t.tag===31){var i=Zr(t,67108864);i!==null&&Cn(i,t,67108864),Od(t,67108864)}}function k0(t){if(t.tag===13||t.tag===31){var i=Gn();i=is(i);var a=Zr(t,i);a!==null&&Cn(a,t,i),Od(t,i)}}var Dc=!0;function $T(t,i,a,o){var h=K.T;K.T=null;var f=Y.p;try{Y.p=2,Md(t,i,a,o)}finally{Y.p=f,K.T=h}}function JT(t,i,a,o){var h=K.T;K.T=null;var f=Y.p;try{Y.p=8,Md(t,i,a,o)}finally{Y.p=f,K.T=h}}function Md(t,i,a,o){if(Dc){var h=kd(o);if(h===null)vd(t,i,o,Oc,a),j0(t,o);else if(WT(h,t,i,a,o))o.stopPropagation();else if(j0(t,o),i&4&&-1<ZT.indexOf(t)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=kn(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-vt(_);b.entanglements[1]|=N,_&=~N}Bi(f),(nt&6)===0&&(mc=Gt()+500,Rl(0))}}break;case 31:case 13:b=Zr(f,2),b!==null&&Cn(b,f,2),gc(),Od(f,2)}if(f=kd(o),f===null&&vd(t,i,o,Oc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(t,i,o,null,a)}}function kd(t){return t=ti(t),Vd(t)}var Oc=null;function Vd(t){if(Oc=null,t=Zn(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Oc=t,null}function V0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case hn:return 2;case Pr:return 8;case Ni:case Fo:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var jd=!1,pr=null,gr=null,yr=null,kl=new Map,Vl=new Map,_r=[],ZT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(t,i){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function jl(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Tn(i),i!==null&&M0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function WT(t,i,a,o,h){switch(i){case"focusin":return pr=jl(pr,t,i,a,o,h),!0;case"dragenter":return gr=jl(gr,t,i,a,o,h),!0;case"mouseover":return yr=jl(yr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return kl.set(f,jl(kl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Vl.set(f,jl(Vl.get(f)||null,t,i,a,o,h)),!0}return!1}function P0(t){var i=Zn(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,jn(t.priority,function(){k0(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,jn(t.priority,function(){k0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Xo=o,a.target.dispatchEvent(o),Xo=null}else return i=Tn(a),i!==null&&M0(i),t.blockedOn=a,!1;i.shift()}return!0}function L0(t,i,a){Mc(t)&&a.delete(i)}function eS(){jd=!1,pr!==null&&Mc(pr)&&(pr=null),gr!==null&&Mc(gr)&&(gr=null),yr!==null&&Mc(yr)&&(yr=null),kl.forEach(L0),Vl.forEach(L0)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eS)))}var Vc=null;function U0(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Vd(o||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(i,3),i-=3,kf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function yo(t){function i(N){return kc(N,t)}pr!==null&&kc(pr,t),gr!==null&&kc(gr,t),yr!==null&&kc(yr,t),kl.forEach(i),Vl.forEach(i);for(var a=0;a<_r.length;a++){var o=_r[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)P0(a),a.blockedOn===null&&_r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Ot]||null;if(typeof f=="function")_||U0(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ot]||null)b=_.formAction;else if(Vd(h)!==null)continue}else b=_.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),U0(a)}}}function z0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Pd(t){this._internalRoot=t}jc.prototype.render=Pd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Gn();D0(a,o,t,i,null,null)},jc.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;D0(t.current,2,null,t,null,null),gc(),i[$n]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ia();t={blockedOn:null,target:t,priority:i};for(var a=0;a<_r.length&&i!==0&&i<_r[a].priority;a++);_r.splice(a,0,t),a===0&&P0(t)}};var B0=e.version;if(B0!=="19.2.3")throw Error(r(527,B0,"19.2.3"));Y.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var tS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{fn=Pc.inject(tS),ot=Pc}catch{}}return Ll.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=Yg,f=Xg,_=$g;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=I0(t,1,!1,null,null,a,o,null,h,f,_,z0),t[$n]=i.current,_d(t),new Pd(i)},Ll.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Yg,_=Xg,b=$g,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=I0(t,1,!0,i,a??null,o,h,N,f,_,b,z0),i.context=N0(null),a=i.current,o=Gn(),o=is(o),h=ir(o),h.callback=null,sr(a,h,o),a=o,i.current.lanes=a,es(i,a),Bi(i),t[$n]=i.current,_d(t),new jc(i)},Ll.version="19.2.3",Ll}var J0;function fS(){if(J0)return zd.exports;J0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=hS(),zd.exports}var dS=fS();const mS="modulepreload",pS=function(s,e){return new URL(s,e).href},Z0={},W0=function(e,n,r){let l=Promise.resolve();if(n&&n.length>0){let g=function(T){return Promise.all(T.map(w=>Promise.resolve(w).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};const d=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),y=p?.nonce||p?.getAttribute("nonce");l=g(n.map(T=>{if(T=pS(T,r),T in Z0)return;Z0[T]=!0;const w=T.endsWith(".css"),D=w?'[rel="stylesheet"]':"";if(r)for(let B=d.length-1;B>=0;B--){const q=d[B];if(q.href===T&&(!w||q.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${T}"]${D}`))return;const k=document.createElement("link");if(k.rel=w?"stylesheet":mS,w||(k.as="script"),k.crossOrigin="",k.href=T,y&&k.setAttribute("nonce",y),document.head.appendChild(k),w)return new Promise((B,q)=>{k.addEventListener("load",B),k.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${T}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})},gS=()=>{};var e_={};const kv=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},yS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],p=s[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,g=y?s[l+2]:0,T=u>>2,w=(u&3)<<4|p>>4;let D=(p&15)<<2|g>>6,k=g&63;y||(k=64,d||(D=64)),r.push(n[T],n[w],n[D],n[k])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(kv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):yS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const g=l<s.length?n[s.charAt(l)]:64;++l;const w=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||g==null||w==null)throw new _S;const D=u<<2|p>>4;if(r.push(D),g!==64){const k=p<<4&240|g>>2;if(r.push(k),w!==64){const B=g<<6&192|w;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(s){const e=kv(s);return Vv.encodeByteArray(e,!0)},th=function(s){return vS(s).replace(/\./g,"")},jv=function(s){try{return Vv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bS=()=>ES().__FIREBASE_DEFAULTS__,TS=()=>{if(typeof process>"u"||typeof e_>"u")return;const s=e_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},SS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&jv(s[1]);return e&&JSON.parse(e)},bh=()=>{try{return gS()||bS()||TS()||SS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Pv=s=>bh()?.emulatorHosts?.[s],wS=s=>{const e=Pv(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lv=()=>bh()?.config,Uv=s=>bh()?.[`_${s}`];class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Lo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zv(s){return(await fetch(s,{credentials:"include"})).ok}function xS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[th(JSON.stringify(n)),th(JSON.stringify(d)),""].join(".")}const Kl={};function RS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?s.emulator.push(e):s.prod.push(e);return s}function CS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let t_=!1;function Bv(s,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||Kl[s]===e||Kl[s]||t_)return;Kl[s]=e;function n(D){return`__firebase__banner__${D}`}const r="__firebase__banner",u=RS().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,k){D.setAttribute("width","24"),D.setAttribute("id",k),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function g(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{t_=!0,d()},D}function T(D,k){D.setAttribute("id",k),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function w(){const D=CS(r),k=n("text"),B=document.getElementById(k)||document.createElement("span"),q=n("learnmore"),F=document.getElementById(q)||document.createElement("a"),ie=n("preprendIcon"),fe=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const pe=D.element;p(pe),T(F,q);const Me=g();y(fe,ie),pe.append(fe,B,F,Me),document.body.appendChild(pe)}u?(B.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function NS(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kS(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function VS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function PS(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const LS="FirebaseError";class Vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LS,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?US(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Vs(l,p,r)}}function US(s,e){return s.replace(zS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const zS=/\{\$([^}]+)}/g;function BS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pa(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(n_(u)&&n_(d)){if(!pa(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function n_(s){return s!==null&&typeof s=="object"}function cu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function ql(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function qS(s,e){const n=new HS(s,e);return n.subscribe.bind(n)}class HS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Fd(){}function vn(s){return s&&s._delegate?s._delegate:s}class ga{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ha="[DEFAULT]";class GS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KS(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(s){return s===ha?void 0:s}function KS(s){return s.instantiationMode==="EAGER"}class YS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const XS={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},$S=He.INFO,JS={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},ZS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=JS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=$S,this._logHandler=ZS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const WS=(s,e)=>e.some(n=>s instanceof n);let i_,s_;function ew(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tw(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,im=new WeakMap,Hv=new WeakMap,Gd=new WeakMap,Dm=new WeakMap;function nw(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Sr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&qv.set(n,s)}).catch(()=>{}),Dm.set(e,s),e}function iw(s){if(im.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Hv.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function sw(s){sm=s(sm)}function rw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Qd(this),e,...n);return Hv.set(r,e.sort?e.sort():[e]),Sr(r)}:tw().includes(s)?function(...e){return s.apply(Qd(this),e),Sr(qv.get(this))}:function(...e){return Sr(s.apply(Qd(this),e))}}function aw(s){return typeof s=="function"?rw(s):(s instanceof IDBTransaction&&iw(s),WS(s,ew())?new Proxy(s,sm):s)}function Sr(s){if(s instanceof IDBRequest)return nw(s);if(Gd.has(s))return Gd.get(s);const e=aw(s);return e!==s&&(Gd.set(s,e),Dm.set(e,s)),e}const Qd=s=>Dm.get(s);function ow(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=Sr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Sr(d.result),y.oldVersion,y.newVersion,Sr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const lw=["get","getKey","getAll","getAllKeys","count"],uw=["put","add","delete","clear"],Kd=new Map;function r_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=uw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||lw.includes(n)))return;const u=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),l&&y.done]))[0]};return Kd.set(e,u),u}sw(s=>({...s,get:(e,n,r)=>r_(e,n)||s.get(e,n,r),has:(e,n)=>!!r_(e,n)||s.has(e,n)}));class cw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hw(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",a_="0.14.6";const Ds=new Nm("@firebase/app"),fw="@firebase/app-compat",dw="@firebase/analytics-compat",mw="@firebase/analytics",pw="@firebase/app-check-compat",gw="@firebase/app-check",yw="@firebase/auth",_w="@firebase/auth-compat",vw="@firebase/database",Ew="@firebase/data-connect",bw="@firebase/database-compat",Tw="@firebase/functions",Sw="@firebase/functions-compat",ww="@firebase/installations",Aw="@firebase/installations-compat",xw="@firebase/messaging",Rw="@firebase/messaging-compat",Cw="@firebase/performance",Iw="@firebase/performance-compat",Nw="@firebase/remote-config",Dw="@firebase/remote-config-compat",Ow="@firebase/storage",Mw="@firebase/storage-compat",kw="@firebase/firestore",Vw="@firebase/ai",jw="@firebase/firestore-compat",Pw="firebase",Lw="12.6.0";const am="[DEFAULT]",Uw={[rm]:"fire-core",[fw]:"fire-core-compat",[mw]:"fire-analytics",[dw]:"fire-analytics-compat",[gw]:"fire-app-check",[pw]:"fire-app-check-compat",[yw]:"fire-auth",[_w]:"fire-auth-compat",[vw]:"fire-rtdb",[Ew]:"fire-data-connect",[bw]:"fire-rtdb-compat",[Tw]:"fire-fn",[Sw]:"fire-fn-compat",[ww]:"fire-iid",[Aw]:"fire-iid-compat",[xw]:"fire-fcm",[Rw]:"fire-fcm-compat",[Cw]:"fire-perf",[Iw]:"fire-perf-compat",[Nw]:"fire-rc",[Dw]:"fire-rc-compat",[Ow]:"fire-gcs",[Mw]:"fire-gcs-compat",[kw]:"fire-fst",[jw]:"fire-fst-compat",[Vw]:"fire-vertex","fire-js":"fire-js",[Pw]:"fire-js-all"};const Wl=new Map,zw=new Map,om=new Map;function o_(s,e){try{s.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Co(s){const e=s.name;if(om.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const n of Wl.values())o_(n,s);for(const n of zw.values())o_(n,s);return!0}function Om(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Qn(s){return s==null?!1:s.settings!==void 0}const Bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new uu("app","Firebase",Bw);class qw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const Uo=Lw;function Fv(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:am,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw wr.create("bad-app-name",{appName:String(l)});if(n||(n=Lv()),!n)throw wr.create("no-options");const u=Wl.get(l);if(u){if(pa(n,u.options)&&pa(r,u.config))return u;throw wr.create("duplicate-app",{appName:l})}const d=new YS(l);for(const y of om.values())d.addComponent(y);const p=new qw(n,r,d);return Wl.set(l,p),p}function Mm(s=am){const e=Wl.get(s);if(!e&&s===am&&Lv())return Fv();if(!e)throw wr.create("no-app",{appName:s});return e}function Hw(){return Array.from(Wl.values())}function Ar(s,e,n){let r=Uw[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(d.join(" "));return}Co(new ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Fw="firebase-heartbeat-database",Gw=1,eu="firebase-heartbeat-store";let Yd=null;function Gv(){return Yd||(Yd=ow(Fw,Gw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(s=>{throw wr.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function Qw(s){try{const n=(await Gv()).transaction(eu),r=await n.objectStore(eu).get(Qv(s));return await n.done,r}catch(e){if(e instanceof Vs)Ds.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e?.message});Ds.warn(n.message)}}}async function l_(s,e){try{const r=(await Gv()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,Qv(s)),await r.done}catch(n){if(n instanceof Vs)Ds.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n?.message});Ds.warn(r.message)}}}function Qv(s){return`${s.name}!${s.options.appId}`}const Kw=1024,Yw=30;class Xw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Yw){const l=Zw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u_(),{heartbeatsToSend:n,unsentEntries:r}=$w(this._heartbeatsCache.heartbeats),l=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ds.warn(e),""}}}function u_(){return new Date().toISOString().substring(0,10)}function $w(s,e=Kw){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),c_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),c_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Jw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?PS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c_(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function Zw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function Ww(s){Co(new ga("platform-logger",e=>new cw(e),"PRIVATE")),Co(new ga("heartbeat",e=>new Xw(e),"PRIVATE")),Ar(rm,a_,s),Ar(rm,a_,"esm2020"),Ar("fire-js","")}Ww("");var eA="firebase",tA="12.7.0";Ar(eA,tA,"app");function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yv=Kv,Xv=new uu("auth","Firebase",Kv());const nh=new Nm("@firebase/auth");function nA(s,...e){nh.logLevel<=He.WARN&&nh.warn(`Auth (${Uo}): ${s}`,...e)}function Gc(s,...e){nh.logLevel<=He.ERROR&&nh.error(`Auth (${Uo}): ${s}`,...e)}function mi(s,...e){throw Vm(s,...e)}function Ci(s,...e){return Vm(s,...e)}function km(s,e,n){const r={...Yv(),[e]:n};return new uu("auth","Firebase",r).create(e,{appName:s.name})}function Cs(s){return km(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iA(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mi(s,"argument-error"),km(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Xv.create(s,...e)}function Ae(s,e,...n){if(!s)throw Vm(e,...n)}function xs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function Os(s,e){s||xs(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function sA(){return h_()==="http:"||h_()==="https:"}function h_(){return typeof self<"u"&&self.location?.protocol||null}function rA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sA()||OS()||"connection"in navigator)?navigator.onLine:!0}function aA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=IS()||MS()}get(){return rA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,e){Os(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class $v{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uA=new hu(3e4,6e4);function Vr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function js(s,e,n,r,l={}){return Jv(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=cu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:y,...u};return DS()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&Lo(s.emulatorConfig.host)&&(g.credentials="include"),$v.fetch()(await Zv(s,s.config.apiHost,n,p),g)})}async function Jv(s,e,n){s._canInitEmulator=!1;const r={...oA,...e};try{const l=new hA(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Lc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw km(s,T,g);mi(s,T)}}catch(l){if(l instanceof Vs)throw l;mi(s,"network-request-failed",{message:String(l)})}}async function fu(s,e,n,r,l={}){const u=await js(s,e,n,r,l);return"mfaPendingCredential"in u&&mi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Zv(s,e,n,r){const l=`${e}${n}?${r}`,u=s,d=u.config.emulator?jm(s.config,l):`${s.config.apiScheme}://${l}`;return lA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function cA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),uA.get())})}}function Lc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ci(s,e,r);return l.customData._tokenResponse=n,l}function f_(s){return s!==void 0&&s.enterprise!==void 0}class fA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dA(s,e){return js(s,"GET","/v2/recaptchaConfig",Vr(s,e))}async function mA(s,e){return js(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return js(s,"POST","/v1/accounts:lookup",e)}function Yl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wv(s,e=!1){const n=vn(s),r=await n.getIdToken(e),l=Pm(r);Ae(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Yl(Xd(l.auth_time)),issuedAtTime:Yl(Xd(l.iat)),expirationTime:Yl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Pm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=jv(n);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function d_(s){const e=Pm(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Io(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vs&&pA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function pA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class gA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,n=await s.getIdToken(),r=await Io(s,ih(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?t1(l.providerUserInfo):[],d=yA(s.providerData,u),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,g=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(s,T)}async function e1(s){const e=vn(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yA(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function t1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function _A(s,e){const n=await Jv(s,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await Zv(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&Lo(s.emulatorConfig.host)&&(y.credentials="include"),$v.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vA(s,e){return js(s,"POST","/v2/accounts:revokeToken",Vr(s,e))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=d_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await _A(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new To;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Ae(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return xs("not implemented")}}function Er(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new gA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Wv(this,e)}reload(){return e1(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Io(this,mA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:D,isAnonymous:k,providerData:B,stsTokenManager:q}=n;Ae(w&&q,e,"internal-error");const F=To.fromJSON(this.name,q);Ae(typeof w=="string",e,"internal-error"),Er(r,e.name),Er(l,e.name),Ae(typeof D=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),Er(u,e.name),Er(d,e.name),Er(p,e.name),Er(y,e.name),Er(g,e.name),Er(T,e.name);const ie=new xi({uid:w,auth:e,email:l,emailVerified:D,displayName:r,isAnonymous:k,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:F,createdAt:g,lastLoginAt:T});return B&&Array.isArray(B)&&(ie.providerData=B.map(fe=>({...fe}))),y&&(ie._redirectEventId=y),ie}static async _fromIdTokenResponse(e,n,r=!1){const l=new To;l.updateFromServerResponse(n);const u=new xi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await sh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Ae(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?t1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new To;p.updateFromIdToken(r);const y=new xi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,g),y}}const m_=new Map;function Rs(s){Os(s instanceof Function,"Expected a class definition");let e=m_.get(s);return e?(Os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,m_.set(s,e),e)}class n1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}n1.type="NONE";const cm=n1;function Qc(s,e,n){return`firebase:${s}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Qc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ih(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(Rs(cm),e,r);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||Rs(cm);const d=Qc(r,e.config.apiKey,e.name);let p=null;for(const g of n)try{const T=await g._get(d);if(T){let w;if(typeof T=="string"){const D=await ih(e,{idToken:T}).catch(()=>{});if(!D)break;w=await xi._fromGetAccountInfoResponse(e,D,T)}else w=xi._fromJSON(e,T);g!==u&&(p=w),u=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new So(u,e,r):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new So(u,e,r))}}function p_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l1(e))return"Blackberry";if(u1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||r1(e))&&!e.includes("edge/"))return"Chrome";if(o1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function i1(s=cn()){return/firefox\//i.test(s)}function s1(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r1(s=cn()){return/crios\//i.test(s)}function a1(s=cn()){return/iemobile/i.test(s)}function o1(s=cn()){return/android/i.test(s)}function l1(s=cn()){return/blackberry/i.test(s)}function u1(s=cn()){return/webos/i.test(s)}function Lm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function EA(s=cn()){return Lm(s)&&!!window.navigator?.standalone}function bA(){return kS()&&document.documentMode===10}function c1(s=cn()){return Lm(s)||o1(s)||u1(s)||l1(s)||/windows phone/i.test(s)||a1(s)}function h1(s,e=[]){let n;switch(s){case"Browser":n=p_(cn());break;case"Worker":n=`${p_(cn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}class TA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,p)=>{try{const y=e(u);d(y)}catch(y){p(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function SA(s,e={}){return js(s,"GET","/v2/passwordPolicy",Vr(s,e))}const wA=6;class AA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class xA{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new TA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ih(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Cs(this));const n=e?vn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SA(this),n=new AA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jr(s){return vn(s)}class g_{constructor(e){this.auth=e,this.observer=null,this.addObserver=qS(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RA(s){Th=s}function f1(s){return Th.loadJS(s)}function CA(){return Th.recaptchaEnterpriseScript}function IA(){return Th.gapiScript}function NA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class DA{constructor(){this.enterprise=new OA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MA="recaptcha-enterprise",d1="NO_RECAPTCHA";class kA{constructor(e){this.type=MA,this.auth=jr(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{dA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new fA(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function l(u,d,p){const y=window.grecaptcha;f_(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(d1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!n&&f_(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=CA();y.length!==0&&(y+=p),f1(y).then(()=>{l(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function y_(s,e,n,r=!1,l=!1){const u=new kA(s);let d;if(l)d=d1;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function hm(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await y_(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await y_(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function m1(s,e){const n=Om(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(pa(u,e??{}))return l;mi(l,"already-initialized")}return n.initialize({options:e})}function VA(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function p1(s,e,n){const r=jr(s);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=g1(e),{host:d,port:p}=jA(e),y=p===null?"":`:${p}`,g={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(pa(g,r.config.emulator)&&pa(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Lo(d)?(zv(`${u}//${d}${y}`),Bv("Auth",!0)):PA()}function g1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function jA(s){const e=g1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:__(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:__(d)}}}function __(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function PA(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Sh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function LA(s,e){return js(s,"POST","/v1/accounts:signUp",e)}async function UA(s,e){return fu(s,"POST","/v1/accounts:signInWithPassword",Vr(s,e))}async function zA(s,e){return fu(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}async function BA(s,e){return fu(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}class No extends Sh{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new No(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new No(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,n,"signInWithPassword",UA);case"emailLink":return zA(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,r,"signUpPassword",LA);case"emailLink":return BA(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wo(s,e){return fu(s,"POST","/v1/accounts:signInWithIdp",Vr(s,e))}const qA="http://localhost";class Cr extends Sh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Cr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:qA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}function HA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FA(s){const e=Bl(ql(s)).link,n=e?Bl(ql(e)).deep_link_id:null,r=Bl(ql(s)).deep_link_id;return(r?Bl(ql(r)).link:null)||r||n||e||s}class wh{constructor(e){const n=Bl(ql(e)),r=n.apiKey??null,l=n.oobCode??null,u=HA(n.mode??null);Ae(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=FA(e);try{return new wh(n)}catch{return null}}}class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,n){return No._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wh.parseLink(n);return Ae(r,"argument-error"),No._fromEmailAndCode(e,r.code,r.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Um{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends Um{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ss extends du{constructor(){super("facebook.com")}static credential(e){return Cr._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";class Fi extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";class ws extends du{constructor(){super("github.com")}static credential(e){return Cr._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";class As extends du{constructor(){super("twitter.com")}static credential(e,n){return Cr._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return As.credential(n,r)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";async function GA(s,e){return fu(s,"POST","/v1/accounts:signUp",Vr(s,e))}class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await xi._fromIdTokenResponse(e,r,l),d=v_(r);return new ya({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=v_(r);return new ya({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function v_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class rh extends Vs{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new rh(e,n,r,l)}}function y1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,u,e,r):u})}async function QA(s,e,n=!1){const r=await Io(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ya._forOperation(s,"link",r)}async function KA(s,e,n=!1){const{auth:r}=s;if(Qn(r.app))return Promise.reject(Cs(r));const l="reauthenticate";try{const u=await Io(s,y1(r,l,e,s),n);Ae(u.idToken,r,"internal-error");const d=Pm(u.idToken);Ae(d,r,"internal-error");const{sub:p}=d;return Ae(s.uid===p,r,"user-mismatch"),ya._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&mi(r,"user-mismatch"),u}}async function _1(s,e,n=!1){if(Qn(s.app))return Promise.reject(Cs(s));const r="signIn",l=await y1(s,r,e),u=await ya._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function v1(s,e){return _1(jr(s),e)}async function E1(s){const e=jr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YA(s,e,n){if(Qn(s.app))return Promise.reject(Cs(s));const r=jr(s),d=await hm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GA).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&E1(s),y}),p=await ya._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function XA(s,e,n){return Qn(s.app)?Promise.reject(Cs(s)):v1(vn(s),ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E1(s),r})}async function $A(s,e){return js(s,"POST","/v1/accounts:update",e)}async function JA(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vn(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await Io(r,$A(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function b1(s,e,n,r){return vn(s).onIdTokenChanged(e,n,r)}function T1(s,e,n){return vn(s).beforeAuthStateChanged(e,n)}function S1(s,e,n,r){return vn(s).onAuthStateChanged(e,n,r)}function w1(s){return vn(s).signOut()}const ah="__sak";class A1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZA=1e3,WA=10;class x1 extends A1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);bA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,WA):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x1.type="LOCAL";const R1=x1;class C1 extends A1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C1.type="SESSION";const zm=C1;function e2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async g=>g(n.origin,u)),y=await e2(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function Bm(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class t2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const g=Bm("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const D=w;if(D.data.eventId===g)switch(D.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function n2(s){Qi().location.href=s}function I1(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function i2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){return navigator?.serviceWorker?.controller||null}function r2(){return I1()?self:null}const N1="firebaseLocalStorageDb",a2=1,oh="firebaseLocalStorage",D1="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(s,e){return s.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function o2(){const s=indexedDB.deleteDatabase(N1);return new mu(s).toPromise()}function fm(){const s=indexedDB.open(N1,a2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(oh,{keyPath:D1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),await o2(),e(await fm()))})})}async function E_(s,e,n){const r=xh(s,!0).put({[D1]:e,value:n});return new mu(r).toPromise()}async function l2(s,e){const n=xh(s,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function b_(s,e){const n=xh(s,!0).delete(e);return new mu(n).toPromise()}const u2=800,c2=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(r2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new t2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await E_(e,ah,"1"),await b_(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=xh(l,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const M1=O1;new hu(3e4,6e4);function k1(s,e){return e?Rs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends Sh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h2(s){return _1(s.auth,new qm(s),s.bypassAuthState)}function f2(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),KA(n,new qm(s),s.bypassAuthState)}async function d2(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),QA(n,new qm(s),s.bypassAuthState)}class V1{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h2;case"linkViaPopup":case"linkViaRedirect":return d2;case"reauthViaPopup":case"reauthViaRedirect":return f2;default:mi(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const m2=new hu(2e3,1e4);async function j1(s,e,n){if(Qn(s.app))return Promise.reject(Ci(s,"operation-not-supported-in-this-environment"));const r=jr(s);iA(s,e,Um);const l=k1(r,n);return new fa(r,"signInViaPopup",e,l).executeNotNull()}class fa extends V1{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m2.get())};e()}}fa.currentPopupAction=null;const p2="pendingRedirect",Kc=new Map;class g2 extends V1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y2(s,e){const n=E2(e),r=v2(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function _2(s,e){Kc.set(s._key(),e)}function v2(s){return Rs(s._redirectPersistence)}function E2(s){return Qc(p2,s.config.apiKey,s.name)}async function b2(s,e,n=!1){if(Qn(s.app))return Promise.reject(Cs(s));const r=jr(s),l=k1(r,e),d=await new g2(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const T2=600*1e3;class S2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!P1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T2&&this.cachedEventUids.clear(),this.cachedEventUids.has(T_(e))}saveEventToCache(e){this.cachedEventUids.add(T_(e)),this.lastProcessedEventTime=Date.now()}}function T_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function P1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function w2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(s);default:return!1}}async function A2(s,e={}){return js(s,"GET","/v1/projects",e)}const x2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R2=/^https?/;async function C2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await A2(s);for(const n of e)try{if(I2(n))return}catch{}mi(s,"unauthorized-domain")}function I2(s){const e=lm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!R2.test(n))return!1;if(x2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const N2=new hu(3e4,6e4);function S_(){const s=Qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function D2(s){return new Promise((e,n)=>{function r(){S_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S_(),n(Ci(s,"network-request-failed"))},timeout:N2.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)r();else{const l=NA("iframefcb");return Qi()[l]=()=>{gapi.load?r():n(Ci(s,"network-request-failed"))},f1(`${IA()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function O2(s){return Yc=Yc||D2(s),Yc}const M2=new hu(5e3,15e3),k2="__/auth/iframe",V2="emulator/auth/iframe",j2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?jm(e,V2):`https://${s.config.authDomain}/${k2}`,r={apiKey:e.apiKey,appName:s.name,v:Uo},l=P2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${cu(r).slice(1)}`}async function U2(s){const e=await O2(s),n=Qi().gapi;return Ae(n,s,"internal-error"),e.open({where:document.body,url:L2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ci(s,"network-request-failed"),p=Qi().setTimeout(()=>{u(d)},M2.get());function y(){Qi().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B2=500,q2=600,H2="_blank",F2="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G2(s,e,n,r=B2,l=q2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...z2,width:r.toString(),height:l.toString(),top:u,left:d},g=cn().toLowerCase();n&&(p=r1(g)?H2:n),i1(g)&&(e=e||F2,y.scrollbars="yes");const T=Object.entries(y).reduce((D,[k,B])=>`${D}${k}=${B},`,"");if(EA(g)&&p!=="_self")return Q2(e||"",p),new w_(null);const w=window.open(e||"",p,T);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new w_(w)}function Q2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const K2="__/auth/handler",Y2="emulator/auth/handler",X2=encodeURIComponent("fac");async function A_(s,e,n,r,l,u){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Uo,eventId:l};if(e instanceof Um){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",BS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof du){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),g=y?`#${X2}=${encodeURIComponent(y)}`:"";return`${$2(s)}?${cu(p).slice(1)}${g}`}function $2({config:s}){return s.emulator?jm(s,Y2):`https://${s.authDomain}/${K2}`}const $d="webStorageSupport";class J2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zm,this._completeRedirectFn=b2,this._overrideRedirectResult=_2}async _openPopup(e,n,r,l){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await A_(e,n,r,lm(),l);return G2(e,u,Bm())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await A_(e,n,r,lm(),l);return n2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Os(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U2(e),r=new S2(e);return n.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($d,{type:$d},l=>{const u=l?.[0]?.[$d];u!==void 0&&n(!!u),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c1()||s1()||Lm()}}const L1=J2;var x_="@firebase/auth",R_="1.12.0";class Z2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function W2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ex(s){Co(new ga("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h1(s)},g=new xA(r,l,u,y);return VA(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new ga("auth-internal",e=>{const n=jr(e.getProvider("auth").getImmediate());return(r=>new Z2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(x_,R_,W2(s)),Ar(x_,R_,"esm2020")}const tx=300,nx=Uv("authIdTokenMaxAge")||tx;let C_=null;const ix=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nx)return;const l=n?.token;C_!==l&&(C_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function U1(s=Mm()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const n=m1(s,{popupRedirectResolver:L1,persistence:[M1,R1,zm]}),r=Uv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=ix(u.toString());T1(n,d,()=>d(n.currentUser)),b1(n,p=>d(p))}}const l=Pv("auth");return l&&p1(n,`http://${l}`),n}function sx(){return document.getElementsByTagName("head")?.[0]??document}RA({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ci("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",sx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ex("Browser");const I_=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:wh,AuthCredential:Sh,EmailAuthCredential:No,EmailAuthProvider:ba,FacebookAuthProvider:Ss,GithubAuthProvider:ws,GoogleAuthProvider:Fi,OAuthCredential:Cr,TwitterAuthProvider:As,beforeAuthStateChanged:T1,browserLocalPersistence:R1,browserPopupRedirectResolver:L1,browserSessionPersistence:zm,connectAuthEmulator:p1,createUserWithEmailAndPassword:YA,getAuth:U1,getIdTokenResult:Wv,inMemoryPersistence:cm,indexedDBLocalPersistence:M1,initializeAuth:m1,onAuthStateChanged:S1,onIdTokenChanged:b1,prodErrorMap:Yv,reload:e1,signInWithCredential:v1,signInWithEmailAndPassword:XA,signInWithPopup:j1,signOut:w1,updateProfile:JA},Symbol.toStringTag,{value:"Module"}));var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xr,z1;(function(){var s;function e(R,A){function x(){}x.prototype=A.prototype,R.F=A.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(V,O,j){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return A.prototype[O].apply(V,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,A,x){x||(x=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(O=0;O<16;++O)V[O]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=R.g[0],x=R.g[1],O=R.g[2];let j=R.g[3],C;C=A+(j^x&(O^j))+V[0]+3614090360&4294967295,A=x+(C<<7&4294967295|C>>>25),C=j+(O^A&(x^O))+V[1]+3905402710&4294967295,j=A+(C<<12&4294967295|C>>>20),C=O+(x^j&(A^x))+V[2]+606105819&4294967295,O=j+(C<<17&4294967295|C>>>15),C=x+(A^O&(j^A))+V[3]+3250441966&4294967295,x=O+(C<<22&4294967295|C>>>10),C=A+(j^x&(O^j))+V[4]+4118548399&4294967295,A=x+(C<<7&4294967295|C>>>25),C=j+(O^A&(x^O))+V[5]+1200080426&4294967295,j=A+(C<<12&4294967295|C>>>20),C=O+(x^j&(A^x))+V[6]+2821735955&4294967295,O=j+(C<<17&4294967295|C>>>15),C=x+(A^O&(j^A))+V[7]+4249261313&4294967295,x=O+(C<<22&4294967295|C>>>10),C=A+(j^x&(O^j))+V[8]+1770035416&4294967295,A=x+(C<<7&4294967295|C>>>25),C=j+(O^A&(x^O))+V[9]+2336552879&4294967295,j=A+(C<<12&4294967295|C>>>20),C=O+(x^j&(A^x))+V[10]+4294925233&4294967295,O=j+(C<<17&4294967295|C>>>15),C=x+(A^O&(j^A))+V[11]+2304563134&4294967295,x=O+(C<<22&4294967295|C>>>10),C=A+(j^x&(O^j))+V[12]+1804603682&4294967295,A=x+(C<<7&4294967295|C>>>25),C=j+(O^A&(x^O))+V[13]+4254626195&4294967295,j=A+(C<<12&4294967295|C>>>20),C=O+(x^j&(A^x))+V[14]+2792965006&4294967295,O=j+(C<<17&4294967295|C>>>15),C=x+(A^O&(j^A))+V[15]+1236535329&4294967295,x=O+(C<<22&4294967295|C>>>10),C=A+(O^j&(x^O))+V[1]+4129170786&4294967295,A=x+(C<<5&4294967295|C>>>27),C=j+(x^O&(A^x))+V[6]+3225465664&4294967295,j=A+(C<<9&4294967295|C>>>23),C=O+(A^x&(j^A))+V[11]+643717713&4294967295,O=j+(C<<14&4294967295|C>>>18),C=x+(j^A&(O^j))+V[0]+3921069994&4294967295,x=O+(C<<20&4294967295|C>>>12),C=A+(O^j&(x^O))+V[5]+3593408605&4294967295,A=x+(C<<5&4294967295|C>>>27),C=j+(x^O&(A^x))+V[10]+38016083&4294967295,j=A+(C<<9&4294967295|C>>>23),C=O+(A^x&(j^A))+V[15]+3634488961&4294967295,O=j+(C<<14&4294967295|C>>>18),C=x+(j^A&(O^j))+V[4]+3889429448&4294967295,x=O+(C<<20&4294967295|C>>>12),C=A+(O^j&(x^O))+V[9]+568446438&4294967295,A=x+(C<<5&4294967295|C>>>27),C=j+(x^O&(A^x))+V[14]+3275163606&4294967295,j=A+(C<<9&4294967295|C>>>23),C=O+(A^x&(j^A))+V[3]+4107603335&4294967295,O=j+(C<<14&4294967295|C>>>18),C=x+(j^A&(O^j))+V[8]+1163531501&4294967295,x=O+(C<<20&4294967295|C>>>12),C=A+(O^j&(x^O))+V[13]+2850285829&4294967295,A=x+(C<<5&4294967295|C>>>27),C=j+(x^O&(A^x))+V[2]+4243563512&4294967295,j=A+(C<<9&4294967295|C>>>23),C=O+(A^x&(j^A))+V[7]+1735328473&4294967295,O=j+(C<<14&4294967295|C>>>18),C=x+(j^A&(O^j))+V[12]+2368359562&4294967295,x=O+(C<<20&4294967295|C>>>12),C=A+(x^O^j)+V[5]+4294588738&4294967295,A=x+(C<<4&4294967295|C>>>28),C=j+(A^x^O)+V[8]+2272392833&4294967295,j=A+(C<<11&4294967295|C>>>21),C=O+(j^A^x)+V[11]+1839030562&4294967295,O=j+(C<<16&4294967295|C>>>16),C=x+(O^j^A)+V[14]+4259657740&4294967295,x=O+(C<<23&4294967295|C>>>9),C=A+(x^O^j)+V[1]+2763975236&4294967295,A=x+(C<<4&4294967295|C>>>28),C=j+(A^x^O)+V[4]+1272893353&4294967295,j=A+(C<<11&4294967295|C>>>21),C=O+(j^A^x)+V[7]+4139469664&4294967295,O=j+(C<<16&4294967295|C>>>16),C=x+(O^j^A)+V[10]+3200236656&4294967295,x=O+(C<<23&4294967295|C>>>9),C=A+(x^O^j)+V[13]+681279174&4294967295,A=x+(C<<4&4294967295|C>>>28),C=j+(A^x^O)+V[0]+3936430074&4294967295,j=A+(C<<11&4294967295|C>>>21),C=O+(j^A^x)+V[3]+3572445317&4294967295,O=j+(C<<16&4294967295|C>>>16),C=x+(O^j^A)+V[6]+76029189&4294967295,x=O+(C<<23&4294967295|C>>>9),C=A+(x^O^j)+V[9]+3654602809&4294967295,A=x+(C<<4&4294967295|C>>>28),C=j+(A^x^O)+V[12]+3873151461&4294967295,j=A+(C<<11&4294967295|C>>>21),C=O+(j^A^x)+V[15]+530742520&4294967295,O=j+(C<<16&4294967295|C>>>16),C=x+(O^j^A)+V[2]+3299628645&4294967295,x=O+(C<<23&4294967295|C>>>9),C=A+(O^(x|~j))+V[0]+4096336452&4294967295,A=x+(C<<6&4294967295|C>>>26),C=j+(x^(A|~O))+V[7]+1126891415&4294967295,j=A+(C<<10&4294967295|C>>>22),C=O+(A^(j|~x))+V[14]+2878612391&4294967295,O=j+(C<<15&4294967295|C>>>17),C=x+(j^(O|~A))+V[5]+4237533241&4294967295,x=O+(C<<21&4294967295|C>>>11),C=A+(O^(x|~j))+V[12]+1700485571&4294967295,A=x+(C<<6&4294967295|C>>>26),C=j+(x^(A|~O))+V[3]+2399980690&4294967295,j=A+(C<<10&4294967295|C>>>22),C=O+(A^(j|~x))+V[10]+4293915773&4294967295,O=j+(C<<15&4294967295|C>>>17),C=x+(j^(O|~A))+V[1]+2240044497&4294967295,x=O+(C<<21&4294967295|C>>>11),C=A+(O^(x|~j))+V[8]+1873313359&4294967295,A=x+(C<<6&4294967295|C>>>26),C=j+(x^(A|~O))+V[15]+4264355552&4294967295,j=A+(C<<10&4294967295|C>>>22),C=O+(A^(j|~x))+V[6]+2734768916&4294967295,O=j+(C<<15&4294967295|C>>>17),C=x+(j^(O|~A))+V[13]+1309151649&4294967295,x=O+(C<<21&4294967295|C>>>11),C=A+(O^(x|~j))+V[4]+4149444226&4294967295,A=x+(C<<6&4294967295|C>>>26),C=j+(x^(A|~O))+V[11]+3174756917&4294967295,j=A+(C<<10&4294967295|C>>>22),C=O+(A^(j|~x))+V[2]+718787259&4294967295,O=j+(C<<15&4294967295|C>>>17),C=x+(j^(O|~A))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+j&4294967295}r.prototype.v=function(R,A){A===void 0&&(A=R.length);const x=A-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=x;)l(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<A;)if(V[O++]=R.charCodeAt(j++),O==this.blockSize){l(this,V),O=0;break}}else for(;j<A;)if(V[O++]=R[j++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)R[A++]=this.g[x]>>>V&255;return R};function u(R,A){var x=p;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=A(R)}function d(R,A){this.h=A;const x=[];let V=!0;for(let O=R.length-1;O>=0;O--){const j=R[O]|0;V&&j==A||(x[O]=j,V=!1)}this.g=x}var p={};function y(R){return-128<=R&&R<128?u(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return F(g(-R));const A=[];let x=1;for(let V=0;R>=x;V++)A[V]=R/x|0,x*=4294967296;return new d(A,0)}function T(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return F(T(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(A,8));let V=w;for(let j=0;j<R.length;j+=8){var O=Math.min(8,R.length-j);const C=parseInt(R.substring(j,j+O),A);O<8?(O=g(Math.pow(A,O)),V=V.j(O).add(g(C))):(V=V.j(x),V=V.add(g(C)))}return V}var w=y(0),D=y(1),k=y(16777216);s=d.prototype,s.m=function(){if(q(this))return-F(this).m();let R=0,A=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);R+=(V>=0?V:4294967296+V)*A,A*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(B(this))return"0";if(q(this))return"-"+F(this).toString(R);const A=g(Math.pow(R,6));var x=this;let V="";for(;;){const O=Me(x,A).g;x=ie(x,O.j(A));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=O,B(x))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function B(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function q(R){return R.h==-1}s.l=function(R){return R=ie(this,R),q(R)?-1:B(R)?0:1};function F(R){const A=R.g.length,x=[];for(let V=0;V<A;V++)x[V]=~R.g[V];return new d(x,~R.h).add(D)}s.abs=function(){return q(this)?F(this):this},s.add=function(R){const A=Math.max(this.g.length,R.g.length),x=[];let V=0;for(let O=0;O<=A;O++){let j=V+(this.i(O)&65535)+(R.i(O)&65535),C=(j>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);V=C>>>16,j&=65535,C&=65535,x[O]=C<<16|j}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ie(R,A){return R.add(F(A))}s.j=function(R){if(B(this)||B(R))return w;if(q(this))return q(R)?F(this).j(F(R)):F(F(this).j(R));if(q(R))return F(this.j(F(R)));if(this.l(k)<0&&R.l(k)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,x=[];for(var V=0;V<2*A;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<R.g.length;O++){const j=this.i(V)>>>16,C=this.i(V)&65535,Xe=R.i(O)>>>16,et=R.i(O)&65535;x[2*V+2*O]+=C*et,fe(x,2*V+2*O),x[2*V+2*O+1]+=j*et,fe(x,2*V+2*O+1),x[2*V+2*O+1]+=C*Xe,fe(x,2*V+2*O+1),x[2*V+2*O+2]+=j*Xe,fe(x,2*V+2*O+2)}for(R=0;R<A;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=A;R<2*A;R++)x[R]=0;return new d(x,0)};function fe(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function pe(R,A){this.g=R,this.h=A}function Me(R,A){if(B(A))throw Error("division by zero");if(B(R))return new pe(w,w);if(q(R))return A=Me(F(R),A),new pe(F(A.g),F(A.h));if(q(A))return A=Me(R,F(A)),new pe(F(A.g),A.h);if(R.g.length>30){if(q(R)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var x=D,V=A;V.l(R)<=0;)x=Se(x),V=Se(V);var O=we(x,1),j=we(V,1);for(V=we(V,2),x=we(x,2);!B(V);){var C=j.add(V);C.l(R)<=0&&(O=O.add(x),j=C),V=we(V,1),x=we(x,1)}return A=ie(R,O.j(A)),new pe(O,A)}for(O=w;R.l(A)>=0;){for(x=Math.max(1,Math.floor(R.m()/A.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=g(x),C=j.j(A);q(C)||C.l(R)>0;)x-=V,j=g(x),C=j.j(A);B(j)&&(j=D),O=O.add(j),R=ie(R,C)}return new pe(O,R)}s.B=function(R){return Me(this,R).h},s.and=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)&R.i(V);return new d(x,this.h&R.h)},s.or=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)|R.i(V);return new d(x,this.h|R.h)},s.xor=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)^R.i(V);return new d(x,this.h^R.h)};function Se(R){const A=R.g.length+1,x=[];for(let V=0;V<A;V++)x[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(x,R.h)}function we(R,A){const x=A>>5;A%=32;const V=R.g.length-x,O=[];for(let j=0;j<V;j++)O[j]=A>0?R.i(j+x)>>>A|R.i(j+x+1)<<32-A:R.i(j+x);return new d(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,z1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,xr=d}).apply(typeof N_<"u"?N_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var B1,Hl,q1,Xc,dm,H1,F1,G1;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function g(c,m,v){return g=y,g.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,G){for(var ue=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ue[Ve-2]=arguments[Ve];return m.prototype[L].apply(S,ue)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function B(c,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const G=L.length||0;c.length=v+G;for(let ue=0;ue<G;ue++)c[v+ue]=L[ue]}else c.push(L)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(c){d.setTimeout(()=>{throw c},0)}function ie(){var c=R;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,v){const S=pe.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pe=new q(()=>new Me,c=>c.reset());class Me{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,we=!1,R=new fe,A=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(x)}};function x(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){F(v)}var m=pe;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}we=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Xe(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(Xe,O),Xe.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),K=0;function Y(c,m,v,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++K,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function Re(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function I(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let G=0;G<X.length;G++)v=X[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,m,v,S,L){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ue=_e(c,m,S,L);return ue>-1?(m=c[ue],v||(m.fa=!1)):(m=new Y(m,this.src,G,!!S,L),m.fa=v,c.push(m)),m};function he(c,m){const v=m.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,m,void 0),G;(G=L>=0)&&Array.prototype.splice.call(S,L,1),G&&(se(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _e(c,m,v,S){for(let L=0;L<c.length;++L){const G=c[L];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==S)return L}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),ze={};function it(c,m,v,S,L){if(Array.isArray(m)){for(let G=0;G<m.length;G++)it(c,m[G],v,S,L);return null}return v=ke(v),c&&c[et]?c.J(m,v,p(S)?!!S.capture:!1,L):Nn(c,m,v,!1,S,L)}function Nn(c,m,v,S,L,G){if(!m)throw Error("Invalid event type");const ue=p(L)?!!L.capture:!!L;let Ve=On(c);if(Ve||(c[ve]=Ve=new le(c)),v=Ve.add(m,v,S,ue,G),v.proxy)return v;if(S=Kn(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)j||(L=ue),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(Yt(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kn(){function c(v){return m.call(c.src,c.listener,v)}const m=Ii;return c}function Dn(c,m,v,S,L){if(Array.isArray(m))for(var G=0;G<m.length;G++)Dn(c,m[G],v,S,L);else S=p(S)?!!S.capture:!!S,v=ke(v),c&&c[et]?(c=c.i,G=String(m).toString(),G in c.g&&(m=c.g[G],v=_e(m,v,S,L),v>-1&&(se(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[G],c.h--)))):c&&(c=On(c))&&(m=c.g[m.toString()],c=-1,m&&(c=_e(m,v,S,L)),(v=c>-1?m[c]:null)&&pi(v))}function pi(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[et])he(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(Yt(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=On(m))?(he(v,c),v.h==0&&(v.src=null,m[ve]=null)):se(c)}}}function Yt(c){return c in ze?ze[c]:ze[c]="on"+c}function Ii(c,m){if(c.da)c=!0;else{m=new Xe(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&pi(c),c=v.call(S,m)}return c}function On(c){return c=c[ve],c instanceof le?c:null}var Mn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ke(c){return typeof c=="function"?c:(c[Mn]||(c[Mn]=function(m){return c.handleEvent(m)}),c[Mn])}function Oe(){V.call(this),this.i=new le(this),this.M=this,this.G=null}w(Oe,V),Oe.prototype[et]=!0,Oe.prototype.removeEventListener=function(c,m,v,S){Dn(this,c,m,v,S)};function Qe(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(S,c),re(m,L)}L=!0;let G,ue;if(v)for(ue=v.length-1;ue>=0;ue--)G=m.g=v[ue],L=zt(G,S,!0,m)&&L;if(G=m.g=c,L=zt(G,S,!0,m)&&L,L=zt(G,S,!1,m)&&L,v)for(ue=0;ue<v.length;ue++)G=m.g=v[ue],L=zt(G,S,!1,m)&&L}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)se(v[S]);delete c.g[m],c.h--}}this.G=null},Oe.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},Oe.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function zt(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let G=0;G<m.length;++G){const ue=m[G];if(ue&&!ue.da&&ue.capture==v){const Ve=ue.listener,Rt=ue.ha||ue.src;ue.fa&&he(c.i,ue),L=Ve.call(Rt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Yn(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Ps(c){c.g=Yn(()=>{c.g=null,c.i&&(c.i=!1,Ps(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Gt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(c){V.call(this),this.h=c,this.g={}}w(Dt,V);var hn=[];function Pr(c){ce(c.g,function(m,v){this.g.hasOwnProperty(v)&&pi(m)},c),c.g={}}Dt.prototype.N=function(){Dt.Z.N.call(this),Pr(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=d.JSON.stringify,Fo=d.JSON.parse,Lr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ur(){}function Wi(){}var fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ot(){O.call(this,"d")}w(ot,O);function dn(){O.call(this,"c")}w(dn,O);var vt={},xa=null;function gi(){return xa=xa||new Oe}vt.Ia="serverreachability";function Ls(c){O.call(this,vt.Ia,c)}w(Ls,O);function mn(c){const m=gi();Qe(m,new Ls(m))}vt.STAT_EVENT="statevent";function Di(c,m){O.call(this,vt.STAT_EVENT,c),this.stat=m}w(Di,O);function St(c){const m=gi();Qe(m,new Di(m,c))}vt.Ja="timingevent";function kn(c,m){O.call(this,vt.Ja,c),this.size=m}w(kn,O);function En(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function bn(){this.g=!0}bn.prototype.ua=function(){this.g=!1};function Ra(c,m,v,S,L,G){c.info(function(){if(c.g)if(G){var ue="",Ve=G.split("&");for(let tt=0;tt<Ve.length;tt++){var Rt=Ve[tt].split("=");if(Rt.length>1){const yt=Rt[0];Rt=Rt[1];const ii=yt.split("_");ue=ii.length>=2&&ii[1]=="type"?ue+(yt+"="+Rt+"&"):ue+(yt+"=redacted&")}}}else ue=null;else ue=G;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+ue})}function Ca(c,m,v,S,L,G,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+G+" "+ue})}function Xn(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Go(c,v)+(S?" "+S:"")})}function es(c,m){c.info(function(){return"TIMEOUT: "+m})}bn.prototype.info=function(){};function Go(c,m){if(!c.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return Ni(G)}catch{return m}}var ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ns;function is(){}w(is,Ur),is.prototype.g=function(){return new XMLHttpRequest},ns=new is;function yi(c){return encodeURIComponent(String(c))}function Ia(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function jn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new Dt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var wt={},Ot={};function $n(c,m,v){c.M=1,c.A=Ie(bt(m)),c.u=v,c.R=!0,Us(c,null)}function Us(c,m){c.F=Date.now(),Jn(c),c.B=bt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Va(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Pn,c.g=Du(c.j,v?m:null,!c.u),c.P>0&&(c.O=new Gt(g(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(hn[0]=L.toString()),L=hn);for(let G=0;G<L.length;G++){const ue=it(v,L[G],S||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=c.J?I(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),mn(),Ra(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Ei(c)==3?m.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=Ei(this.g),Rt=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ve!=4||Rt==7||(Rt==8||tt<=0?mn(3):mn(2)),Zn(this);var m=this.g.ca();this.X=m;var v=Na(this);if(this.o=m==200,Ca(this.i,this.v,this.B,this.l,this.S,Ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var G=S;break t}}G=null}if(c=G)Xn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ln(this,c);else{this.o=!1,this.m=3,St(12),pn(this),Tn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=Oa(this,v),yt==Ot){Ve==4&&(this.m=4,St(14),c=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==wt){this.m=4,St(15),Xn(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Xn(this.i,this.l,yt,null),Ln(this,yt);if(Da(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)Xn(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Tn(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(ue),ue.P=!0,St(11))}}else Xn(this.i,this.l,v,null),Ln(this,v);Ve==4&&pn(this),this.o&&!this.K&&(Ve==4?Ru(this.j,this):(this.o=!1,Jn(this)))}else rs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),pn(this),Tn(this)}}}catch{}finally{}};function Na(c){if(!Da(c))return c.g.la();const m=Xt(c.g);if(m==="")return"";let v="";const S=m.length,L=Ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Tn(c),"";c.h.i=new d.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(m[G],{stream:!(L&&G==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Da(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Oa(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Ot:(v=Number(m.substring(v,S)),isNaN(v)?wt:(S+=1,S+v>m.length?Ot:(m=m.slice(S,S+v),c.C=S+v,m)))}jn.prototype.cancel=function(){this.K=!0,pn(this)};function Jn(c){c.T=Date.now()+c.H,zs(c,c.H)}function zs(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=En(g(c.aa,c),m)}function Zn(c){c.D&&(d.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(es(this.i,this.B),this.M!=2&&(mn(),St(17)),pn(this),this.m=2,Tn(this)):zs(this,this.T-c)};function Tn(c){c.j.I==0||c.K||Ru(c.j,c)}function pn(c){Zn(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Pr(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ln(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ei(v.h,c))){if(!c.L&&ei(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)za(v),$s(v);else break e;Yr(v),St(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=En(g(v.Va,v),6e3));Wn(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((c.L||v.g==c)&&za(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let tt=L[m];const yt=tt[0];if(!(yt<=v.K))if(v.K=yt,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const ii=tt[3];ii!=null&&(v.ka=ii,v.j.info("VER="+v.ka));const Pi=tt[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const bi=tt[5];bi!=null&&typeof bi=="number"&&bi>0&&(S=1.5*bi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Ti=c.g;if(Ti){const Xr=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var G=S.h;G.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(qs(G,G.h),G.h=null))}if(S.G){const Ba=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(S.wa=Ba,ae(S.J,S.G,Ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ue=c;if(S.na=Nu(S,S.L?S.ba:null,S.W),ue.L){Br(S.h,ue);var Ve=ue,Rt=S.O;Rt&&(Ve.H=Rt),Ve.D&&(Zn(Ve),Jn(Ve)),S.g=ue}else Au(S);v.i.length>0&&Vi(v)}else tt[0]!="stop"&&tt[0]!="close"||ji(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?ji(v,7):Zo(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}mn(4)}catch{}}var Et=class{constructor(c,m){this.g=c,this.map=m}};function Bs(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Wn(c){return c.h?1:c.g?c.g.size:0}function ei(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function qs(c,m){c.g?c.g.add(m):c.h=m}function Br(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Bs.prototype.cancel=function(){if(this.i=qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qr(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return k(c.i)}var Ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,G=null;S>=0?(L=c[v].substring(0,S),G=c[v].substring(S+1)):L=c[v],m(L,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof sn?(this.l=c.l,Mt(this,c.j),this.o=c.o,this.g=c.g,W(this,c.u),this.h=c.h,oe(this,Su(c.i)),this.m=c.m):c&&(m=String(c).match(Ma))?(this.l=!1,Mt(this,m[1]||"",!0),this.o=$e(m[2]||""),this.g=$e(m[3]||"",!0),W(this,m[4]),this.h=$e(m[5]||"",!0),oe(this,m[6]||"",!0),this.m=$e(m[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}sn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(gn(m,ka,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(gn(m,ka,!0),"@"),c.push(yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gn(v,v.charAt(0)=="/"?Qo:Eu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gn(v,bu)),c.join("")},sn.prototype.resolve=function(c){const m=bt(this);let v=!!c.j;v?Mt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)W(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const G=[];for(let ue=0;ue<L.length;){const Ve=L[ue++];Ve=="."?S&&ue==L.length&&G.push(""):Ve==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ue==L.length&&G.push("")):(G.push(Ve),S=!0)}S=G.join("/")}else S=L}return v?m.h=S:v=c.i.toString()!=="",v?oe(m,Su(c.i)):v=!!c.m,v&&(m.m=c.m),m};function bt(c){return new sn(c)}function Mt(c,m,v){c.j=v?$e(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function W(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function oe(c,m,v){m instanceof Gs?(c.i=m,ja(c.i,c.l)):(v||(m=gn(m,Fs)),c.i=new Gs(m,c.l))}function ae(c,m,v){c.i.set(m,v)}function Ie(c){return ae(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function $e(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gn(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ka=/[#\/\?@]/g,Eu=/[#\?:]/g,Qo=/[#\?]/g,Fs=/[#\?@]/g,bu=/#/g;function Gs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hs(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Gs.prototype,s.add=function(c,m){Sn(this),this.i=null,c=Qs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Tu(c,m){Sn(c),m=Qs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ko(c,m){return Sn(c),m=Qs(c,m),c.g.has(m)}s.forEach=function(c,m){Sn(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(m,L,S,this)},this)},this)};function Yo(c,m){Sn(c);let v=[];if(typeof m=="string")Ko(c,m)&&(v=v.concat(c.g.get(Qs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return Sn(this),this.i=null,c=Qs(this,c),Ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Yo(this,c),c.length>0?String(c[0]):m):m};function Va(c,m,v){Tu(c,m),v.length>0&&(c.i=null,c.g.set(Qs(c,m),k(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=yi(v);v=Yo(this,v);for(let G=0;G<v.length;G++){let ue=L;v[G]!==""&&(ue+="="+yi(v[G])),c.push(ue)}}return this.i=c.join("&")};function Su(c){const m=new Gs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Qs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ja(c,m){m&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(Tu(this,S),Va(this,L,v))},c)),c.j=m}function _i(c,m){const v=new bn;if(d.Image){const S=new Image;S.onload=T(ti,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(ti,v,"TestLoadImage: error",!1,m,S),S.onabort=T(ti,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(ti,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Xo(c,m){const v=new bn,S=new AbortController,L=setTimeout(()=>{S.abort(),ti(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(L),G.ok?ti(v,"TestPingServer: ok",!0,m):ti(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ti(v,"TestPingServer: error",!1,m)})}function ti(c,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Ks(){this.g=new Lr}function Oi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Oi,Ur),Oi.prototype.g=function(){return new Hr(this.i,this.h)};function Hr(c,m){Oe.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Hr,Oe),s=Hr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,vi(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ys(this):vi(this),this.readyState==3&&Pa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ys(this))},s.Na=function(c){this.g&&(this.response=c,Ys(this))},s.ga=function(){this.g&&Ys(this)};function Ys(c){c.readyState=4,c.l=null,c.j=null,c.B=null,vi(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ni(c){let m="";return ce(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Fr(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=ni(v),typeof c=="string"?v!=null&&yi(v):ae(c,m,v))}function lt(c){Oe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(lt,Oe);var Mi=/^https?$/i,$o=["POST","PUT"];s=lt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ns.g(),this.g.onreadystatechange=D(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(G){Gr(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call($o,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of v)this.g.setRequestHeader(G,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Gr(this,G)}};function Gr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Jo(c),ss(c)}function Jo(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Qe(this,"complete"),Qe(this,"abort"),ss(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},s.Xa=function(){Qr(this)};function Qr(c){if(c.h&&typeof u<"u"){if(c.v&&Ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(Qe(c,"readystatechange"),Ei(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=G===0){let ue=String(c.D).match(Ma)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),S=!Mi.test(ue?ue.toLowerCase():"")}v=S}if(v)Qe(c,"complete"),Qe(c,"success");else{c.o=6;try{var L=Ei(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Jo(c)}}finally{ss(c)}}}}function ss(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Qe(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ei(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Fo(m)}};function Xt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(c){const m={};c=(c.g&&Ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=Ia(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[L]||[];m[L]=G,G.push(v)}Re(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Xs(c){this.za=0,this.i=[],this.j=new bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,c),this.Za=ki("retryDelaySeedMs",1e4,c),this.Ta=ki("forwardChannelMaxRetries",2,c),this.va=ki("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Bs(c&&c.concurrentRequestLimit),this.Ba=new Ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Xs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){St(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Nu(this,null,this.W),Vi(this)};function Zo(c){if(La(c),c.I==3){var m=c.V++,v=bt(c.J);if(ae(v,"SID",c.M),ae(v,"RID",m),ae(v,"TYPE","terminate"),Kr(c,v),m=new jn(c,c.j,m),m.M=2,m.A=Ie(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Jn(m)}Iu(c)}function $s(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function La(c){$s(c),c.v&&(d.clearTimeout(c.v),c.v=null),za(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Vi(c){if(!zr(c.h)&&!c.m){c.m=!0;var m=c.Ea;Se||A(),we||(Se(),we=!0),R.add(m,c),c.D=0}}function Ua(c,m){return Wn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=En(g(c.Ea,c,m),Cu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new jn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=I(G),re(G,this.U)):G=this.U),this.u!==null||this.R||(L.J=G,G=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=wu(this,L,m),v=bt(this.J),ae(v,"RID",c),ae(v,"CVER",22),this.G&&ae(v,"X-HTTP-Session-Id",this.G),Kr(this,v),G&&(this.R?m="headers="+yi(ni(G))+"&"+m:this.u&&Fr(v,this.u,G)),qs(this.h,L),this.Ra&&ae(v,"TYPE","init"),this.S?(ae(v,"$req",m),ae(v,"SID","null"),L.U=!0,$n(L,v,null)):$n(L,v,m),this.I=2}}else this.I==3&&(c?Wo(this,c):this.i.length==0||zr(this.h)||Wo(this))};function Wo(c,m){var v;m?v=m.l:v=c.V++;const S=bt(c.J);ae(S,"SID",c.M),ae(S,"RID",v),ae(S,"AID",c.K),Kr(c,S),c.u&&c.o&&Fr(S,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=wu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qs(c.h,v),$n(v,S,m)}function Kr(c,m){c.H&&ce(c.H,function(v,S){ae(m,S,v)}),c.l&&ce({},function(v,S){ae(m,S,v)})}function wu(c,m,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ve=-1;for(;;){const Rt=["count="+v];Ve==-1?v>0?(Ve=L[0].g,Rt.push("ofs="+Ve)):Ve=0:Rt.push("ofs="+Ve);let tt=!0;for(let yt=0;yt<v;yt++){var G=L[yt].g;const ii=L[yt].map;if(G-=Ve,G<0)Ve=Math.max(0,L[yt].g-100),tt=!1;else try{G="req"+G+"_"||"";try{var ue=ii instanceof Map?ii:Object.entries(ii);for(const[Pi,bi]of ue){let Ti=bi;p(bi)&&(Ti=Ni(bi)),Rt.push(G+Pi+"="+encodeURIComponent(Ti))}}catch(Pi){throw Rt.push(G+"type="+encodeURIComponent("_badmap")),Pi}}catch{S&&S(ii)}}if(tt){ue=Rt.join("&");break e}}ue=void 0}return c=c.i.splice(0,v),m.G=c,ue}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Se||A(),we||(Se(),we=!0),R.add(m,c),c.A=0}}function Yr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=En(g(c.Da,c),Cu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=En(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),$s(this),xu(this))};function el(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=bt(c.na);ae(m,"RID","rpc"),ae(m,"SID",c.M),ae(m,"AID",c.K),ae(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&ae(m,"TO",c.ia),ae(m,"TYPE","xmlhttp"),Kr(c,m),c.u&&c.o&&Fr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ie(bt(m)),v.u=null,v.R=!0,Us(v,c)}s.Va=function(){this.C!=null&&(this.C=null,$s(this),Yr(this),St(19))};function za(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ru(c,m){var v=null;if(c.g==m){za(c),el(c),c.g=null;var S=2}else if(ei(c.h,m))v=m.G,Br(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;S=gi(),Qe(S,new kn(S,v)),Vi(c)}else Au(c);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&Ua(c,m)||S==2&&Yr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Cu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function ji(c,m){if(c.j.info("Error code "+m),m==2){var v=g(c.bb,c),S=c.Ua;const L=!S;S=new sn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Mt(S,"https"),Ie(S),L?_i(S.toString(),v):Xo(S.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(m),Iu(c),La(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const m=qr(c.h);(m.length!=0||c.i.length!=0)&&(B(c.ja,m),B(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Nu(c,m,v){var S=v instanceof sn?bt(v):new sn(v);if(S.g!="")m&&(S.g=m+"."+S.g),W(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const G=new sn(null);S&&Mt(G,S),m&&(G.g=m),L&&W(G,L),v&&(G.h=v),S=G}return v=c.G,m=c.wa,v&&m&&ae(S,v,m),ae(S,"VER",c.ka),Kr(c,S),S}function Du(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new lt(new Oi({ab:v})):new lt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}s=Ou.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Js(){}Js.prototype.g=function(c,m){return new yn(c,m)};function yn(c,m){Oe.call(this),this.g=new Xs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new as(this)}w(yn,Oe),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Zo(this.g)},yn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ni(c),c=v);m.i.push(new Et(m.Ya++,c)),m.I==3&&Vi(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,yn.Z.N.call(this)};function Mu(c){ot.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Mu,ot);function ku(){dn.call(this),this.status=1}w(ku,dn);function as(c){this.g=c}w(as,Ou),as.prototype.ra=function(){Qe(this.g,"a")},as.prototype.qa=function(c){Qe(this.g,new Mu(c))},as.prototype.pa=function(c){Qe(this.g,new ku)},as.prototype.oa=function(){Qe(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,G1=function(){return new Js},F1=function(){return gi()},H1=vt,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Xc=ts,Vn.COMPLETE="complete",q1=Vn,Wi.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",Oe.prototype.listen=Oe.prototype.J,Hl=Wi,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,B1=lt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",O_="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let zo="12.7.0";const _a=new Nm("@firebase/firestore");function _o(){return _a.logLevel}function de(s,...e){if(_a.logLevel<=He.DEBUG){const n=e.map(Hm);_a.debug(`Firestore (${zo}): ${s}`,...n)}}function Ms(s,...e){if(_a.logLevel<=He.ERROR){const n=e.map(Hm);_a.error(`Firestore (${zo}): ${s}`,...n)}}function Do(s,...e){if(_a.logLevel<=He.WARN){const n=e.map(Hm);_a.warn(`Firestore (${zo}): ${s}`,...n)}}function Hm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function xe(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Q1(s,r,n)}function Q1(s,e,n){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ms(r),new Error(r)}function st(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||Q1(e,l,r)}function De(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class K1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ox{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Is,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Is)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new K1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class lx{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ux{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=hx(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Fe(s,e){return s<e?-1:s>e?1:0}function mm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Jd(l)===Jd(u)?Fe(l,u):Jd(l)?1:-1}return Fe(s.length,e.length)}const fx=55296,dx=57343;function Jd(s){const e=s.charCodeAt(0);return e>=fx&&e<=dx}function Oo(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const k_="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Hi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),l=Hi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class pt extends Hi{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const mx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Hi{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return mx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new tn([k_])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(pt.fromString(e))}static fromName(e){return new be(pt.fromString(e).popFirst(5))}static empty(){return new be(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new pt(e.slice()))}}function Y1(s,e,n){if(!n)throw new ye(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function px(s,e,n,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function V_(s){if(!be.isDocumentKey(s))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function j_(s){if(be.isDocumentKey(s))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function X1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Gm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":xe(12329,{type:typeof s})}function va(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(s);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ut(s,e){const n={typeString:s};return e&&(n.value=e),n}function pu(s,e){if(!X1(s))throw new ye(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ye(ne.INVALID_ARGUMENT,n);return!0}const P_=-62135596800,L_=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*L_);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P_)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ut("string",gt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new gt(0,0))}static max(){return new Ce(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function gx(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ce.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Ir(l,be.empty(),e)}function yx(s){return new Ir(s.readTime,s.key,tu)}class Ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(Ce.min(),be.empty(),tu)}static max(){return new Ir(Ce.max(),be.empty(),tu)}}function _x(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(s.documentKey,e.documentKey),n!==0?n:Fe(s.largestBatchId,e.largestBatchId))}const vx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bo(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==vx)throw s;de("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(y=>r(y)))})),d=!0,u===l&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((l=>l?ee.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next((T=>{d[g]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new ee(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function bx(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(s){return s.name==="IndexedDbTransactionError"}class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;const Qm=-1;function Ch(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function Tx(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const $1="";function Sx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=U_(e)),e=wx(s.get(n),e);return U_(e)}function wx(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case $1:n+="";break;default:n+=u}}return n}function U_(s){return s+$1+""}function z_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ta(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function J1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Tt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??en.RED,this.left=l??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new en(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ri{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ri([])}unionWith(e){let n=new Ft(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Z1("Invalid base64 string: "+u):u}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Ax=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const n=Ax.exec(s);if(st(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(s.seconds),nanos:Nt(s.nanos)}}function Nt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const W1="server_timestamp",eE="__type__",tE="__previous_value__",nE="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[eE]?.stringValue===W1}function Ih(s){const e=s.mapValue.fields[tE];return Km(e)?Ih(e):e}function nu(s){const e=Nr(s.mapValue.fields[nE].timestampValue);return new gt(e.seconds,e.nanos)}class xx{constructor(e,n,r,l,u,d,p,y,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=T}}const uh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const iE="__type__",Rx="__max__",Bc={mapValue:{}},sE="__vector__",ch="value";function Or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:Ix(s)?9007199254740991:Cx(s)?10:11:xe(28295,{value:s})}function Ji(s,e){if(s===e)return!0;const n=Or(s);if(n!==Or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return nu(s).isEqual(nu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Nr(l.timestampValue),p=Nr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return Dr(l.bytesValue).isEqual(Dr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Nt(l.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(l.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Nt(l.integerValue)===Nt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Nt(l.doubleValue),p=Nt(u.doubleValue);return d===p?lh(d)===lh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Oo(s.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(z_(d)!==z_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ji(d[y],p[y])))return!1;return!0})(s,e);default:return xe(52216,{left:s})}}function su(s,e){return(s.values||[]).find((n=>Ji(n,e)))!==void 0}function Mo(s,e){if(s===e)return 0;const n=Or(s),r=Or(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Nt(u.integerValue||u.doubleValue),y=Nt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return q_(s.timestampValue,e.timestampValue);case 4:return q_(nu(s),nu(e));case 5:return mm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=Dr(u),y=Dr(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const T=Fe(p[g],y[g]);if(T!==0)return T}return Fe(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Fe(Nt(u.latitude),Nt(d.latitude));return p!==0?p:Fe(Nt(u.longitude),Nt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return H_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},y=d.fields||{},g=p[ch]?.arrayValue,T=y[ch]?.arrayValue,w=Fe(g?.values?.length||0,T?.values?.length||0);return w!==0?w:H_(g,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Bc.mapValue&&d===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(d===Bc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),g=d.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const D=mm(y[w],T[w]);if(D!==0)return D;const k=Mo(p[y[w]],g[T[w]]);if(k!==0)return k}return Fe(y.length,T.length)})(s.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const n=Nr(s),r=Nr(e),l=Fe(n.seconds,r.seconds);return l!==0?l:Fe(n.nanos,r.nanos)}function H_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=Mo(n[l],r[l]);if(u)return u}return Fe(n.length,r.length)}function ko(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Nr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Dr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return be.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=pm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${pm(n.fields[d])}`;return l+"}"})(s.mapValue):xe(61005,{value:s})}function $c(s){switch(Or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+$c(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+$c(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Ta(r.fields,((u,d)=>{l+=u.length+$c(d)})),l})(s.mapValue);default:throw xe(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function F_(s){return!!s&&"nullValue"in s}function G_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function Cx(s){return(s?.mapValue?.fields||{})[iE]?.stringValue===sE}function Xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ta(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(s.arrayValue.values[n]);return e}return{...s}}function Ix(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Rx}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=tn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Xl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new fi(Xl(this.value))}}function rE(s){const e=[];return Ta(s.fields,((n,r)=>{const l=new tn([n]);if(Jc(r)){const u=rE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Ri(e)}class un{constructor(e,n,r,l,u,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),fi.empty(),0)}static newFoundDocument(e,n,r,l){return new un(e,1,n,Ce.min(),r,l,0)}static newNoDocument(e,n){return new un(e,2,n,Ce.min(),Ce.min(),fi.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ce.min(),Ce.min(),fi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,n){this.position=e,this.inclusive=n}}function Q_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=be.comparator(be.fromName(d.referenceValue),n.key):r=Mo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function K_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ji(s.position[n],e.position[n]))return!1;return!0}class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class aE{}class qt extends aE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ox(e,n,r):n==="array-contains"?new Vx(e,r):n==="in"?new jx(e,r):n==="not-in"?new Px(e,r):n==="array-contains-any"?new Lx(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mx(e,r):new kx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mo(n,this.value)):n!==null&&Or(this.value)===Or(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends aE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zi(e,n)}matches(e){return oE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oE(s){return s.op==="and"}function lE(s){return Dx(s)&&oE(s)}function Dx(s){for(const e of s.filters)if(e instanceof Zi)return!1;return!0}function ym(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+ko(s.value);if(lE(s))return s.filters.map((e=>ym(e))).join(",");{const e=s.filters.map((n=>ym(n))).join(",");return`${s.op}(${e})`}}function uE(s,e){return s instanceof qt?(function(r,l){return l instanceof qt&&r.op===l.op&&r.field.isEqual(l.field)&&Ji(r.value,l.value)})(s,e):s instanceof Zi?(function(r,l){return l instanceof Zi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&uE(d,l.filters[p])),!0):!1})(s,e):void xe(19439)}function cE(s){return s instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`})(s):s instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(cE).join(" ,")+"}"})(s):"Filter"}class Ox extends qt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mx extends qt{constructor(e,n){super(e,"in",n),this.keys=hE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kx extends qt{constructor(e,n){super(e,"not-in",n),this.keys=hE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hE(s,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class Vx extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&su(n.arrayValue,this.value)}}class jx extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class Px extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class Lx extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}class Ux{constructor(e,n=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function Y_(s,e=null,n=[],r=[],l=null,u=null,d=null){return new Ux(s,e,n,r,l,u,d)}function Xm(s){const e=De(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ym(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ko(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ko(r))).join(",")),e.Te=n}return e.Te}function $m(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Nx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!uE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!K_(s.startAt,e.startAt)&&K_(s.endAt,e.endAt)}function _m(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Nh{constructor(e,n=null,r=[],l=[],u=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zx(s,e,n,r,l,u,d,p){return new Nh(s,e,n,r,l,u,d,p)}function Jm(s){return new Nh(s)}function X_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Bx(s){return s.collectionGroup!==null}function $l(s){const e=De(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ft(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fh(u,r))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new fh(tn.keyField(),r))}return e.Ie}function Ki(s){const e=De(s);return e.Ee||(e.Ee=qx(e,$l(s))),e.Ee}function qx(s,e){if(s.limitType==="F")return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new fh(l.field,u)}));const n=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function vm(s,e,n){return new Nh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Dh(s,e){return $m(Ki(s),Ki(e))&&s.limitType===e.limitType}function fE(s){return`${Xm(Ki(s))}|lt:${s.limitType}`}function vo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>cE(l))).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>ko(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>ko(l))).join(",")),`Target(${r})`})(Ki(s))}; limitType=${s.limitType})`}function Oh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):be.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of $l(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const g=Q_(d,p,y);return d.inclusive?g<=0:g<0})(r.startAt,$l(r),l)||r.endAt&&!(function(d,p,y){const g=Q_(d,p,y);return d.inclusive?g>=0:g>0})(r.endAt,$l(r),l))})(s,e)}function Hx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dE(s){return(e,n)=>{let r=!1;for(const l of $l(s)){const u=Fx(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function Fx(s,e,n){const r=s.field.isKeyField()?be.comparator(e.key,n.key):(function(u,d,p){const y=d.data.field(u),g=p.data.field(u);return y!==null&&g!==null?Mo(y,g):xe(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:s.dir})}}class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return J1(this.inner)}size(){return this.innerSize}}const Gx=new Tt(be.comparator);function ks(){return Gx}const mE=new Tt(be.comparator);function Fl(...s){let e=mE;for(const n of s)e=e.insert(n.key,n);return e}function pE(s){let e=mE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function da(){return Jl()}function gE(){return Jl()}function Jl(){return new Sa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Qx=new Tt(be.comparator),Kx=new Ft(be.comparator);function Ge(...s){let e=Kx;for(const n of s)e=e.add(n);return e}const Yx=new Ft(Fe);function Xx(){return Yx}function Zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function yE(s){return{integerValue:""+s}}function $x(s,e){return Tx(e)?yE(e):Zm(s,e)}class Mh{constructor(){this._=void 0}}function Jx(s,e,n){return s instanceof ru?(function(l,u){const d={fields:{[eE]:{stringValue:W1},[nE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Km(u)&&(u=Ih(u)),u&&(d.fields[tE]=u),{mapValue:d}})(n,e):s instanceof au?vE(s,e):s instanceof ou?EE(s,e):(function(l,u){const d=_E(l,u),p=$_(d)+$_(l.Ae);return gm(d)&&gm(l.Ae)?yE(p):Zm(l.serializer,p)})(s,e)}function Zx(s,e,n){return s instanceof au?vE(s,e):s instanceof ou?EE(s,e):n}function _E(s,e){return s instanceof dh?(function(r){return gm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ru extends Mh{}class au extends Mh{constructor(e){super(),this.elements=e}}function vE(s,e){const n=bE(e);for(const r of s.elements)n.some((l=>Ji(l,r)))||n.push(r);return{arrayValue:{values:n}}}class ou extends Mh{constructor(e){super(),this.elements=e}}function EE(s,e){let n=bE(e);for(const r of s.elements)n=n.filter((l=>!Ji(l,r)));return{arrayValue:{values:n}}}class dh extends Mh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $_(s){return Nt(s.integerValue||s.doubleValue)}function bE(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Wx{constructor(e,n){this.field=e,this.transform=n}}function eR(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof au&&l instanceof au||r instanceof ou&&l instanceof ou?Oo(r.elements,l.elements,Ji):r instanceof dh&&l instanceof dh?Ji(r.Ae,l.Ae):r instanceof ru&&l instanceof ru})(s.transform,e.transform)}class tR{constructor(e,n){this.version=e,this.transformResults=n}}class Ns{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ns}static exists(e){return new Ns(void 0,e)}static updateTime(e){return new Ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kh{}function TE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new wE(s.key,Ns.none()):new gu(s.key,s.data,Ns.none());{const n=s.data,r=fi.empty();let l=new Ft(tn.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new wa(s.key,r,new Ri(l.toArray()),Ns.none())}}function nR(s,e,n){s instanceof gu?(function(l,u,d){const p=l.value.clone(),y=Z_(l.fieldTransforms,u,d.transformResults);p.setAll(y),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof wa?(function(l,u,d){if(!Zc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=Z_(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(SE(l)),y.setAll(p),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Zl(s,e,n,r){return s instanceof gu?(function(u,d,p,y){if(!Zc(u.precondition,d))return p;const g=u.value.clone(),T=W_(u.fieldTransforms,y,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,e,n,r):s instanceof wa?(function(u,d,p,y){if(!Zc(u.precondition,d))return p;const g=W_(u.fieldTransforms,y,d),T=d.data;return T.setAll(SE(u)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(s,e,n,r):(function(u,d,p){return Zc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function iR(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=_E(r.transform,l||null);u!=null&&(n===null&&(n=fi.empty()),n.set(r.field,u))}return n||null}function J_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Oo(r,l,((u,d)=>eR(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class gu extends kh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wa extends kh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function SE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Z_(s,e,n){const r=new Map;st(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,Zx(d,p,n[l]))}return r}function W_(s,e,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,Jx(u,d,e))}return r}class wE extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sR extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rR{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&nR(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const y=TE(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,((n,r)=>J_(n,r)))&&Oo(this.baseMutations,e.baseMutations,((n,r)=>J_(n,r)))}}class Wm{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Qx})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new Wm(e,n,r,l)}}class aR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Ye;function lR(s){switch(s){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:s})}}function AE(s){if(s===void 0)return Ms("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Lt.OK:return ne.OK;case Lt.CANCELLED:return ne.CANCELLED;case Lt.UNKNOWN:return ne.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ne.INTERNAL;case Lt.UNAVAILABLE:return ne.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ne.NOT_FOUND;case Lt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Lt.ABORTED:return ne.ABORTED;case Lt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Lt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:s})}}(Ye=Lt||(Lt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function uR(){return new TextEncoder}const cR=new xr([4294967295,4294967295],0);function ev(s){const e=uR().encode(s),n=new z1;return n.update(e),new Uint8Array(n.digest())}function tv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xr([n,r],0),new xr([l,u],0)]}class ep{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(r<0)throw new Gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(xr.fromNumber(r)));return l.compare(cR)===1&&(l=new xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ev(e),[r,l]=tv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ep(u,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=ev(e),[r,l]=tv(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vh(Ce.min(),l,new Tt(Fe),ks(),Ge())}}class yu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,Ge(),Ge(),Ge())}}class Wc{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class xE{constructor(e,n){this.targetId=e,this.Ce=n}}class RE{constructor(e,n,r=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class nv{constructor(){this.ve=0,this.Fe=iv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:xe(38017,{changeType:u})}})),new yu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=iv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=qc(),this.He=qc(),this.Ye=new Tt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(_m(u))if(r===0){const d=new be(u.path);this.et(n,d,un.newNoDocument(d,Ce.min()))}else st(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=Dr(r).toUint8Array()}catch(y){if(y instanceof Z1)return Do("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new ep(d,l,u)}catch(y){return Do(y instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&_m(p.target)){const y=new be(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,un.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let r=Ge();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Vh(e,n,this.Ye,this.je,r);return this.je=ks(),this.Je=qc(),this.He=qc(),this.Ye=new Tt(Fe),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new nv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qc(){return new Tt(be.comparator)}function iv(){return new Tt(be.comparator)}const fR={asc:"ASCENDING",desc:"DESCENDING"},dR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mR={and:"AND",or:"OR"};class pR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function gR(s,e){return mh(s,e.toTimestamp())}function Yi(s){return st(!!s,49232),Ce.fromTimestamp((function(n){const r=Nr(n);return new gt(r.seconds,r.nanos)})(s))}function tp(s,e){return bm(s,e).canonicalString()}function bm(s,e){const n=(function(l){return new pt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function IE(s){const e=pt.fromString(s);return st(kE(e),10190,{key:e.toString()}),e}function Tm(s,e){return tp(s.databaseId,e.path)}function Zd(s,e){const n=IE(e);if(n.get(1)!==s.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new be(DE(n))}function NE(s,e){return tp(s.databaseId,e)}function yR(s){const e=IE(s);return e.length===4?pt.emptyPath():DE(e)}function Sm(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function DE(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function sv(s,e,n){return{name:Tm(s,e),fields:n.value.mapValue.fields}}function _R(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(st(T===void 0||typeof T=="string",58123),nn.fromBase64String(T||"")):(st(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),nn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(g){const T=g.code===void 0?ne.UNKNOWN:AE(g.code);return new ye(T,g.message||"")})(d);n=new RE(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Zd(s,r.document.name),u=Yi(r.document.updateTime),d=r.document.createTime?Yi(r.document.createTime):Ce.min(),p=new fi({mapValue:{fields:r.document.fields}}),y=un.newFoundDocument(l,u,d,p),g=r.targetIds||[],T=r.removedTargetIds||[];n=new Wc(g,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Zd(s,r.document),u=r.readTime?Yi(r.readTime):Ce.min(),d=un.newNoDocument(l,u),p=r.removedTargetIds||[];n=new Wc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Zd(s,r.document),u=r.removedTargetIds||[];n=new Wc([],u,l,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new oR(l,u),p=r.targetId;n=new xE(p,d)}}return n}function vR(s,e){let n;if(e instanceof gu)n={update:sv(s,e.key,e.value)};else if(e instanceof wE)n={delete:Tm(s,e.key)};else if(e instanceof wa)n={update:sv(s,e.key,e.data),updateMask:CR(e.fieldMask)};else{if(!(e instanceof sR))return xe(16599,{Vt:e.type});n={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof ru)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof au)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ou)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw xe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:gR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(s,e.precondition)),n}function ER(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?Yi(l.updateTime):Yi(u);return d.isEqual(Ce.min())&&(d=Yi(u)),new tR(d,l.transformResults||[])})(n,e)))):[]}function bR(s,e){return{documents:[NE(s,e.path)]}}function TR(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NE(s,l);const u=(function(g){if(g.length!==0)return ME(Zi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(g){if(g.length!==0)return g.map((T=>(function(D){return{field:Eo(D.field),direction:AR(D.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Em(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function SR(s){let e=yR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){st(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(w){const D=OE(w);return D instanceof Zi&&lE(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(w){return w.map((D=>(function(B){return new fh(bo(B.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(D)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let D;return D=typeof w=="object"?w.value:w,Ch(D)?null:D})(n.limit));let y=null;n.startAt&&(y=(function(w){const D=!!w.before,k=w.values||[];return new hh(k,D)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const D=!w.before,k=w.values||[];return new hh(k,D)})(n.endAt)),zx(e,l,d,u,p,"F",y,g)}function wR(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bo(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=bo(n.unaryFilter.field);return qt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=bo(n.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(s):s.fieldFilter!==void 0?(function(n){return qt.create(bo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((r=>OE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(s):xe(30097,{filter:s})}function AR(s){return fR[s]}function xR(s){return dR[s]}function RR(s){return mR[s]}function Eo(s){return{fieldPath:s.canonicalString()}}function bo(s){return tn.fromServerFormat(s.fieldPath)}function ME(s){return s instanceof qt?(function(n){if(n.op==="=="){if(G_(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(F_(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G_(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(F_(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:xR(n.op),value:n.value}}})(s):s instanceof Zi?(function(n){const r=n.getFilters().map((l=>ME(l)));return r.length===1?r[0]:{compositeFilter:{op:RR(n.op),filters:r}}})(s):xe(54877,{filter:s})}function CR(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class br{constructor(e,n,r,l,u=Ce.min(),d=Ce.min(),p=nn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class IR{constructor(e){this.yt=e}}function NR(s){const e=SR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(e,e.limit,"L"):e}class DR{constructor(){this.Cn=new OR}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ir.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class OR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Ft(pt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ft(pt.comparator)).toArray()}}const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(VE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}const av="LruGarbageCollector",MR=1048576;function ov([s,e],[n,r]){const l=Fe(s,n);return l===0?Fe(e,r):l}class kR{constructor(e){this.Ir=e,this.buffer=new Ft(ov),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ov(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(av,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?de(av,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)}))}}class jR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Rh.ce);const r=new kR(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(rv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,u,d,p,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,n)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(g=Date.now(),_o()<=He.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function PR(s,e){return new jR(s,e)}class LR{constructor(){this.changes=new Sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zR{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Zl(r.mutation,l,Ri.empty(),gt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const l=da();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let d=Fl();return u.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=da();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let u=ks();const d=Jl(),p=(function(){return Jl()})();return n.forEach(((y,g)=>{const T=r.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof wa)?u=u.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Zl(T.mutation,g,T.mutation.getFieldMask(),gt.now())):d.set(g.key,Ri.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,T)=>d.set(g,T))),n.forEach(((g,T)=>p.set(g,new UR(T,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Jl();let l=new Tt(((d,p)=>d-p)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let T=r.get(y)||Ri.empty();T=p.applyToLocalView(g,T),r.set(y,T);const w=(l.get(p.batchId)||Ge()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,T=y.value,w=gE();T.forEach((D=>{if(!u.has(D)){const k=TE(n.get(D),r.get(D));k!==null&&w.set(D,k),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ee.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):ee.resolve(da());let p=tu,y=u;return d.next((g=>ee.forEach(g,((T,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((D=>{y=y.insert(T,D)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,Ge()))).next((T=>({batchId:p,changes:pE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let l=Fl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,u).next((p=>ee.forEach(p,(y=>{const g=(function(w,D){return new Nh(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,l).next((T=>{T.forEach(((w,D)=>{d=d.insert(w,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((d=>{u.forEach(((y,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,un.newInvalidDocument(T)))}));let p=Fl();return d.forEach(((y,g)=>{const T=u.get(y);T!==void 0&&Zl(T.mutation,g,Ri.empty(),gt.now()),Oh(n,g)&&(p=p.insert(y,g))})),p}))}}class BR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Yi(l.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:NR(l.bundledQuery),readTime:Yi(l.readTime)}})(n)),ee.resolve()}}class qR{constructor(){this.overlays=new Tt(be.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=da();return ee.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const l=da(),u=n.length+1,d=new be(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new Tt(((g,T)=>g-T));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let T=u.get(g.largestBatchId);T===null&&(T=da(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=da(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,T)=>p.set(g,T))),!(p.size()>=l)););return ee.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new aR(n,r));let u=this.qr.get(n);u===void 0&&(u=Ge(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class HR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class np{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new be(new pt([])),r=new Kt(n,e),l=new Kt(n,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new pt([])),r=new Kt(n,e),l=new Kt(n,e+1);let u=Ge();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class FR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rR(u,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Kt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),l=new Kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Fe);return n.forEach((l=>{const u=new Kt(l,0),d=new Kt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;be.isDocumentKey(u)||(u=u.child(""));const d=new Kt(new be(u),0);let p=new Ft(Fe);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(p=p.add(y.Yr)),!0)}),d),ee.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(l=>{const u=new Kt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kt(n,0),l=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GR{constructor(e){this.ri=e,this.docs=(function(){return new Tt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=ks();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():un.newInvalidDocument(l))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=ks();const d=n.path,p=new be(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||_x(yx(T),r)<=0||(l.has(T.key)||Oh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,r,l){xe(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new QR(this)}getSize(e){return ee.resolve(this.size)}}class QR extends LR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class KR{constructor(e){this.persistence=e,this.si=new Sa((n=>Xm(n)),$m),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new np,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ee.waitFor(u).next((()=>l))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class jE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new HR,this.referenceDelegate=e(this),this.Pi=new KR(this),this.indexManager=new DR,this.remoteDocumentCache=(function(l){return new GR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IR(n),this.Ii=new BR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new FR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const l=new YR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class YR extends Ex{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Ri=new np,this.Vi=null}static mi(e){return new ip(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const l=be.fromPath(r);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.pi=new Sa((r=>Sx(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=PR(this,n)}static mi(e,n){return new ph(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?ee.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,u.removeEntry(d,Ce.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$c(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ee.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Ge(),l=Ge();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new sp(e,n.fromCache,r,l)}}class XR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $R{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VS()?8:bx(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new XR;return this.Ss(e,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>u.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(_o()<=He.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(_o()<=He.DEBUG&&de("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(_o()<=He.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):ee.resolve())}ys(e,n){if(X_(n))return ee.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=vm(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Ge(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const g=this.Ds(n,p);return this.Cs(n,g,d,y.readTime)?this.ys(e,vm(n,null,"F")):this.vs(e,g,n,y)}))))})))))}ws(e,n,r,l){return X_(n)||l.isEqual(Ce.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,r,l)?ee.resolve(null):(_o()<=He.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),vo(n)),this.vs(e,d,n,gx(l,tu)).next((p=>p)))}))}Ds(e,n){let r=new Ft(dE(e));return n.forEach(((l,u)=>{Oh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,r){return _o()<=He.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",vo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ir.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const rp="LocalStore",JR=3e8;class ZR{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new Tt(Fe),this.xs=new Sa((u=>Xm(u)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function WR(s,e,n,r){return new ZR(s,e,n,r)}async function PE(s,e){const n=De(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let y=Ge();for(const g of l){d.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of u){p.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function eC(s,e){const n=De(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,T){const w=g.batch,D=w.keys();let k=ee.resolve();return D.forEach((B=>{k=k.next((()=>T.getEntry(y,B))).next((q=>{const F=g.docVersions.get(B);st(F!==null,48541),q.version.compareTo(F)<0&&(w.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),T.addEntry(q)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Ge();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function LE(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tC(s,e){const n=De(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,w)=>{const D=l.get(w);if(!D)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w))));let k=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(nn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,r)),l=l.insert(w,k),(function(q,F,ie){return q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=JR?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(D,k,T)&&p.push(n.Pi.updateTargetData(u,k))}));let y=ks(),g=Ge();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(nC(u,d,e.documentUpdates).next((T=>{y=T.ks,g=T.qs}))),!r.isEqual(Ce.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return ee.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function nC(s,e,n){let r=Ge(),l=Ge();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=ks();return n.forEach(((p,y)=>{const g=u.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Ce.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):de(rp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function iC(s,e){const n=De(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sC(s,e){const n=De(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((u=>u?(l=u,ee.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new br(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function wm(s,e,n){const r=De(s),l=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!qo(d))throw d;de(rp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function lv(s,e,n){const r=De(s);let l=Ce.min(),u=Ge();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,g,T){const w=De(y),D=w.xs.get(T);return D!==void 0?ee.resolve(w.Ms.get(D)):w.Pi.getTargetData(g,T)})(r,d,Ki(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:Ce.min(),n?u:Ge()))).next((p=>(rC(r,Hx(e),p),{documents:p,Qs:u})))))}function rC(s,e,n){let r=s.Os.get(e)||Ce.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class uv{constructor(){this.activeTargetIds=Xx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aC{constructor(){this.Mo=new uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oC{Oo(e){}shutdown(){}}const cv="ConnectivityMonitor";class hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hc=null;function Am(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}const Wd="RestConnection",lC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,u){const d=Am(),p=this.zo(e,n.toUriEncodedString());de(Wd,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:g}=new URL(p),T=Lo(g);return this.Jo(e,p,y,r,T).then((w=>(de(Wd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Do(Wd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,n,r,l,u,d){return this.Go(e,n,r,l,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const r=lC[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class cC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class hC extends uC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,u){const d=Am();return new Promise(((p,y)=>{const g=new B1;g.setWithCredentials(!0),g.listenOnce(q1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Xc.NO_ERROR:const w=g.getResponseJson();de(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Xc.TIMEOUT:de(on,`RPC '${e}' ${d} timed out`),y(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const D=g.getStatus();if(de(on,`RPC '${e}' ${d} failed with status:`,D,"response text:",g.getResponseText()),D>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k?.error;if(B&&B.status&&B.message){const q=(function(ie){const fe=ie.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(fe)>=0?fe:ne.UNKNOWN})(B.status);y(new ye(q,B.message))}else y(new ye(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(on,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);de(on,`RPC '${e}' ${d} sending request:`,l),g.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=Am(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=G1(),p=F1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const T=u.join("");de(on,`Creating RPC '${e}' stream ${l}: ${T}`,y);const w=d.createWebChannel(T,y);this.I_(w);let D=!1,k=!1;const B=new cC({Yo:F=>{k?de(on,`Not sending because RPC '${e}' stream ${l} is closed:`,F):(D||(de(on,`Opening RPC '${e}' stream ${l} transport.`),w.open(),D=!0),de(on,`RPC '${e}' stream ${l} sending:`,F),w.send(F))},Zo:()=>w.close()}),q=(F,ie,fe)=>{F.listen(ie,(pe=>{try{fe(pe)}catch(Me){setTimeout((()=>{throw Me}),0)}}))};return q(w,Hl.EventType.OPEN,(()=>{k||(de(on,`RPC '${e}' stream ${l} transport opened.`),B.o_())})),q(w,Hl.EventType.CLOSE,(()=>{k||(k=!0,de(on,`RPC '${e}' stream ${l} transport closed`),B.a_(),this.E_(w))})),q(w,Hl.EventType.ERROR,(F=>{k||(k=!0,Do(on,`RPC '${e}' stream ${l} transport errored. Name:`,F.name,"Message:",F.message),B.a_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))})),q(w,Hl.EventType.MESSAGE,(F=>{if(!k){const ie=F.data[0];st(!!ie,16349);const fe=ie,pe=fe?.error||fe[0]?.error;if(pe){de(on,`RPC '${e}' stream ${l} received error:`,pe);const Me=pe.status;let Se=(function(A){const x=Lt[A];if(x!==void 0)return AE(x)})(Me),we=pe.message;Se===void 0&&(Se=ne.INTERNAL,we="Unknown error status: "+Me+" with message "+pe.message),k=!0,B.a_(new ye(Se,we)),w.close()}else de(on,`RPC '${e}' stream ${l} received:`,ie),B.u_(ie)}})),q(p,H1.STAT_EVENT,(F=>{F.stat===dm.PROXY?de(on,`RPC '${e}' stream ${l} detected buffering proxy`):F.stat===dm.NOPROXY&&de(on,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function em(){return typeof document<"u"?document:null}function jh(s){return new pR(s,!0)}class UE{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const fv="PersistentStream";class zE{constructor(e,n,r,l,u,d,p,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fC extends zE{constructor(e,n,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_R(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ce.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?Yi(d.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Sm(this.serializer),n.addTarget=(function(u,d){let p;const y=d.target;if(p=_m(y)?{documents:bR(u,y)}:{query:TR(u,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=CE(u,d.resumeToken);const g=Em(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ce.min())>0){p.readTime=mh(u,d.snapshotVersion.toTimestamp());const g=Em(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const r=wR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Sm(this.serializer),n.removeTarget=e,this.q_(n)}}class dC extends zE{constructor(e,n,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ER(e.writeResults,e.commitTime),r=Yi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Sm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>vR(this.serializer,r)))};this.q_(n)}}class mC{}class pC extends mC{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,bm(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())}))}Ho(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,bm(n,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ye(ne.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class yC{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Aa(this)&&(de(Ea,"Restarting streams for network reachability change."),await(async function(y){const g=De(y);g.Ea.add(4),await _u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ph(g)})(this))}))})),this.Ra=new gC(r,l)}}async function Ph(s){if(Aa(s))for(const e of s.da)await e(!0)}async function _u(s){for(const e of s.da)await e(!1)}function BE(s,e){const n=De(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),up(n)?lp(n):Ho(n).O_()&&op(n,e))}function ap(s,e){const n=De(s),r=Ho(n);n.Ia.delete(e),r.O_()&&qE(n,e),n.Ia.size===0&&(r.O_()?r.L_():Aa(n)&&n.Ra.set("Unknown"))}function op(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(s).Y_(e)}function qE(s,e){s.Va.Ue(e),Ho(s).Z_(e)}function lp(s){s.Va=new hR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ho(s).start(),s.Ra.ua()}function up(s){return Aa(s)&&!Ho(s).x_()&&s.Ia.size>0}function Aa(s){return De(s).Ea.size===0}function HE(s){s.Va=void 0}async function _C(s){s.Ra.set("Online")}async function vC(s){s.Ia.forEach(((e,n)=>{op(s,e)}))}async function EC(s,e){HE(s),up(s)?(s.Ra.ha(e),lp(s)):s.Ra.set("Unknown")}async function bC(s,e,n){if(s.Ra.set("Online"),e instanceof RE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){de(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gh(s,r)}else if(e instanceof Wc?s.Va.Ze(e):e instanceof xE?s.Va.st(e):s.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await LE(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,g)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(nn.EMPTY_BYTE_STRING,T.snapshotVersion)),qE(u,y);const w=new br(T.target,y,g,T.sequenceNumber);op(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){de(Ea,"Failed to raise snapshot:",r),await gh(s,r)}}async function gh(s,e,n){if(!qo(e))throw e;s.Ea.add(1),await _u(s),s.Ra.set("Offline"),n||(n=()=>LE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(Ea,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Ph(s)}))}function FE(s,e){return e().catch((n=>gh(s,n,e)))}async function Lh(s){const e=De(s),n=Mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;TC(e);)try{const l=await iC(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,SC(e,l)}catch(l){await gh(e,l)}GE(e)&&QE(e)}function TC(s){return Aa(s)&&s.Ta.length<10}function SC(s,e){s.Ta.push(e);const n=Mr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function GE(s){return Aa(s)&&!Mr(s).x_()&&s.Ta.length>0}function QE(s){Mr(s).start()}async function wC(s){Mr(s).ra()}async function AC(s){const e=Mr(s);for(const n of s.Ta)e.ea(n.mutations)}async function xC(s,e,n){const r=s.Ta.shift(),l=Wm.from(r,e,n);await FE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Lh(s)}async function RC(s,e){e&&Mr(s).X_&&await(async function(r,l){if((function(d){return lR(d)&&d!==ne.ABORTED})(l.code)){const u=r.Ta.shift();Mr(r).B_(),await FE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Lh(r)}})(s,e),GE(s)&&QE(s)}async function dv(s,e){const n=De(s);n.asyncQueue.verifyOperationInProgress(),de(Ea,"RemoteStore received new credentials");const r=Aa(n);n.Ea.add(3),await _u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ph(n)}async function CC(s,e){const n=De(s);e?(n.Ea.delete(2),await Ph(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function Ho(s){return s.ma||(s.ma=(function(n,r,l){const u=De(n);return u.sa(),new fC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:_C.bind(null,s),t_:vC.bind(null,s),r_:EC.bind(null,s),H_:bC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),up(s)?lp(s):s.Ra.set("Unknown")):(await s.ma.stop(),HE(s))}))),s.ma}function Mr(s){return s.fa||(s.fa=(function(n,r,l){const u=De(n);return u.sa(),new dC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:wC.bind(null,s),r_:RC.bind(null,s),ta:AC.bind(null,s),na:xC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Lh(s)):(await s.fa.stop(),s.Ta.length>0&&(de(Ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cp{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const d=Date.now()+r,p=new cp(e,n,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(s,e){if(Ms("AsyncQueue",`${e}: ${s}`),qo(s))return new ye(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Fl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class mv{constructor(){this.ga=new Tt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class jo{constructor(e,n,r,l,u,d,p,y,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new jo(e,n,Ao.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class IC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NC{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=De(n),u=l.queries;l.queries=pv(),u.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function pv(){return new Sa((s=>fE(s)),Dh)}async function KE(s,e){const n=De(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new IC,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=hp(d,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&fp(n)}async function YE(s,e){const n=De(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DC(s,e){const n=De(s);let r=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&fp(n)}function OC(s,e,n){const r=De(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(e)}function fp(s){s.Ca.forEach((e=>{e.next()}))}var xm,gv;(gv=xm||(xm={})).Ma="default",gv.Cache="cache";class XE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}class $E{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class MC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=dE(e),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new mv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,w)=>{const D=l.get(T),k=Oh(this.query,w)?w:null,B=!!D&&this.mutatedKeys.has(D.key),q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;D&&k?D.data.isEqual(k.data)?B!==q&&(r.track({type:3,doc:k}),F=!0):this.su(D,k)||(r.track({type:2,doc:k}),F=!0,(y&&this.eu(k,y)>0||g&&this.eu(k,g)<0)&&(p=!0)):!D&&k?(r.track({type:0,doc:k}),F=!0):D&&!k&&(r.track({type:1,doc:D}),F=!0,(y||g)&&(p=!0)),F&&(k?(d=d.add(k),u=q?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(k,B){const q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:F})}};return q(k)-q(B)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,g=y!==this.Za;return this.Za=y,d.length!==0||g?{snapshot:new jo(this.query,e.tu,u,d,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new JE(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new $E(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dp="SyncEngine";class kC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VC{constructor(e){this.key=e,this.hu=!1}}class jC{constructor(e,n,r,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Sa((p=>fE(p)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(be.comparator),this.Au=new Map,this.Ru=new np,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PC(s,e,n=!0){const r=ib(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await ZE(r,e,n,!0),l}async function LC(s,e){const n=ib(s);await ZE(n,e,!0,!1)}async function ZE(s,e,n,r){const l=await sC(s.localStore,Ki(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await UC(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&BE(s.remoteStore,l),p}async function UC(s,e,n,r,l){s.pu=(w,D,k)=>(async function(q,F,ie,fe){let pe=F.view.ru(ie);pe.Cs&&(pe=await lv(q.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,pe))));const Me=fe&&fe.targetChanges.get(F.targetId),Se=fe&&fe.targetMismatches.get(F.targetId)!=null,we=F.view.applyChanges(pe,q.isPrimaryClient,Me,Se);return _v(q,F.targetId,we.au),we.snapshot})(s,w,D,k);const u=await lv(s.localStore,e,!0),d=new MC(e,u.Qs),p=d.ru(u.documents),y=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),g=d.applyChanges(p,s.isPrimaryClient,y);_v(s,n,g.au);const T=new kC(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),g.snapshot}async function zC(s,e,n){const r=De(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Dh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await wm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&ap(r.remoteStore,l.targetId),Rm(r,l.targetId)})).catch(Bo)):(Rm(r,l.targetId),await wm(r.localStore,l.targetId,!0))}async function BC(s,e){const n=De(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ap(n.remoteStore,r.targetId))}async function qC(s,e,n){const r=XC(s);try{const l=await(function(d,p){const y=De(d),g=gt.now(),T=p.reduce(((k,B)=>k.add(B.key)),Ge());let w,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let B=ks(),q=Ge();return y.Ns.getEntries(k,T).next((F=>{B=F,B.forEach(((ie,fe)=>{fe.isValidDocument()||(q=q.add(ie))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,B))).next((F=>{w=F;const ie=[];for(const fe of p){const pe=iR(fe,w.get(fe.key).overlayedDocument);pe!=null&&ie.push(new wa(fe.key,pe,rE(pe.value.mapValue),Ns.exists(!0)))}return y.mutationQueue.addMutationBatch(k,g,ie,p)})).next((F=>{D=F;const ie=F.applyToLocalDocumentSet(w,q);return y.documentOverlayCache.saveOverlays(k,F.batchId,ie)}))})).then((()=>({batchId:D.batchId,changes:pE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let g=d.Vu[d.currentUser.toKey()];g||(g=new Tt(Fe)),g=g.insert(p,y),d.Vu[d.currentUser.toKey()]=g})(r,l.batchId,n),await vu(r,l.changes),await Lh(r.remoteStore)}catch(l){const u=hp(l,"Failed to persist write");n.reject(u)}}async function WE(s,e){const n=De(s);try{const r=await tC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(st(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?st(d.hu,14607):l.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await vu(n,r,e)}catch(r){await Bo(r)}}function yv(s,e,n){const r=De(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=De(d);y.onlineState=p;let g=!1;y.queries.forEach(((T,w)=>{for(const D of w.Sa)D.va(p)&&(g=!0)})),g&&fp(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HC(s,e,n){const r=De(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new Tt(be.comparator);d=d.insert(u,un.newNoDocument(u,Ce.min()));const p=Ge().add(u),y=new Vh(Ce.min(),new Map,new Tt(Fe),d,p);await WE(r,y),r.du=r.du.remove(u),r.Au.delete(e),mp(r)}else await wm(r.localStore,e,!1).then((()=>Rm(r,e,n))).catch(Bo)}async function FC(s,e){const n=De(s),r=e.batch.batchId;try{const l=await eC(n.localStore,e);tb(n,r,null),eb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vu(n,l)}catch(l){await Bo(l)}}async function GC(s,e,n){const r=De(s);try{const l=await(function(d,p){const y=De(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return y.mutationQueue.lookupMutationBatch(g,p).next((w=>(st(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(g,w)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>y.localDocuments.getDocuments(g,T)))}))})(r.localStore,e);tb(r,e,n),eb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vu(r,l)}catch(l){await Bo(l)}}function eb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function tb(s,e,n){const r=De(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Rm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||nb(s,r)}))}function nb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(ap(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),mp(s))}function _v(s,e,n){for(const r of n)r instanceof $E?(s.Ru.addReference(r.key,e),QC(s,r)):r instanceof JE?(de(dp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||nb(s,r.key)):xe(19791,{wu:r})}function QC(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(de(dp,"New document in limbo: "+n),s.Eu.add(r),mp(s))}function mp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new be(pt.fromString(e)),r=s.fu.next();s.Au.set(r,new VC(n)),s.du=s.du.insert(n,r),BE(s.remoteStore,new br(Ki(Jm(n.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function vu(s,e,n){const r=De(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(g){l.push(g);const T=sp.As(y.targetId,g);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,g){const T=De(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ee.forEach(g,(D=>ee.forEach(D.Es,(k=>T.persistence.referenceDelegate.addReference(w,D.targetId,k))).next((()=>ee.forEach(D.ds,(k=>T.persistence.referenceDelegate.removeReference(w,D.targetId,k)))))))))}catch(w){if(!qo(w))throw w;de(rp,"Failed to update sequence numbers: "+w)}for(const w of g){const D=w.targetId;if(!w.fromCache){const k=T.Ms.get(D),B=k.snapshotVersion,q=k.withLastLimboFreeSnapshotVersion(B);T.Ms=T.Ms.insert(D,q)}}})(r.localStore,u))}async function KC(s,e){const n=De(s);if(!n.currentUser.isEqual(e)){de(dp,"User change. New user:",e.toKey());const r=await PE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new ye(ne.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(n,r.Ls)}}function YC(s,e){const n=De(s),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let l=Ge();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function ib(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HC.bind(null,e),e.Pu.H_=DC.bind(null,e.eventManager),e.Pu.yu=OC.bind(null,e.eventManager),e}function XC(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GC.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WR(this.persistence,new $R,e.initialUser,this.serializer)}Cu(e){return new jE(ip.mi,this.serializer)}Du(e){return new aC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class $C extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new jE((r=>ph.mi(r,n)),this.serializer)}}class Cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KC.bind(null,this.syncEngine),await CC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NC})()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),r=(function(u){return new hC(u)})(e.databaseInfo);return(function(u,d,p,y){return new pC(u,d,p,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,d,p){return new yC(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>yv(this.syncEngine,n,0)),(function(){return hv.v()?new hv:new oC})())}createSyncEngine(e,n){return(function(l,u,d,p,y,g,T){const w=new jC(l,u,d,p,y,g);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);de(Ea,"RemoteStore shutting down."),r.Ea.add(5),await _u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const kr="FirestoreClient";class JC{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{de(kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),de(kr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await PE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function vv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await ZC(s);de(kr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>dv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>dv(e.remoteStore,l))),s._onlineComponents=e}async function ZC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(kr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await tm(s,new yh)}}else de(kr,"Using default OfflineComponentProvider"),await tm(s,new $C(void 0));return s._offlineComponents}async function rb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(kr,"Using user provided OnlineComponentProvider"),await vv(s,s._uninitializedComponentsProvider._online)):(de(kr,"Using default OnlineComponentProvider"),await vv(s,new Cm))),s._onlineComponents}function WC(s){return rb(s).then((e=>e.syncEngine))}async function ab(s){const e=await rb(s),n=e.eventManager;return n.onListen=PC.bind(null,e.syncEngine),n.onUnlisten=zC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BC.bind(null,e.syncEngine),n}function eI(s,e,n={}){const r=new Is;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,y,g){const T=new sb({next:D=>{T.Nu(),d.enqueueAndForget((()=>YE(u,w)));const k=D.docs.has(p);!k&&D.fromCache?g.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&D.fromCache&&y&&y.source==="server"?g.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(D)},error:D=>g.reject(D)}),w=new XE(Jm(p.path),T,{includeMetadataChanges:!0,qa:!0});return KE(u,w)})(await ab(s),s.asyncQueue,e,n,r))),r.promise}function tI(s,e,n={}){const r=new Is;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,y,g){const T=new sb({next:D=>{T.Nu(),d.enqueueAndForget((()=>YE(u,w))),D.fromCache&&y.source==="server"?g.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(D)},error:D=>g.reject(D)}),w=new XE(p,T,{includeMetadataChanges:!0,qa:!0});return KE(u,w)})(await ab(s),s.asyncQueue,e,n,r))),r.promise}function ob(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Ev=new Map;const lb="firestore.googleapis.com",bv=!0;class Tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lb,this.ssl=bv}else this.host=e.host,this.ssl=e.ssl??bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MR)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}px("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ob(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rx;switch(r.type){case"firstParty":return new ux(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ev.get(n);r&&(de("ComponentProvider","Removing Datastore"),Ev.delete(n),r.terminate())})(this),Promise.resolve()}}function nI(s,e,n,r={}){s=va(s,Uh);const l=Lo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(zv(`https://${p}`),Bv("Firestore",!0)),u.host!==lb&&u.host!==p&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:l,emulatorOptions:r};if(!pa(y,d)&&(s._setSettings(y),r.mockUserToken)){let g,T;if(typeof r.mockUserToken=="string")g=r.mockUserToken,T=ln.MOCK_USER;else{g=xS(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(w)}s._authCredentials=new ax(new K1(g,T))}}class zh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zh(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pu(n,Ht._jsonSchema))return new Ht(e,r||null,new be(pt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ut("string",Ht._jsonSchemaVersion),referencePath:Ut("string")};class Rr extends zh{constructor(e,n,r){super(e,n,Jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new be(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function iI(s,e,...n){if(s=vn(s),Y1("collection","path",e),s instanceof Uh){const r=pt.fromString(e,...n);return j_(r),new Rr(s,null,r)}{if(!(s instanceof Ht||s instanceof Rr))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...n));return j_(r),new Rr(s.firestore,null,r)}}function Po(s,e,...n){if(s=vn(s),arguments.length===1&&(e=Fm.newId()),Y1("doc","path",e),s instanceof Uh){const r=pt.fromString(e,...n);return V_(r),new Ht(s,null,new be(r))}{if(!(s instanceof Ht||s instanceof Rr))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...n));return V_(r),new Ht(s.firestore,s instanceof Rr?s.converter:null,new be(r))}}const Sv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UE(this,"async_queue_retry"),this._c=()=>{const r=em();r&&de(Sv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;de(Sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",Av(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=cp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&xe(47125,{Pc:Av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Av(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Bh extends Uh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function sI(s,e){const n=typeof s=="object"?s:Mm(),r=typeof s=="string"?s:uh,l=Om(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=wS("firestore");u&&nI(l,...u)}return l}function pp(s){if(s._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rI(s),s._firestoreClient}function rI(s){const e=s._freezeSettings(),n=(function(l,u,d,p){return new xx(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ob(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new JC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(nn.fromBase64String(e))}catch(n){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new di(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Ut("string",di._jsonSchemaVersion),bytes:Ut("string")};class gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yp{constructor(e){this._methodName=e}}class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(pu(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Ut("string",Xi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new ye(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ut("string",$i._jsonSchemaVersion),vectorValues:Ut("object")};const aI=/^__.*__$/;class oI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}function ub(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:s})}}class _p{constructor(e,n,r,l,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ub(this.Ac)&&aI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jh(e)}Cc(e,n,r,l=!1){return new _p({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uI(s){const e=s._freezeSettings(),n=jh(s._databaseId);return new lI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function cI(s,e,n,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,n,l);db("Data must be an object, but it was:",d,r);const p=hb(r,d);let y,g;if(u.merge)y=new Ri(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const D=hI(e,w,n);if(!d.contains(D))throw new ye(ne.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);dI(T,D)||T.push(D)}y=new Ri(T),g=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,g=d.fieldTransforms;return new oI(new fi(p),y,g)}class vp extends yp{_toFieldTransform(e){return new Wx(e.path,new ru)}isEqual(e){return e instanceof vp}}function cb(s,e){if(fb(s=vn(s)))return db("Unsupported field value:",e,s),hb(s,e);if(s instanceof yp)return(function(r,l){if(!ub(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let y=cb(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $x(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=gt.fromDate(r);return{timestampValue:mh(l.serializer,u)}}if(r instanceof gt){const u=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(l.serializer,u)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof di)return{bytesValue:CE(l.serializer,r._byteString)};if(r instanceof Ht){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof $i)return(function(d,p){return{mapValue:{fields:{[iE]:{stringValue:sE},[ch]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Zm(p.serializer,g)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Gm(r)}`)})(s,e)}function hb(s,e){const n={};return J1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(s,((r,l)=>{const u=cb(l,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function fb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Xi||s instanceof di||s instanceof Ht||s instanceof yp||s instanceof $i)}function db(s,e,n){if(!fb(n)||!X1(n)){const r=Gm(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function hI(s,e,n){if((e=vn(e))instanceof gp)return e._internalPath;if(typeof e=="string")return mb(s,e);throw _h("Field path arguments must be of type string or ",s,!1,void 0,n)}const fI=new RegExp("[~\\*/\\[\\]]");function mb(s,e,n){if(e.search(fI)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new gp(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function _h(s,e,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ye(ne.INVALID_ARGUMENT,p+s+y)}function dI(s,e){return s.some((n=>n.isEqual(e)))}class pb{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mI extends pb{data(){return super.data()}}function gb(s,e){return typeof e=="string"?mb(s,e):e instanceof gp?e._internalPath:e._delegate._internalPath}function pI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gI{convertValue(e,n="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ta(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[ch].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Xi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Nr(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);st(kE(r),9688,{name:e});const l=new iu(r.get(1),r.get(3)),u=new be(r.popFirst(5));return l.isEqual(n)||Ms(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function yI(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends pb{constructor(e,n,r,l,u,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Ut("string",ma._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class eh extends ma{data(e={}){return super.data(e)}}class xo{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ql(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new Ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:_I(p.type),doc:y,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _I(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:s})}}function Ep(s){s=va(s,Ht);const e=va(s.firestore,Bh);return eI(pp(e),s._key).then((n=>bI(e,s,n)))}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:Ut("string",xo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class yb extends gI{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function vI(s){s=va(s,zh);const e=va(s.firestore,Bh),n=pp(e),r=new yb(e);return pI(s._query),tI(n,s._query).then((l=>new xo(e,r,s,l)))}function Ro(s,e,n){s=va(s,Ht);const r=va(s.firestore,Bh),l=yI(s.converter,e,n);return EI(r,[cI(uI(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Ns.none())])}function EI(s,e){return(function(r,l){const u=new Is;return r.asyncQueue.enqueueAndForget((async()=>qC(await WC(r),l,u))),u.promise})(pp(s),e)}function bI(s,e,n){const r=n.docs.get(e._key),l=new yb(s);return new ma(s,l,e._key,r,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function Ul(){return new vp("serverTimestamp")}(function(e,n=!0){(function(l){zo=l})(Uo),Co(new ga("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Bh(new ox(r.getProvider("auth-internal")),new cx(d,r.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,T)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ar(D_,O_,e),Ar(D_,O_,"esm2020")})();const TI={apiKey:"AIzaSyDRfJevjEjaG66KDpNNSw4jVIeFfrEg6KE",authDomain:"japanese-learning-app-fcb27.firebaseapp.com",projectId:"japanese-learning-app-fcb27",storageBucket:"japanese-learning-app-fcb27.appspot.com",messagingSenderId:"999126999380",appId:"1:999126999380:web:21b7ec4100378178ec10c1"},_b=Hw().length?Mm():Fv(TI),Tr=U1(_b),vh=sI(_b);const SI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),xv=s=>{const e=wI(s);return e.charAt(0).toUpperCase()+e.slice(1)},vb=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),AI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var xI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RI=te.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},y)=>te.createElement("svg",{ref:y,...xI,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:vb("lucide",l),...!u&&!AI(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,T])=>te.createElement(g,T)),...Array.isArray(u)?u:[u]]));const We=(s,e)=>{const n=te.forwardRef(({className:r,...l},u)=>te.createElement(RI,{ref:u,iconNode:e,className:vb(`lucide-${SI(xv(s))}`,`lucide-${s}`,r),...l}));return n.displayName=xv(s),n};const CI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Eb=We("arrow-right",CI);const II=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lu=We("chevron-down",II);const NI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],DI=We("chevron-left",NI);const OI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],MI=We("chevron-right",OI);const kI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],VI=We("chevron-up",kI);const jI=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],PI=We("chevrons-left",jI);const LI=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],UI=We("chevrons-right",LI);const zI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Eh=We("circle-alert",zI);const BI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qI=We("circle-check-big",BI);const HI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bb=We("circle-x",HI);const FI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],GI=We("download",FI);const QI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KI=We("eye-off",QI);const YI=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Rv=We("folder",YI);const XI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$I=We("layers",XI);const JI=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Tb=We("loader",JI);const ZI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WI=We("log-out",ZI);const eN=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Sb=We("pause",eN);const tN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],nN=We("pen-tool",tN);const iN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],bp=We("play",iN);const sN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rN=We("refresh-cw",sN);const aN=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],oN=We("repeat",aN);const lN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wb=We("save",lN);const uN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cN=We("settings",uN);const hN=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],fN=We("shuffle",hN);const dN=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],mN=We("skip-back",dN);const pN=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],gN=We("skip-forward",pN);const yN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_N=We("star",yN);const vN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ab=We("trash-2",vN);const EN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cv=We("triangle-alert",EN);const bN=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],TN=We("undo",bN);const SN=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],wN=We("volume-2",SN);const AN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xb=We("x",AN),xN=new Set(["id","localId","book","folderId","isMarked","mistakes","confidence","responseTime","is_problem","mistake_count","last_practiced","lastPracticed"]),RN=[{id:"isMarked",label:"",width:"w-12",type:"action"},{id:"audio",label:"",width:"w-12",type:"action"}],CN={id:"selection",label:"#",width:"w-10",type:"system",fixed:"left"},IN=(s,e)=>{const n={...s},r=s.id?String(s.id):null;return n.id=r,n.localId=r||`local_${e}_${Date.now()}`,n.book=String(s.book||"1"),n.folderId=String(s.book||"Uncategorized"),n.isMarked=s.is_problem===!0||s.is_problem==="true",n.responseTime=0,n.japanese===void 0&&(n.japanese=String(s.hiragana||s.japanese||"")),s.japanese||Object.defineProperty(n,"_isSyntheticJapanese",{value:!0,enumerable:!1}),n.lesson||(n.lesson=String(s.lesson||"1")),n.cando||(n.cando=String(s.cando||"1")),n.bangla||(n.bangla=String(s.bangla||"")),n},Iv=(s,e)=>{const n={};let r=!1;return["japanese","kanji","bangla","lesson","cando","isMarked"].forEach(u=>{JSON.stringify(s[u])!==JSON.stringify(e[u])&&(u==="japanese"?n.hiragana=e[u]:u==="isMarked"?n.is_problem=e[u]:n[u]=e[u],r=!0)}),r?n:null},NN=({message:s,type:e,onClose:n})=>{te.useEffect(()=>{const u=setTimeout(n,3e3);return()=>clearTimeout(u)},[n]);let r="bg-slate-800";e==="error"&&(r="bg-red-600"),e==="warning"&&(r="bg-amber-600"),e==="success"&&(r="bg-green-600");const l=typeof s=="object"?JSON.stringify(s):s;return E.jsx("div",{className:`fixed bottom-24 right-6 ${r} text-white px-6 py-3 rounded-lg shadow-xl z-[100] flex items-center font-medium animate-in fade-in slide-in-from-bottom-5`,children:l})},DN=({value:s,max:e=5})=>{const n=Math.min(s||0,e),r=[];for(let l=0;l<e;l++){let u="bg-slate-200";l<n&&(n<=2?u="bg-yellow-400":n<=3?u="bg-orange-500":u="bg-red-600"),r.push(E.jsx("div",{className:`h-3 w-1.5 rounded-sm ${u}`},l))}return E.jsx("div",{className:"flex gap-0.5",children:r})},ON=Gi.memo(({item:s,columnOrder:e,columnDefs:n,columnVisibility:r,columnWidths:l,hiddenColumns:u,revealedCells:d,selectedIds:p,playbackMode:y,isPlaying:g,playbackQueue:T,currentIndex:w,index:D,isEditMode:k,onToggleSelection:B,onUpdateCell:q,onRevealCell:F,onPlaySingle:ie,onMark:fe,onDeleteRequest:pe})=>{if(!s)return null;const Me=p.has(s.localId),Se=y==="playlist"&&g&&T[w]===s.localId,we=y==="single"&&g&&T[w]===s.localId,R=Se||we,A=x=>{if(!r||!(r[x]!==!1))return null;const O="",j=u[x];switch(x){case"lastPracticed":return E.jsx("td",{"data-col-id":x,className:"w-24 px-2 py-1 border-r border-slate-100 text-center text-xs text-slate-500",children:s.lastPracticed||"-"});case"selection":return E.jsx("td",{"data-col-id":x,className:"w-10 px-2 py-1 border-r border-slate-100 text-center font-medium text-slate-400 text-xs",children:D+1});case"audio":return E.jsx("td",{"data-col-id":x,className:`w-12 px-2 py-1 border-r border-slate-100 text-center ${O}`,children:E.jsx("button",{onClick:()=>ie(s),className:`p-1.5 rounded-full transition-colors ${R?"bg-indigo-600 text-white":"text-slate-400 hover:text-indigo-600 hover:bg-indigo-50"}`,children:R&&g?E.jsx(Sb,{size:14}):E.jsx(bp,{size:14})})});case"mistakes":return E.jsx("td",{"data-col-id":x,className:`w-24 px-2 py-1 border-r border-slate-100 ${O}`,children:E.jsx(DN,{value:s.mistakes})});case"confidence":return E.jsx("td",{"data-col-id":x,className:`w-20 px-2 py-1 border-r border-slate-100 text-center ${O}`,children:E.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${s.confidence>=80?"bg-green-100 text-green-700":s.confidence>=50?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.confidence,"%"]})});case"responseTime":return E.jsx("td",{"data-col-id":x,className:`w-20 px-2 py-1 border-r border-slate-100 text-center text-xs text-slate-500 font-mono ${O}`,children:s.responseTime>0?`${s.responseTime}s`:"-"});case"isMarked":return E.jsx("td",{"data-col-id":x,className:`w-12 px-2 py-1 border-r border-slate-100 text-center ${O}`,children:E.jsx("button",{onClick:()=>fe(s.localId),className:"p-0.5 hover:bg-slate-100 rounded",children:E.jsx(Eh,{size:16,className:s.isMarked?"text-red-500 fill-red-500":"text-slate-200"})})});case"delete":return E.jsx("td",{"data-col-id":x,className:"w-12 px-2 py-1 border-r border-slate-100 text-center",children:k&&E.jsx("button",{onClick:()=>pe("single",s.localId,s.japanese),className:"p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded transition-colors group-hover:text-slate-400",children:E.jsx(Ab,{size:16})})});default:const C=s[x],Xe=typeof C=="object"&&C!==null?JSON.stringify(C):String(C||""),et=d[x]===s.localId,K=!j||et,Y=x==="japanese"||x==="hiragana"||x==="Hiragana";return E.jsx("td",{"data-col-id":x,className:`px-0 border-r border-slate-100 ${!K&&!k?"bg-slate-100":"bg-white"}`,children:!K&&!k?E.jsx("div",{onClick:()=>F(s.localId,x),className:"w-full h-full px-2 py-1 text-transparent cursor-pointer hover:bg-slate-200 flex items-center justify-center transition-colors group/cell",children:E.jsx(KI,{size:16,className:"text-slate-300 group-hover/cell:text-slate-500"})}):k?E.jsx("input",{className:"w-full h-full px-2 py-1 bg-transparent outline-none text-sm border-2 border-transparent focus:border-amber-500 focus:bg-amber-50 transition-all",value:Xe,onChange:se=>q(s.localId,x,se.target.value)}):E.jsx("div",{className:`w-full h-full px-2 py-1 flex items-center text-sm leading-tight ${Y?"font-bold":""} ${R?"text-indigo-700":"text-slate-800"}`,children:Xe})})}};return E.jsx("tr",{className:`group border-b border-slate-100 hover:bg-blue-50/30 transition-colors ${Me?"bg-blue-50":R?"bg-indigo-50 border-indigo-200":"bg-white"}`,children:e.map(x=>E.jsx(Gi.Fragment,{children:(!n.find(V=>V.id===x)?.editOnly||k)&&A(x)},x))})}),MN=({playbackMode:s,playbackQueue:e,currentIndex:n,vocabList:r,isPlaying:l,audioConfig:u,onPrevTrack:d,onNextTrack:p,onTogglePlayPause:y,onCycleRepeat:g,onCycleSpeed:T,onToggleBangla:w,onHide:D,onToggleMark:k})=>{if(s!=="playlist"||e.length===0)return null;const B=r.find(q=>q.localId===e[n]);return B?E.jsxs("div",{className:"w-full bg-white/95 backdrop-blur-sm border-t border-slate-200 h-12 flex items-center justify-between px-3 md:px-4 shadow-[0_-4px_10px_-1px_rgba(0,0,0,0.1)] z-50 transition-transform duration-300",children:[E.jsxs("div",{className:"flex items-center gap-2 w-1/4 min-w-0",children:[E.jsx("div",{className:"bg-indigo-100 p-1.5 rounded-lg text-indigo-600 hidden md:block shrink-0",children:E.jsx($I,{size:18})}),E.jsxs("div",{className:"overflow-hidden flex flex-col justify-center",children:[E.jsx("div",{className:"font-bold text-slate-800 truncate text-sm leading-tight",children:B.japanese}),E.jsx("div",{className:"text-[10px] text-slate-500 truncate leading-tight",children:B.bangla})]})]}),E.jsxs("div",{className:"flex items-center justify-center gap-2 flex-1",children:[E.jsx("button",{onClick:d,className:"text-slate-400 hover:text-indigo-600 hover:bg-slate-100 p-1.5 rounded-full transition-colors",children:E.jsx(mN,{size:18})}),E.jsx("button",{onClick:y,className:"flex-shrink-0 w-9 h-9 flex items-center justify-center rounded-full shadow-sm transform active:scale-95 transition-all bg-indigo-600 text-white hover:bg-indigo-700",children:l?E.jsx(Sb,{size:18,fill:"white"}):E.jsx(bp,{size:18,fill:"white",className:"ml-0.5"})}),E.jsx("button",{onClick:p,className:"text-slate-400 hover:text-indigo-600 hover:bg-slate-100 p-1.5 rounded-full transition-colors",children:E.jsx(gN,{size:18})}),E.jsx("button",{onClick:()=>k(B.id||B.localId),className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full transition-colors order-last outline-none ${B.isMarked?"text-amber-400 bg-amber-50":"text-slate-300 hover:text-amber-400 hover:bg-slate-50"}`,title:B.isMarked?"Unmark":"Mark",children:E.jsx(_N,{size:18,fill:B.isMarked?"currentColor":"none"})}),E.jsxs("div",{className:"hidden md:block text-[9px] text-slate-400 font-mono tracking-widest uppercase ml-2",children:[n+1," / ",e.length,"  ",u.repeatMode.toUpperCase()]})]}),E.jsxs("div",{className:"flex items-center gap-2 w-1/4 justify-end min-w-0",children:[E.jsxs("div",{className:"relative group shrink-0",children:[E.jsx("select",{value:u.repeatPerItem,onChange:q=>{const F=parseInt(q.target.value);g(F)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",children:[1,2,3,5,10,20,30,40,50,100].map(q=>E.jsxs("option",{value:q,children:[q,"x"]},q))}),E.jsxs("button",{className:`px-2 py-1 rounded-[6px] flex items-center gap-1 transition-all ${u.repeatPerItem>1?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"}`,title:`Repeat: ${u.repeatPerItem}x`,children:[E.jsx(oN,{size:14}),E.jsxs("span",{className:"text-[10px] font-bold",children:[u.repeatPerItem,"x"]})]})]}),E.jsxs("button",{onClick:T,className:"px-2 py-1 rounded-[6px] bg-slate-100 text-slate-500 text-[10px] font-bold w-10 hover:bg-slate-200 transition-colors",title:"Speed",children:[u.speed,"x"]}),E.jsx("button",{onClick:D,className:"p-1 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors ml-1",title:"Hide",children:E.jsx(lu,{size:18})})]})]}):null},kN=({colId:s,def:e,isEditMode:n,sortConfig:r,onSort:l,columnVisibility:u,onDragStart:d,onDragOver:p,onDrop:y,columnWidths:g,setColumnWidths:T})=>{if(!e||u[s]===!1)return null;const w=e.fixed||e.id==="selection"||e.id==="delete",D=k=>{k.preventDefault(),k.stopPropagation();const B=k.clientX,q=g[s]||160,F=document.getElementById(`col-${s}`);let ie;const fe=Me=>{ie&&cancelAnimationFrame(ie),ie=requestAnimationFrame(()=>{const Se=Me.clientX-B,we=Math.max(80,q+Se);F&&(F.style.width=`${we}px`)})},pe=Me=>{document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",pe),ie&&cancelAnimationFrame(ie);const Se=Me.clientX-B,we=Math.max(80,q+Se);T(R=>({...R,[s]:we}))};document.addEventListener("mousemove",fe),document.addEventListener("mouseup",pe)};return E.jsxs("th",{draggable:!w,onDragStart:k=>!w&&d(k,s),onDragOver:w?void 0:p,onDrop:k=>!w&&y(k,s),"data-col-id":s,className:`
        relative
        px-2 py-2
        bg-slate-50
        border-b border-r border-slate-200
        text-xs font-bold uppercase tracking-wider
        select-none
        ${w?"text-center":"cursor-move hover:bg-slate-100"}
        ${n?"bg-amber-50 border-amber-200":""}
      `,children:[E.jsxs("div",{className:"flex items-center gap-1",onClick:()=>e.sortable&&l(e.id),children:[e.icon&&E.jsx(e.icon,{size:14}),E.jsx("span",{children:e.label}),r.key===e.id&&E.jsx("span",{className:"ml-auto",children:r.direction==="asc"?"":""})]}),!w&&E.jsx("div",{onMouseDown:D,className:`\r
            absolute top-0 right-0\r
            h-full w-1\r
            cursor-col-resize\r
            hover:bg-indigo-400\r
          `})]})},Nv=({label:s,items:e,activeValues:n,onToggle:r,color:l="blue"})=>{if(!e||e.length===0)return null;const u=Array.isArray(n)?n:[],d={blue:{active:"bg-blue-600 text-white shadow-md shadow-blue-200",inactive:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-blue-300"},indigo:{active:"bg-indigo-600 text-white shadow-md shadow-indigo-200",inactive:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-indigo-300"}},p=d[l]||d.blue;return E.jsxs("div",{className:"flex items-center gap-2 overflow-hidden px-1 select-none transition-all duration-300 h-7 border-b border-transparent",children:[E.jsx("div",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider mr-0.5 w-[50px] shrink-0 text-right",children:s==="L"?"Lesson":"Can-do"}),E.jsxs("div",{className:"flex gap-1 overflow-x-auto items-center h-full no-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[E.jsx("style",{children:" .no-scrollbar::-webkit-scrollbar { display: none; } "}),e.map(([y,g])=>{const T=u.includes(y);return E.jsxs("button",{onClick:()=>r(y),title:`${s==="L"?"Lesson":"Can-do"} ${y}  ${g} words`,className:`
                                    flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold transition-all whitespace-nowrap border shrink-0
                                    ${T?p.active:p.inactive}
                                `,children:[E.jsxs("span",{children:[s,y]}),E.jsx("span",{className:`text-[9px] opacity-70 ${T?"bg-white/20 px-1 rounded-[2px]":"text-slate-400 bg-slate-100 px-1 rounded-[2px]"}`,children:g}),T&&E.jsx(xb,{size:10,className:"ml-0.5 opacity-80 hover:opacity-100"})]},y)})]})]})},VN=(s,e=600)=>{const[n,r]=te.useState(0);return Gi.useEffect(()=>{let l=n;const u=performance.now();let d;const p=y=>{const g=y-u,T=Math.min(g/e,1),w=1-Math.pow(1-T,4);r(Math.floor(l+(s-l)*w)),T<1&&(d=requestAnimationFrame(p))};return l!==s&&(d=requestAnimationFrame(p)),()=>cancelAnimationFrame(d)},[s]),n},Dv=({label:s,options:e,selectedValues:n,onChange:r})=>{const l=Array.isArray(n)?n:[],u=l.length===0,[d,p]=te.useState(!1),y=Gi.useRef(null),[g,T]=te.useState({top:0,left:0}),w=Gi.useRef(null);Gi.useEffect(()=>{const q=ie=>{y.current&&!y.current.contains(ie.target)&&(!w.current||!w.current.contains(ie.target))&&p(!1)},F=ie=>{w.current&&w.current.contains(ie.target)||d&&p(!1)};return document.addEventListener("mousedown",q),window.addEventListener("scroll",F,!0),()=>{document.removeEventListener("mousedown",q),window.removeEventListener("scroll",F,!0)}},[d]);const D=q=>{let F;l.includes(q)?F=l.filter(ie=>ie!==q):F=[...l,q],r(F)},k=()=>{r([])},B=u?"All":l.length===1?l[0]:`${l.length} selected`;return E.jsxs("div",{className:"relative group flex-shrink-0",ref:y,children:[E.jsxs("button",{onClick:q=>{if(!d){const F=q.currentTarget.getBoundingClientRect();T({top:F.bottom+4,left:F.left})}p(!d)},title:`${s} Filter`,className:`
                    flex items-center justify-center gap-2 appearance-none 
                    transition-all duration-200
                    text-xs font-bold 
                    rounded shadow-sm
                    focus:outline-none 
                    ${d?"ring-2 ring-indigo-200":""}
                    h-8 min-w-[32px] md:min-w-[100px] md:px-2 md:justify-between px-0
                    ${u?"bg-white text-slate-700 border border-slate-300 hover:border-indigo-400":"bg-indigo-600 text-white border border-indigo-600 shadow-indigo-200"}
                `,children:[E.jsxs("div",{className:"md:hidden flex items-center justify-center gap-0.5",children:[E.jsx("span",{className:"text-[11px] uppercase",children:s.charAt(0)}),E.jsx(lu,{size:10,strokeWidth:3,className:`transition-transform ${d?"rotate-180":""} opacity-80`})]}),E.jsxs("span",{className:"hidden md:block truncate max-w-[100px]",children:[s,": ",B]}),E.jsx(lu,{size:12,className:`hidden md:block transition-transform ${d?"rotate-180":""} ${u?"text-slate-400":"text-indigo-200"}`})]}),d&&E.jsxs("div",{ref:w,style:{position:"fixed",top:g.top,left:g.left},className:"w-48 bg-white rounded-lg shadow-xl border border-slate-200 z-[9999] max-h-64 overflow-y-auto p-1 animate-in fade-in zoom-in-95 duration-100 origin-top-left",children:[E.jsxs("div",{onClick:()=>{k(),p(!1)},className:`flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer text-xs font-bold ${u?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[E.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${u?"bg-indigo-600 border-indigo-600":"border-slate-300 bg-white"}`,children:u&&E.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-sm"})}),"All"]}),E.jsx("div",{className:"h-px bg-slate-100 my-1"}),e.map(q=>{const F=l.includes(q);return E.jsxs("div",{onClick:()=>D(q),className:`flex items-center gap-2 px-2 py-1.5 rounded cursor-pointer text-xs font-medium ${F?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[E.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${F?"bg-indigo-600 border-indigo-600 text-white":"border-slate-300 bg-white"}`,children:F&&E.jsx("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M1 4L3.5 6.5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),s," ",q]},q)})]})]})},jN=({currentFolderId:s,folders:e,vocabList:n,selectedIds:r,isEditMode:l,hasUnsavedChanges:u,filters:d,hiddenColumns:p,viewMode:y,onFolderChange:g,onDeleteRequest:T,onEditModeToggle:w,onFilterChange:D,onViewModeChange:k,onVisibilityToggle:B,onSave:q,onDiscard:F,onPracticeStart:ie,onPlaylistStart:fe,onImportOpen:pe,setIsColumnManagerOpen:Me,isSyncing:Se,filteredData:we,onStartSmartPractice:R,trendData:A,suggestion:x,onApplySuggestion:V,onRefresh:O,onShuffle:j,isPlaying:C,onTogglePlay:Xe,showingCount:et,totalCount:K})=>{VN(et!==void 0?et:we.length);const[Y,se]=te.useState(!1),[ce,Re]=te.useState(!1),I=Gi.useRef(null),[X,re]=te.useState(0),[le,he]=te.useState(typeof window<"u"?window.innerWidth>=768:!0);Gi.useLayoutEffect(()=>{const ke=()=>he(window.innerWidth>=768);window.addEventListener("resize",ke);const Oe=new ResizeObserver(Qe=>{for(let zt of Qe)zt.contentRect.width>0&&re(Math.floor(zt.contentRect.width))});return I.current&&Oe.observe(I.current),I.current&&re(I.current.offsetWidth),()=>{window.removeEventListener("resize",ke),Oe.disconnect()}},[]);const _e=90,ve=36;let ze=X-_e;const it=le||ze>=ve;!le&&it&&(ze-=ve);const Nn=le||!l&&ze>=ve;!le&&Nn&&!l&&(ze-=ve);const Kn=le||!l&&ze>=ve;!le&&Kn&&!l&&(ze-=ve);const Dn=le||ze>=ve;!le&&Dn&&(ze-=ve);const pi=le||ze>=ve;!le&&pi&&(ze-=ve);const Yt=le||ze>=ve;!le&&Yt&&(ze-=ve);const Ii=le||ze>=100,On=te.useMemo(()=>{const ke={};return n.forEach(Oe=>{const Qe=Oe.lesson||"?";ke[Qe]=(ke[Qe]||0)+1}),Object.entries(ke).sort((Oe,Qe)=>(parseInt(Oe[0])||999)-(parseInt(Qe[0])||999))},[n]),Mn=te.useMemo(()=>{const ke={};return n.forEach(Oe=>{const Qe=Oe.cando||"?";ke[Qe]=(ke[Qe]||0)+1}),Object.entries(ke).sort()},[n]);return E.jsxs("div",{className:"bg-white border-b border-slate-200 flex flex-col flex-shrink-0 z-20 shadow-sm sticky top-0 max-w-[100vw]",children:[Y&&E.jsxs("div",{className:"flex flex-col gap-0.5 p-0.5 bg-slate-50/50 border-b border-slate-100 overflow-hidden animate-in slide-in-from-top-2 duration-300",children:[E.jsx(Nv,{label:"L",items:On,activeValues:d.lesson,onToggle:ke=>{const Oe=d.lesson||[];let zt=Oe.includes(ke)?Oe.filter(Yn=>Yn!==ke):[...Oe,ke];D({...d,lesson:zt})},color:"blue"}),E.jsx(Nv,{label:"C",items:Mn,activeValues:d.cando,onToggle:ke=>{const Oe=d.cando||[];let zt=Oe.includes(ke)?Oe.filter(Yn=>Yn!==ke):[...Oe,ke];D({...d,cando:zt})},color:"indigo"})]}),E.jsx("div",{className:"bg-white z-10 border-b border-slate-200 shadow-sm max-w-[100vw]",children:E.jsxs("div",{ref:I,className:"flex items-center gap-1 p-1 overflow-x-auto no-scrollbar",children:[Se&&E.jsx(Tb,{size:12,className:"text-blue-600 animate-spin mr-2 flex-shrink-0"}),u&&!Se&&E.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse flex-shrink-0",title:"Unsaved Changes"}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx(Dv,{label:"Lesson",options:[...new Set(n.map(ke=>String(ke.lesson)))].sort((ke,Oe)=>(parseInt(ke)||0)-(parseInt(Oe)||0)),selectedValues:d.lesson,onChange:ke=>D({...d,lesson:ke})}),E.jsx(Dv,{label:"Can-do",options:[...new Set(n.map(ke=>String(ke.cando)))].sort((ke,Oe)=>(parseInt(ke)||0)-(parseInt(Oe)||0)),selectedValues:d.cando,onChange:ke=>D({...d,cando:ke})})]}),E.jsx("div",{className:"w-px h-6 bg-slate-100 mx-1 flex-shrink-0"}),it&&E.jsxs("button",{onClick:()=>k("problem"),className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-bold transition-all whitespace-nowrap ${y==="problem"?"bg-red-100 text-red-600 border border-red-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,title:"Toggle Marked View",children:[E.jsx(Eh,{size:14}),E.jsx("span",{className:"hidden md:inline",children:"Marked"})]}),!l&&E.jsxs(E.Fragment,{children:[Nn&&E.jsx("button",{onClick:C?Xe:fe,disabled:Se,className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg shadow-sm transition-colors disabled:opacity-50 ${C?"bg-slate-800 text-white hover:bg-slate-900":"bg-white border border-slate-200 text-slate-800 hover:bg-slate-50"}`,title:C?"Pause":"Start Playlist",children:C?E.jsxs("div",{className:"flex gap-0.5",children:[E.jsx("div",{className:"w-1 h-3 bg-current rounded-full"}),E.jsx("div",{className:"w-1 h-3 bg-current rounded-full"})]}):E.jsx(bp,{size:14,className:"ml-0.5"})}),Kn&&E.jsx("button",{onClick:j,disabled:Se,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-purple-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Shuffle",children:E.jsx(fN,{size:14})})]}),pi&&E.jsx("button",{onClick:O,disabled:Se,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-slate-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Refresh",children:E.jsx(rN,{size:14,className:Se?"animate-spin":""})}),Ii&&E.jsxs("div",{className:"hidden md:flex items-center gap-0.5 scale-90 origin-left",children:[E.jsx("button",{onClick:()=>B("bangla"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${p.bangla?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"BN"}),E.jsx("button",{onClick:()=>B("japanese"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${p.japanese?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"JP"}),E.jsx("button",{onClick:()=>B("kanji"),className:`px-1.5 py-0.5 rounded text-[10px] font-bold border transition-colors ${p.kanji?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"KN"})]}),Ii&&E.jsxs("div",{className:"md:hidden flex items-center gap-0.5",children:[E.jsx("button",{onClick:()=>B("bangla"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${p.bangla?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"BN"}),E.jsx("button",{onClick:()=>B("japanese"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${p.japanese?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"JP"}),E.jsx("button",{onClick:()=>B("kanji"),className:`w-8 h-8 flex items-center justify-center rounded-lg border text-[10px] font-bold transition-colors ${p.kanji?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-600 border-slate-200"}`,children:"KN"})]}),l&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:F,className:"bg-white border px-2 py-1 rounded text-xs whitespace-nowrap",children:E.jsx(TN,{size:14})}),E.jsx("button",{onClick:q,className:"bg-green-600 text-white px-2 py-1 rounded text-xs whitespace-nowrap",children:E.jsx(wb,{size:14})})]}),Dn&&E.jsxs("button",{onClick:()=>se(!Y),className:`flex-shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-semibold transition-all shadow-sm ${Y?"bg-indigo-600 text-white border border-indigo-600 shadow-indigo-200":"bg-white text-slate-600 border border-slate-200"}`,title:Y?"Hide Chips":"Show Chips",children:[Y?E.jsx(lu,{size:14}):E.jsx(Eb,{size:14}),E.jsx("span",{className:"hidden md:inline",children:"Chips"})]}),Yt&&E.jsx("button",{onClick:()=>Me(!0),className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white border border-slate-200 text-slate-600 rounded-lg shadow-sm hover:bg-slate-50 disabled:opacity-50",title:"Columns",children:E.jsx(cN,{size:14})}),E.jsxs("div",{className:"hidden md:flex items-center gap-2 ml-auto mr-2 text-[11px] bg-slate-100 px-3 py-1.5 rounded-full border border-slate-200",children:[E.jsx("div",{className:"font-bold text-slate-700 max-w-[200px] truncate",children:s==="root"?"My Drive":e.find(ke=>ke.id===s)?.name||"..."}),E.jsx("div",{className:"text-slate-300",children:"|"}),E.jsxs("div",{className:"text-slate-600 font-medium",children:["Showing ",E.jsx("span",{className:"text-slate-900 font-bold font-mono",children:et!==void 0?et:we.length})," / ",E.jsx("span",{className:"font-mono",children:K!==void 0?K:n.length})]})]})]})})]})},PN=({isOpen:s,onClose:e,allColumns:n,columnOrder:r,setColumnOrder:l,columnVisibility:u,setColumnVisibility:d})=>{if(!s)return null;const p=(g,T)=>{if(T<0||T>=r.length)return;const w=[...r],[D]=w.splice(g,1);w.splice(T,0,D),l(w)},y=g=>{d(T=>({...T,[g]:!T[g]}))};return E.jsx("div",{className:"fixed inset-0 z-[120] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden flex flex-col max-h-[80vh]",children:[E.jsxs("div",{className:"p-4 border-b bg-slate-50 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-slate-700",children:"Manage Columns"}),E.jsx("button",{onClick:e,children:E.jsx(bb,{size:20,className:"text-slate-400 hover:text-slate-600"})})]}),E.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-2",children:r.map((g,T)=>{const w=n.find(k=>k.id===g);if(!w)return null;const D=u[g]!==!1;return E.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg border ${D?"bg-white border-slate-200":"bg-slate-50 border-slate-100 opacity-60"}`,children:[E.jsx("input",{type:"checkbox",checked:D,onChange:()=>y(w.id),className:"rounded text-indigo-600 focus:ring-indigo-500",disabled:w.id==="selection"}),E.jsx("span",{className:"flex-1 text-sm font-bold text-slate-700",children:w.label||(w.icon?E.jsx(w.icon,{size:14}):"System")}),D&&E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>p(T,T-1),disabled:T===0||w.fixed||w.id==="selection"||w.id==="delete",className:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-indigo-600 disabled:opacity-20",children:E.jsx(VI,{size:16})}),E.jsx("button",{onClick:()=>p(T,T+1),disabled:T===r.length-1||w.fixed||w.id==="selection"||w.id==="delete",className:"p-1 hover:bg-slate-100 rounded text-slate-400 hover:text-indigo-600 disabled:opacity-20",children:E.jsx(lu,{size:16})})]})]},w.id)})}),E.jsxs("div",{className:"p-4 border-t bg-slate-50 text-right",children:[E.jsx("button",{onClick:()=>{l(n.map(T=>T.id));const g={};n.forEach(T=>g[T.id]=!0),d(g)},className:"text-xs text-red-500 font-bold hover:underline mr-4",children:"Reset Default"}),E.jsx("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 text-sm",children:"Done"})]})]})})},LN=({isOpen:s,onClose:e,onImport:n})=>{const[r,l]=te.useState("input"),[u,d]=te.useState(""),[p,y]=te.useState([]),[g,T]=te.useState([]);if(!s)return null;const w=()=>{const q=u.trim().split(`
`).map(ie=>ie.split("	")).filter(ie=>ie.length>0&&ie.some(fe=>fe.trim()));if(q.length===0){alert("No data found");return}y(q);const F=Math.max(...q.map(ie=>ie.length));T(new Array(F).fill("skip")),l("mapping")},D=(B,q)=>{const F=[...g];q!=="skip"&&F.includes(q)&&(F[F.indexOf(q)]="skip"),F[B]=q,T(F)},k=()=>{const B=p.map(q=>{const F={};return g.forEach((ie,fe)=>{ie!=="skip"&&(F[ie]=q[fe])}),F});n(B),l("input"),d(""),y([])};return E.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-2xl shadow-2xl flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r==="input"?"Step 1: Paste Data":"Step 2: Map Columns"}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:r==="input"?"Paste your vocabulary from Excel or Google Sheets.":"Assign column types. Hiragana is required."})]}),E.jsx("button",{onClick:e,children:E.jsx(bb,{className:"text-slate-400 hover:text-red-500",size:24})})]}),E.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:r==="input"?E.jsx("textarea",{autoFocus:!0,value:u,onChange:B=>d(B.target.value),placeholder:`Example:
			1	1
			1	1`,className:"w-full h-96 p-4 border border-slate-300 rounded-xl font-mono text-sm bg-slate-50 focus:ring-2 focus:ring-indigo-500 outline-none resize-none"}):E.jsx("div",{className:"space-y-6",children:E.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[E.jsx("thead",{children:E.jsx("tr",{children:g.map((B,q)=>E.jsxs("th",{className:"p-2 border-b border-r border-slate-200 bg-slate-50 min-w-[150px]",children:[E.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:["Column ",String.fromCharCode(65+q)]}),E.jsxs("select",{value:B,onChange:F=>D(q,F.target.value),className:`w-full p-2 rounded border text-sm font-bold ${B==="skip"?"text-slate-400 border-slate-200":"text-indigo-700 border-indigo-300 bg-indigo-50"}`,children:[E.jsx("option",{value:"skip",children:"Skip"}),E.jsx("option",{value:"japanese",children:"Hiragana (Req)"}),E.jsx("option",{value:"kanji",children:"Kanji"}),E.jsx("option",{value:"bangla",children:"Bangla"}),E.jsx("option",{value:"lesson",children:"Lesson No."}),E.jsx("option",{value:"cando",children:"Can-do No."})]})]},q))})}),E.jsx("tbody",{children:p.slice(0,5).map((B,q)=>E.jsx("tr",{className:"border-b border-slate-100 last:border-0",children:g.map((F,ie)=>E.jsx("td",{className:`p-3 border-r border-slate-100 ${g[ie]==="skip"?"text-slate-400 bg-slate-50":"text-slate-800"}`,children:B[ie]||E.jsx("span",{className:"italic text-slate-300",children:"empty"})},ie))},q))})]})})})}),E.jsx("div",{className:"p-6 border-t bg-slate-50 rounded-b-2xl flex justify-between items-center",children:E.jsxs("div",{className:"flex gap-3 ml-auto",children:[r==="mapping"&&E.jsx("button",{onClick:()=>l("input"),className:"px-4 py-2.5 text-slate-600 font-bold hover:bg-slate-200 rounded-lg transition-colors",children:"Back"}),r==="input"?E.jsxs("button",{onClick:w,disabled:!u.trim(),className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors shadow-sm flex items-center gap-2",children:["Next Step ",E.jsx(Eb,{size:16})]}):E.jsxs("button",{onClick:k,disabled:!g.includes("japanese"),className:"px-6 py-2.5 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:bg-slate-400 shadow-sm transition-colors flex items-center gap-2",children:[E.jsx(qI,{size:16})," Confirm Import"]})]})})]})})},UN=({user:s,isMobile:e})=>{const[n,r]=te.useState(!1),l=te.useRef(null);te.useEffect(()=>{const d=p=>{l.current&&!l.current.contains(p.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const u=async()=>{try{await w1(Tr)}catch(d){console.error("Logout failed",d)}};return s?E.jsxs("div",{className:"relative p-4 mt-auto border-t border-slate-800",ref:l,children:[E.jsxs("button",{onClick:()=>r(!n),className:`flex items-center gap-3 w-full p-2 rounded-full hover:bg-slate-800 transition-colors ${n?"bg-slate-800":""}`,title:s.email,children:[E.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-slate-600 bg-slate-700 flex items-center justify-center shrink-0",children:s.photoURL?E.jsx("img",{src:s.photoURL,alt:"User",className:"w-full h-full object-cover"}):E.jsx("div",{className:"text-slate-300 font-bold text-sm",children:(s.displayName||s.email||"U").charAt(0).toUpperCase()})}),E.jsxs("div",{className:`flex-1 text-left overflow-hidden ${e?"block":"hidden lg:block"}`,children:[E.jsx("div",{className:"text-sm font-medium text-white truncate",children:s.displayName||"User"}),E.jsx("div",{className:"text-xs text-slate-400 truncate",children:s.email})]})]}),n&&E.jsxs("div",{className:"absolute bottom-full left-4 mb-2 w-48 bg-white rounded-lg shadow-xl overflow-hidden py-1 z-50 animate-in fade-in zoom-in-95 origin-bottom-left",style:{left:e?"16px":"64px",bottom:"16px"},children:[E.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:[E.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:s.displayName||"User"}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.email})]}),E.jsxs("button",{onClick:u,className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 font-medium",children:[E.jsx(WI,{size:16}),"Sign out"]})]})]}):null},Ov=({folders:s,currentFolderId:e,handleFolderChange:n,isMobile:r=!1,user:l})=>E.jsxs("div",{className:`${r?"w-full":"w-16 lg:w-64"} bg-slate-900 border-r border-slate-800 flex flex-col h-full flex-shrink-0 transition-all`,children:[E.jsxs("div",{className:`p-4 h-16 border-b border-slate-800 flex items-center ${r?"justify-start":"justify-center lg:justify-start"} gap-3`,children:[E.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg text-white flex items-center justify-center font-bold text-lg shadow-lg flex-shrink-0",children:""}),E.jsxs("span",{className:`${r?"block":"hidden lg:block"} font-bold text-white text-lg`,children:["Irodori",E.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-1",children:[E.jsx("div",{className:`${r?"block":"hidden lg:block"} px-4 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2`,children:"My Workbooks"}),E.jsxs("button",{onClick:()=>n("root"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors ${e==="root"?"bg-slate-800 text-white border-r-2 border-indigo-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[E.jsx(Rv,{size:20,className:"flex-shrink-0"}),E.jsx("span",{className:`${r?"block":"hidden lg:block"}`,children:"All Books"})]}),s.filter(u=>u.parentId==="root").map(u=>E.jsx("div",{className:"group relative",children:E.jsxs("button",{onClick:()=>n(u.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium transition-colors ${e===u.id?"bg-slate-800 text-white border-r-2 border-indigo-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[E.jsx(Rv,{size:20,className:`flex-shrink-0 ${e===u.id?"text-yellow-400 fill-yellow-400":""}`}),E.jsx("span",{className:`${r?"block":"hidden lg:block"}`,children:u.name})]})},u.id))]}),E.jsx(UN,{user:l,isMobile:r})]}),zN=({currentPage:s,totalPages:e,itemsPerPage:n,onPageChange:r,onItemsPerPageChange:l,totalItems:u})=>{const d=[50,100,150,250,500,1e3],p=te.useMemo(()=>{const y=[];if(e<=7)for(let g=1;g<=e;g++)y.push(g);else if(s<=4){for(let g=1;g<=5;g++)y.push(g);y.push("..."),y.push(e)}else if(s>=e-3){y.push(1),y.push("...");for(let g=e-4;g<=e;g++)y.push(g)}else y.push(1),y.push("..."),y.push(s-1),y.push(s),y.push(s+1),y.push("..."),y.push(e);return y},[s,e]);return E.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-between gap-2 py-2 px-3 bg-white border-t border-slate-100 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.02)] z-20 text-xs",children:[E.jsxs("div",{className:"flex items-center gap-2 group order-1",children:[E.jsx("label",{htmlFor:"rows-per-page",className:"hidden sm:block text-[10px] font-bold uppercase tracking-wider text-slate-400 group-hover:text-slate-600 transition-colors",children:"Rows"}),E.jsxs("div",{className:"relative",children:[E.jsx("select",{id:"rows-per-page",value:n,onChange:y=>l(Number(y.target.value)),className:"appearance-none bg-slate-50 border border-slate-200 text-slate-700 text-xs font-bold rounded pl-2 pr-6 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 hover:border-slate-300 transition-all cursor-pointer shadow-sm",children:d.map(y=>E.jsx("option",{value:y,children:y},y))}),E.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-slate-500",children:E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),E.jsxs("div",{className:"flex items-center gap-1 order-2",children:[E.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[E.jsx(Fc,{onClick:()=>r(1),disabled:s===1,title:"First Page",children:E.jsx(PI,{size:14})}),E.jsx(Fc,{onClick:()=>r(s-1),disabled:s===1,title:"Previous Page",children:E.jsx(DI,{size:14})})]}),E.jsx("div",{className:"flex items-center gap-1",children:p.map((y,g)=>E.jsx(Gi.Fragment,{children:y==="..."?E.jsx("span",{className:"text-slate-400 px-0.5 select-none font-medium",children:"..."}):E.jsx("button",{onClick:()=>r(y),className:`
                    min-w-[28px] h-7 px-1.5 rounded text-xs font-bold transition-all duration-200 border
                    ${s===y?"bg-indigo-600 text-white border-indigo-600 shadow-sm shadow-indigo-200":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:text-indigo-600 hover:border-indigo-200"}
                  `,children:y})},g))}),E.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[E.jsx(Fc,{onClick:()=>r(s+1),disabled:s===e,title:"Next Page",children:E.jsx(MI,{size:14})}),E.jsx(Fc,{onClick:()=>r(e),disabled:s===e,title:"Last Page",children:E.jsx(UI,{size:14})})]})]})]})},Fc=({onClick:s,disabled:e,title:n,children:r})=>E.jsx("button",{onClick:s,disabled:e,title:n,className:`
      p-1.5 rounded transition-all duration-200 flex items-center justify-center border
      ${e?"text-slate-300 bg-slate-50 border-transparent cursor-not-allowed":"text-slate-500 bg-white border-slate-200 hover:text-indigo-600 hover:bg-indigo-50 hover:border-indigo-100 active:scale-95"}
    `,children:r});window._speechUtteranceHolder=null;window.androidAudioFinished=()=>{window._currentAndroidCallback&&(window._currentAndroidCallback(),window._currentAndroidCallback=null)};const Mv=()=>{window.AndroidNative&&window.AndroidNative.stop&&(window.AndroidNative.stop(),window._currentAndroidCallback=null),window.speechSynthesis&&window.speechSynthesis.cancel(),window._speechUtteranceHolder=null},BN=(s,e)=>{if(window.AndroidNative&&window.AndroidNative.speak){window._currentAndroidCallback=e,window.AndroidNative.speak(s);return}if(window.speechSynthesis&&window.speechSynthesis.cancel(),!s||!window.speechSynthesis){e&&e();return}const n=()=>{const l=new SpeechSynthesisUtterance(s);l.lang="ja-JP",l.rate=1,l.pitch=1;const d=window.speechSynthesis.getVoices().find(p=>p.lang==="ja-JP"&&/natural|google|premium|kyoko|otoya/i.test(p.name));d&&(l.voice=d),window._speechUtteranceHolder=l,l.onend=()=>{window._speechUtteranceHolder=null,e&&e()},l.onerror=p=>{console.error("TTS Error",p),window._speechUtteranceHolder=null,e&&e()},window.speechSynthesis.speak(l)};if(window.speechSynthesis.getVoices().length>0)setTimeout(n,10);else{let l=!1;const u=()=>{l||(l=!0,setTimeout(n,10))};window.speechSynthesis.onvoiceschanged=u,setTimeout(()=>{l||(l=!0,setTimeout(n,10))},300)}},qN=(s,e,n)=>{const[r,l]=te.useState("idle"),[u,d]=te.useState(!1),[p,y]=te.useState([]),[g,T]=te.useState(-1),[w,D]=te.useState(0),[k,B]=te.useState({speed:1,repeatMode:"1x",includeBangla:!1}),[q,F]=te.useState(!1);te.useRef(null);const ie=()=>{u?(Mv(),d(!1)):d(!0)},fe=te.useCallback(()=>{Mv(),d(!1),l("idle"),y([]),T(-1),D(0),F(!1)},[]),pe=te.useCallback(()=>{if(u){if(w<(k.repeatPerItem||1)-1){setTimeout(()=>D(R=>R+1),500);return}g<p.length-1?setTimeout(()=>{D(0),T(R=>R+1)},800):r==="playlist"&&k.playlistLoop?setTimeout(()=>{D(0),T(0)},800):(d(!1),D(0),T(0),n("Playback Finished"))}},[u,w,k,g,p.length,r,n]),Me=()=>{const R=p[g],A=s.find(x=>x.localId===R)||s.find(x=>x.id===R);if(!A){pe();return}BN(A.japanese,()=>{pe()})};te.useEffect(()=>{u&&g>=0&&g<p.length&&Me()},[u,g,p,w]);const Se=(R=0)=>{y(e.map(A=>A.localId)),T(R),l("playlist"),D(0),d(!0),F(!1)},we=te.useCallback(R=>{fe(),l("single"),y([R.localId]),T(0),d(!0)},[fe]);return{playbackMode:r,isPlaying:u,playbackQueue:p,currentIndex:g,audioConfig:k,isAudioBarManuallyHidden:q,setAudioConfig:B,setIsAudioBarManuallyHidden:F,togglePlayPause:ie,stopPlaylist:fe,startPlaylist:Se,handlePlaySingle:we,onPrevTrack:()=>{g>0&&T(R=>R-1)},onNextTrack:()=>{g<p.length-1&&T(R=>R+1)}}},HN=(s=[],e,n,r,l,u,d,p)=>{const y=d?p:s,g=Array.isArray(y)?y:[],T=te.useMemo(()=>{let k=[...g];if(e!=="root"&&(k=k.filter(B=>B.folderId===e)),n){const B=n.toLowerCase();k=k.filter(q=>q.japanese.includes(B)||q.bangla.includes(B)||q.kanji.includes(B))}if(Array.isArray(r.lesson)&&r.lesson.length>0){const B=r.lesson.map(String);k=k.filter(q=>B.includes(String(q.lesson)))}else r.lesson!=="all"&&!Array.isArray(r.lesson)&&(k=k.filter(B=>String(B.lesson)===String(r.lesson)));if(Array.isArray(r.cando)&&r.cando.length>0){const B=r.cando.map(String);k=k.filter(q=>B.includes(String(q.cando)))}else r.cando!=="all"&&!Array.isArray(r.cando)&&(k=k.filter(B=>String(B.cando)===String(r.cando)));if(u==="problem"?k=k.filter(B=>B.isMarked):u==="weak"&&(k=k.filter(B=>B.isMarked)),l.key==="random")for(let B=k.length-1;B>0;B--){const q=Math.floor(Math.random()*(B+1));[k[B],k[q]]=[k[q],k[B]]}else l.key&&k.sort((B,q)=>{let F=B[l.key],ie=q[l.key];return typeof F=="string"&&(F=F.toLowerCase()),typeof ie=="string"&&(ie=ie.toLowerCase()),(F<ie?-1:1)*(l.direction==="asc"?1:-1)});return k},[g,e,n,r,l,u]),w=te.useMemo(()=>{if(!s||!Array.isArray(s))return[];const k=new Date;return Array.from({length:7},(B,q)=>{const F=new Date(k);return F.setDate(k.getDate()-(6-q)),{date:F.toISOString().split("T")[0],score:0,hasActivity:!1}})},[s]),D=te.useMemo(()=>{if(!s||!Array.isArray(s))return null;const k=s.filter(q=>q.isMarked);if(k.length===0)return null;const B={};return k.forEach(q=>{const F=`${q.lesson}-${q.cando}`;B[F]||(B[F]={count:0,lesson:q.lesson,cando:q.cando}),B[F].count++}),Object.values(B).sort((q,F)=>F.count-q.count)[0]||null},[s]);return{filteredAndSortedData:T,trendData:w,weaknessSuggestion:D,safeDataList:g}},FN=(s,e,n)=>te.useMemo(()=>{let r=0;return n==="root"?r=s.length:r=s.filter(u=>u.folderId===n).length,{showingCount:e.length,totalCount:r}},[s,e,n]),qh=()=>vh,Hh=()=>Tr.currentUser?Tr.currentUser.uid:null,GN=async()=>{const s=qh();if(!s)return null;const e=Hh();if(!e)return console.warn("[Firestore] No user ID available. Skipping load."),null;try{console.log(`[Firestore] Fetching config for ${e}`);const n=Po(s,"users",e,"preferences","config"),r=await Ep(n);return r.exists()?r.data():null}catch(n){return console.error("[Firestore] Failed to load config",n),null}},QN=async s=>{const e=qh();if(!e)return;const n=Hh();if(!n){console.warn("[Firestore] No user ID available. Skipping save.");return}try{console.log(`[Firestore] Saving config for ${n}`,s);const r=Po(e,"users",n,"preferences","config");await Ro(r,s,{merge:!0})}catch(r){console.error("[Firestore] Failed to save config",r)}},qi={itemsPerPage:"itemsPerPage",columnOrder:"columnOrder",columnVisibility:"columnVisibility",columnWidths:"columnWidths"},zl={itemsPerPage:500,columnOrder:[],columnVisibility:{},columnWidths:{}};class KN{constructor(){this._isHydrated=!1,this._listeners=new Set,this._backgroundSync()}loadPreferences(){return{itemsPerPage:this._get(qi.itemsPerPage,zl.itemsPerPage),columnOrder:this._get(qi.columnOrder,zl.columnOrder),columnVisibility:this._get(qi.columnVisibility,zl.columnVisibility),columnWidths:this._get(qi.columnWidths,zl.columnWidths)}}subscribe(e){return this._listeners.add(e),()=>this._listeners.delete(e)}_notifyListeners(){const e=this.loadPreferences();this._listeners.forEach(n=>n(e))}savePreferences(e){if(Object.keys(e).forEach(n=>{qi[n]?this._set(qi[n],e[n]):console.warn(`PreferenceStore: Unknown preference key '${n}'`)}),this._isHydrated){const n={};Object.keys(e).forEach(r=>{qi[r]&&(n[r]=e[r])}),Object.keys(n).length>0&&QN(n)}else console.log("[PreferenceStore] Skipping Firestore save (not hydrated).",e)}async _backgroundSync(){const e=await GN();if(e){console.log("[PreferenceStore] Synced config from Firestore",e);let n=!1;Object.keys(qi).forEach(r=>{if(e[r]!==void 0){const l=this._get(qi[r],zl[r]);JSON.stringify(l)!==JSON.stringify(e[r])&&(this._set(qi[r],e[r]),n=!0)}}),n&&this._notifyListeners()}this._isHydrated=!0,console.log("[PreferenceStore] Hydration complete. Firestore writes enabled.")}_get(e,n){try{const r=localStorage.getItem(e);return r===null?n:JSON.parse(r)}catch(r){return console.warn(`PreferenceStore: Failed to load '${e}'`,r),n}}_set(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(r){console.warn(`PreferenceStore: Failed to save '${e}'`,r)}}}const Ts=new KN,YN=async()=>{const s=qh();if(!s)return{};const e=Hh();if(!e)return console.warn("[Firestore] No user ID available for progress fetch."),{};try{console.log(`[Firestore] Fetching learning progress for ${e}`);const n=iI(s,"users",e,"progress"),r=await vI(n),l={};return r.empty?(console.log("[Firestore] No progress data found."),{}):(r.forEach(u=>{l[u.id]=u.data()}),console.log(`[Firestore] Loaded ${Object.keys(l).length} progress items.`),l)}catch(n){return console.error("[Firestore] Failed to fetch progress",n),{}}},XN=async(s,e)=>{const n=qh();if(!n)return;const r=Hh();if(!r){console.warn("[Firestore] No user ID available. Skipping save.");return}try{console.log(`[Firestore] Updating progress for ${s}`,e);const l=Po(n,"users",r,"progress",s);await Ro(l,{...e,updatedAt:new Date().toISOString()},{merge:!0})}catch(l){throw console.error("[Firestore] Failed to update progress",l),l}};function $N({vocabList:s,setVocabList:e,folders:n,setFolders:r,currentFolderId:l,setCurrentFolderId:u,isLoading:d,setIsLoading:p,isSyncing:y,setIsSyncing:g,apiService:T,fetchSheetData:w,user:D}){const[k,B]=te.useState(!1),[q,F]=te.useState([]),[ie,fe]=te.useState(!1),[pe,Me]=te.useState({japanese:!1,kanji:!1,bangla:!1}),[Se,we]=te.useState({japanese:null,kanji:null,bangla:null}),R=te.useRef(0),[A,x]=te.useState(()=>Ts.loadPreferences().columnOrder),[V,O]=te.useState(()=>Ts.loadPreferences().columnVisibility),[j,C]=te.useState(()=>Ts.loadPreferences().columnWidths),[Xe,et]=te.useState(!1),[K,Y]=te.useState(!1);te.useEffect(()=>{Ts.savePreferences({columnWidths:j})},[j]);const se=te.useMemo(()=>{let W=[];if(s&&s.length>0){const oe=s[0];W=Object.keys(oe).filter(Ie=>!xN.has(Ie)).filter(Ie=>Ie!=="japanese"||!oe._isSyntheticJapanese).map(Ie=>({id:Ie,label:Ie,width:"min-w-[140px]",type:"text",sortable:!0}))}return[CN,...W,...RN]},[s]);te.useEffect(()=>{x(W=>{const oe=W||[],ae=new Set(oe),Ie=se.filter($e=>!ae.has($e.id)).map($e=>$e.id);return[...oe,...Ie]})},[se]),te.useEffect(()=>{Ts.savePreferences({columnOrder:A})},[A]),te.useEffect(()=>{Ts.savePreferences({columnVisibility:V})},[V]);const[ce,Re]=te.useState({key:null,direction:"asc"}),[I,X]=te.useState({lesson:[],cando:[]}),[re,le]=te.useState(""),[he,_e]=te.useState("all"),[ve,ze]=te.useState(new Set),[it,Nn]=te.useState([]),[Kn,Dn]=te.useState(0),[pi,Yt]=te.useState(!1),[Ii,On]=te.useState(!1),[Mn,ke]=te.useState({open:!1,type:null,targetId:null,targetName:""}),[Oe,Qe]=te.useState(!1),[zt,Yn]=te.useState({open:!1,pendingAction:null}),[Ps,Gt]=te.useState(null),Dt=te.useCallback((W,oe="success")=>Gt({message:W,type:oe}),[]),{filteredAndSortedData:hn,trendData:Pr,weaknessSuggestion:Ni,safeDataList:Fo}=HN(s,l,re,I,ce,he,k,q),{showingCount:Lr,totalCount:Ur}=FN(s,hn,l),[Wi,fn]=te.useState(1),[ot,dn]=te.useState(()=>Ts.loadPreferences().itemsPerPage);te.useEffect(()=>{Ts.savePreferences({itemsPerPage:ot})},[ot]),te.useEffect(()=>{const W=Ts.subscribe(oe=>{oe.itemsPerPage!==ot&&dn(oe.itemsPerPage),JSON.stringify(oe.columnOrder)!==JSON.stringify(A)&&x(oe.columnOrder),JSON.stringify(oe.columnVisibility)!==JSON.stringify(V)&&O(oe.columnVisibility),JSON.stringify(oe.columnWidths)!==JSON.stringify(j)&&C(oe.columnWidths)});return()=>W()},[ot,A,V,j]),te.useEffect(()=>{fn(1)},[l,re,I,he,ce]);const vt=te.useMemo(()=>{const W=(Wi-1)*ot;return hn.slice(W,W+ot)},[hn,Wi,ot]),xa=Math.ceil(hn.length/ot),{playbackMode:gi,isPlaying:Ls,playbackQueue:mn,currentIndex:Di,audioConfig:St,isAudioBarManuallyHidden:kn,setAudioConfig:En,setIsAudioBarManuallyHidden:bn,togglePlayPause:Ra,startPlaylist:Ca,handlePlaySingle:Xn,onPrevTrack:es,onNextTrack:Go}=qN(s,hn,Dt),ts=te.useMemo(()=>l==="root"?s:s.filter(W=>W.folderId===l),[s,l]),Vn=W=>{k&&ie?Yn({open:!0,pendingAction:W}):(k&&B(!1),W())},ns=W=>Vn(()=>u(W)),is=W=>Vn(()=>X(W)),yi=(W="standard")=>{let oe=hn;if(W==="smart"&&(oe=oe.filter(ae=>ae.isMarked)),oe.length===0&&(oe=hn.slice(0,10)),oe.length===0){Dt("No words to practice!","error");return}Nn([...oe].sort(()=>Math.random()-.5)),Dn(0),Yt(!0)},Ia=()=>Vn(()=>yi()),jn=()=>Vn(()=>Ca(0)),Pn=W=>Vn(()=>_e(he===W?"all":W)),wt=W=>Vn(()=>X({lesson:W.lesson,cando:W.cando})),Ot=async()=>{if(k&&ie){Dt("Save or discard changes before refreshing","warning");return}g(!0);try{await w(!0),Dt("Data refreshed from Sheet","success")}catch(W){console.error(W),Dt("Refresh failed","error")}finally{g(!1)}},$n=()=>Vn(()=>{const W=s.filter(Ie=>Ie.isMarked),oe=Ie=>[...Ie].sort(()=>Math.random()-.5);let ae=[...oe(W).slice(0,15),...oe(s.filter(Ie=>!Ie.isMarked)).slice(0,5)];ae.length===0&&(ae=oe(s).slice(0,20)),Nn(ae),Dn(0),Yt(!0)}),Us=()=>{F(JSON.parse(JSON.stringify(s))),fe(!1),B(!0),Qe(!1),Dt("Edit Mode Started","warning")},Na=async()=>{if(y)return;const W=[],oe=[];if(q.forEach(ae=>{if(!ae.id)oe.push(ae);else{const Ie=s.find($e=>$e.id===ae.id);Ie&&JSON.stringify(Iv(Ie,ae))&&W.push({id:ae.id,...Iv(Ie,ae)})}}),W.length===0&&oe.length===0){fe(!1);return}g(!0),e(JSON.parse(JSON.stringify(q))),fe(!1);try{oe.length&&await T.sendAdd(oe),W.length&&await T.sendUpdate(W),Dt("Saved!","success"),B(!1),await w()}catch(ae){console.error(ae),Dt("Save failed","error"),fe(!0)}finally{g(!1)}},Da=()=>{F([]),fe(!1),B(!1)},Oa=()=>{Na(),Yn({open:!1,pendingAction:null}),zt.pendingAction?.()},Jn=()=>{fe(!1),B(!1),Yn({open:!1,pendingAction:null}),zt.pendingAction?.()},zs=()=>Yn({open:!1,pendingAction:null});te.useEffect(()=>{we({japanese:null,kanji:null,bangla:null})},[l,I,re,ce,he]);const Zn=W=>{Me(oe=>({...oe,[W]:!oe[W]})),we(oe=>({...oe,[W]:null}))},Tn=te.useCallback((W,oe)=>we(ae=>({...ae,[oe]:W})),[]),pn=te.useCallback((W,oe,ae)=>{k&&(F(Ie=>Ie.map($e=>$e.localId===W?{...$e,[oe]:ae}:$e)),fe(!0))},[k]),Ln=te.useCallback(async W=>{if(k)F(oe=>oe.map(ae=>ae.localId===W?{...ae,isMarked:!ae.isMarked}:ae)),fe(!0);else{const oe=s.find(Ie=>Ie.localId===W);if(!oe||!oe.id)return;const ae=!oe.isMarked;e(Ie=>Ie.map($e=>$e.localId===W?{...$e,isMarked:ae}:$e)),R.current===0&&g(!0),R.current+=1;try{await XN(oe.id,{isMarked:ae})}catch(Ie){console.error(Ie),e($e=>$e.map(gn=>gn.localId===W?{...gn,isMarked:!ae}:gn)),Dt("Failed to update mark","error")}finally{R.current-=1,R.current===0&&g(!1)}}},[k,s,T,e,Dt]),Et=async()=>{Yt(!1)},Bs=te.useCallback((W,oe,ae)=>{!k&&W!=="folder"||ke({open:!0,type:W,targetId:oe,targetName:ae})},[k]),zr=async()=>{k&&(Mn.type==="single"?F(W=>W.filter(oe=>oe.localId!==Mn.targetId)):(F(W=>W.filter(oe=>!ve.has(oe.localId))),ze(new Set)),fe(!0)),ke({open:!1,type:null,targetId:null,targetName:""})},Wn=te.useCallback(W=>{ze(oe=>{const ae=new Set(oe);return ae.has(W)?ae.delete(W):ae.add(W),ae})},[]),ei=W=>Re({key:W,direction:ce.key===W&&ce.direction==="asc"?"desc":"asc"}),qs=()=>Re({key:"random",seed:Date.now()}),Br=(W,oe)=>{W.dataTransfer.setData("text/plain",oe),W.dataTransfer.effectAllowed="move"},qr=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},Ma=(W,oe)=>{W.preventDefault();const ae=W.dataTransfer.getData("text/plain");if(ae===oe)return;const Ie=A.indexOf(ae),$e=A.indexOf(oe);if(Ie<0||$e<0)return;const gn=[...A],[rn]=gn.splice(Ie,1);gn.splice($e,0,rn),x(gn)},Hs=async W=>{const oe=W.map(ae=>({...ae,id:null,localId:`imported_${Date.now()}_${Math.random()}`,folderId:l==="root"?"Uncategorized":l,book:n.find(Ie=>Ie.id===l)?.name||"Uncategorized",mistakes:0,confidence:0,isMarked:!1,lesson:ae.lesson||"1",cando:ae.cando||"1",japanese:ae.japanese||"",bangla:ae.bangla||"",kanji:ae.kanji||""}));if(k)F(ae=>[...ae,...oe]),fe(!0);else{g(!0);try{await T.sendAdd(oe),Dt("Imported successfully","success"),await w()}catch{Dt("Import failed","error")}finally{g(!1)}}On(!1)},sn=W=>{Kn<it.length-1?Dn(oe=>oe+1):Et()};if(d)return E.jsxs("div",{className:"h-screen flex items-center justify-center font-bold text-slate-500",children:[E.jsx(Tb,{className:"animate-spin mr-2"})," Loading..."]});if(pi)return E.jsx("div",{className:"p-4 bg-slate-100 h-screen flex flex-col items-center justify-center",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl text-center",children:[E.jsx("h2",{className:"text-4xl font-bold mb-4",children:it[Kn]?.japanese}),E.jsxs("div",{className:"flex gap-4 mt-8",children:[E.jsx("button",{onClick:()=>sn(),className:"px-6 py-3 bg-red-100 text-red-600 rounded-lg font-bold",children:"Hard"}),E.jsx("button",{onClick:()=>sn(),className:"px-6 py-3 bg-green-100 text-green-600 rounded-lg font-bold",children:"Easy"})]}),E.jsx("button",{onClick:()=>Et(),className:"mt-8 text-slate-400 underline text-sm",children:"Save & Exit"})]})});const bt=gi==="playlist"&&mn.length>0&&!kn,Mt=gi==="playlist"&&mn.length>0&&kn;return E.jsxs("div",{className:"flex h-screen w-full bg-slate-100 font-sans text-slate-800 overflow-hidden",children:[Ps&&E.jsx(NN,{message:Ps.message,type:Ps.type,onClose:()=>Gt(null)}),E.jsx("div",{className:"hidden md:flex h-full flex-shrink-0",children:E.jsx(Ov,{folders:n,currentFolderId:l,handleFolderChange:ns,user:D})}),K&&E.jsxs("div",{className:"fixed inset-0 z-[100] md:hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:()=>Y(!1)}),E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-slate-900 shadow-2xl animate-in slide-in-from-left duration-200",children:E.jsx(Ov,{folders:n,currentFolderId:l,handleFolderChange:W=>{ns(W),Y(!1)},isMobile:!0,user:D})})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-slate-50",children:[E.jsxs("div",{className:"md:hidden bg-slate-900 text-white px-3 py-1.5 flex items-center justify-between shadow-md z-20 h-11 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-7 h-7 bg-indigo-600 rounded flex-shrink-0 flex items-center justify-center font-bold text-base shadow-lg",children:""}),E.jsxs("span",{className:"font-bold text-base tracking-tight leading-none",children:["Irodori",E.jsx("span",{className:"text-indigo-400",children:"AI"})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("div",{className:"text-[10px] text-slate-300 font-mono text-right leading-none flex flex-col gap-0.5",children:[E.jsx("div",{className:"font-bold text-white max-w-[100px] truncate",children:l==="root"?"My Drive":n.find(W=>W.id===l)?.name||"..."}),E.jsxs("div",{className:"opacity-80",children:[Lr," / ",Ur]})]}),E.jsx("button",{onClick:()=>Y(!0),className:"md:hidden p-1 -mr-1",children:E.jsxs("div",{className:"space-y-[3px]",children:[E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"}),E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"}),E.jsx("div",{className:"w-4 h-0.5 bg-white rounded-full"})]})})]})]}),E.jsx(jN,{currentFolderId:l,folders:n,vocabList:ts,selectedIds:ve,isEditMode:k,hasUnsavedChanges:ie,filters:I,hiddenColumns:pe,viewMode:he,onFolderChange:ns,onDeleteRequest:Bs,onEditModeToggle:()=>Qe(!0),onFilterChange:is,onViewModeChange:Pn,onVisibilityToggle:Zn,onSave:Na,onDiscard:Da,onPracticeStart:Ia,onPlaylistStart:jn,onImportOpen:()=>On(!0),setIsColumnManagerOpen:et,isSyncing:y,filteredData:hn,onStartSmartPractice:$n,trendData:Pr,suggestion:Ni,onApplySuggestion:wt,onRefresh:Ot,onShuffle:qs,isPlaying:Ls,onTogglePlay:Ra,showingCount:Lr,totalCount:Ur}),E.jsx("div",{className:"flex-1 overflow-auto transition-all duration-300",style:{paddingBottom:bt?"96px":"0px"},children:E.jsxs("table",{className:"w-full border-collapse bg-white text-sm table-fixed",children:[E.jsx("colgroup",{children:A.map(W=>{const oe=se.find(Ie=>Ie.id===W);if(!oe||oe.editOnly&&!k||V[W]===!1)return null;let ae=j[W];if(!ae){const Ie={"w-10":40,"w-12":48,"w-16":64,"w-20":80,"w-24":96,"w-32":128,"w-40":160,"w-48":192,"w-64":256},$e=oe.width&&typeof oe.width=="string"&&oe.width.match(/w-(\d+)/);Ie[oe.width]?ae=Ie[oe.width]:$e?ae=parseInt($e[1])*4:ae=160}return E.jsx("col",{id:`col-${W}`,style:{width:ae}},W)})}),E.jsx("thead",{className:"sticky top-0 z-10 shadow-sm",children:E.jsx("tr",{children:A.map(W=>{const oe=se.find(ae=>ae.id===W);return(!oe?.editOnly||k)&&E.jsx(kN,{colId:W,def:oe,isEditMode:k,sortConfig:ce,onSort:ei,columnVisibility:V,onDragStart:Br,onDragOver:qr,onDrop:Ma,onShuffle:qs,columnWidths:j,setColumnWidths:C},W)})})}),E.jsx("tbody",{children:vt.map((W,oe)=>E.jsx(ON,{item:W,index:(Wi-1)*ot+oe,columnOrder:A,columnDefs:se,columnVisibility:V,columnWidths:j,selectedIds:ve,playbackMode:gi,isPlaying:Ls,playbackQueue:mn,currentIndex:Di,hiddenColumns:pe,revealedCells:Se,isEditMode:k,onToggleSelection:Wn,onUpdateCell:pn,onRevealCell:Tn,onPlaySingle:Xn,onMark:Ln,onDeleteRequest:Bs},W.localId))})]})}),E.jsx(zN,{currentPage:Wi,totalPages:xa,itemsPerPage:ot,onPageChange:fn,onItemsPerPageChange:W=>{dn(W),fn(1)},totalItems:hn.length}),bt&&E.jsx(MN,{playbackMode:gi,playbackQueue:mn,currentIndex:Di,vocabList:Fo,isPlaying:Ls,audioConfig:St,onPrevTrack:es,onNextTrack:Go,onTogglePlayPause:Ra,onCycleRepeat:W=>En(oe=>({...oe,repeatPerItem:W,repeatMode:`${W}x`})),onCycleSpeed:()=>En(W=>({...W,speed:W.speed===1?1.5:1})),onToggleBangla:()=>En(W=>({...W,includeBangla:!W.includeBangla})),onHide:()=>bn(!0),onToggleMark:Ln}),Mt&&E.jsx("button",{onClick:()=>bn(!1),className:"fixed bottom-6 right-6 p-3 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 hover:scale-105 transition-all z-50 animate-bounce",title:"Show Player",children:E.jsx(wN,{size:24})})]}),Mn.open&&E.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:[E.jsxs("div",{className:"bg-red-50 p-6 flex flex-col items-center text-center",children:[E.jsx(Eh,{className:"text-red-600 mb-4",size:24}),E.jsx("h3",{className:"text-xl font-bold",children:"Delete?"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Delete ",Mn.targetName,"?"]})]}),E.jsxs("div",{className:"p-4 bg-white flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>ke({...Mn,open:!1}),className:"flex-1 px-4 py-2.5 font-bold text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),E.jsx("button",{onClick:zr,className:"flex-1 px-4 py-2.5 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700",children:"Delete"})]})]})}),Oe&&E.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden",children:[E.jsxs("div",{className:"bg-amber-50 p-6 flex flex-col items-center text-center",children:[E.jsx(nN,{className:"text-amber-600 mb-4",size:24}),E.jsx("h3",{className:"text-xl font-bold",children:"Enable Editing?"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["You are entering Edit Mode.",E.jsx("br",{}),"Changes are temporary until you click Save."]})]}),E.jsxs("div",{className:"p-4 bg-white flex justify-end gap-3",children:[E.jsx("button",{onClick:()=>Qe(!1),className:"flex-1 px-4 py-2.5 font-bold text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),E.jsx("button",{onClick:Us,className:"flex-1 px-4 py-2.5 bg-amber-500 text-white font-bold rounded-lg hover:bg-amber-600",children:"Start Editing"})]})]})}),zt.open&&E.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/70 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[E.jsxs("div",{className:"bg-amber-50 p-6 flex flex-col items-center text-center border-b border-amber-100",children:[E.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4",children:E.jsx(Eh,{className:"text-amber-600",size:24})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Unsaved Changes"}),E.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["You have unsaved edits in this session.",E.jsx("br",{}),"What would you like to do?"]})]}),E.jsxs("div",{className:"p-4 bg-white flex flex-col gap-2",children:[E.jsxs("button",{onClick:Oa,className:"w-full px-4 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[E.jsx(wb,{size:16})," Save & Continue"]}),E.jsxs("button",{onClick:Jn,className:"w-full px-4 py-3 bg-white border-2 border-red-100 text-red-600 font-bold rounded-lg hover:bg-red-50 flex items-center justify-center gap-2",children:[E.jsx(Ab,{size:16})," Discard Changes"]}),E.jsx("button",{onClick:zs,className:"w-full px-4 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-lg",children:"Cancel (Stay Here)"})]})]})}),E.jsx(PN,{isOpen:Xe,onClose:()=>et(!1),allColumns:se,columnOrder:A,setColumnOrder:x,columnVisibility:V,setColumnVisibility:O}),E.jsx(LN,{isOpen:Ii,onClose:()=>On(!1),onImport:Hs})]})}const JN=(s,e)=>{if(!s||!e)return null;const n=s.split(".").map(Number),r=e.split(".").map(Number);for(let l=0;l<Math.max(n.length,r.length);l++){const u=n[l]||0,d=r[l]||0;if(u>d)return 1;if(u<d)return-1}return 0},ZN=()=>{const[s,e]=te.useState(!1),[n,r]=te.useState({force:!1,message:"",storeUrl:"",version:""});return te.useEffect(()=>{(async()=>{try{const u="https://japanese-learning-app-fcb27.web.app/app-version.json",d=await fetch(`${u}?t=${Date.now()}`,{cache:"no-store"});if(!d.ok)return;const p=await d.json();JN(p.version,"90.90.721")===1&&(e(!0),r(p))}catch{}})()},[]),{updateAvailable:s,...n}},WN=()=>{const{updateAvailable:s,force:e,message:n,version:r}=ZN(),[l,u]=Gi.useState(!1);if(!s||l&&!e)return null;const d=()=>{window.location.reload()};return E.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-end sm:items-center justify-center p-4 pointer-events-none",children:[e&&E.jsx("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-md pointer-events-auto"}),!e&&E.jsx("div",{className:"absolute inset-0 bg-black/20 pointer-events-auto",onClick:()=>u(!0)}),E.jsxs("div",{className:`
                relative w-full max-w-md bg-white rounded-xl shadow-2xl overflow-hidden pointer-events-auto
                animate-in slide-in-from-bottom-4 duration-300
                ${e?"scale-105 ring-4 ring-red-500/20":"border border-slate-200"}
            `,children:[E.jsxs("div",{className:`${e?"bg-red-600":"bg-indigo-600"} px-6 py-4 flex items-center justify-between`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e?E.jsx(Cv,{className:"text-white",size:20}):E.jsx(GI,{className:"text-white",size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold text-lg leading-none",children:e?"Critical Update Required":"Update Available"}),E.jsxs("p",{className:`${e?"text-red-100":"text-indigo-200"} text-xs mt-1`,children:["Version ",r]})]})]}),!e&&E.jsx("button",{onClick:()=>u(!0),className:"text-white/70 hover:text-white transition-colors p-1",children:E.jsx(xb,{size:20})})]}),E.jsxs("div",{className:"p-6",children:[E.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed text-sm",children:n||"A new version of the application is available. Please update to continue ensuring the best experience."}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("button",{onClick:d,className:`w-full flex items-center justify-center gap-2 font-bold py-3.5 px-4 rounded-lg transition-all active:scale-95 text-sm
                                ${e?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-500/30":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-500/30"}`,children:e?"Update Now":"Reload to Update"}),!e&&E.jsx("button",{onClick:()=>u(!0),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-medium text-sm transition-colors",children:"Not now"})]}),e&&E.jsxs("div",{className:"flex items-start gap-2 mt-6 p-3 bg-red-50 rounded text-xs text-red-600 border border-red-100",children:[E.jsx(Cv,{size:14,className:"min-w-[14px] mt-0.5"}),E.jsx("p",{children:"This update includes critical security or feature changes. You cannot continue using the app without updating."})]})]})]})]})},e4=async()=>{const s=new Fi;try{const n=(await j1(Tr,s)).user,r=Po(vh,"users",n.uid);return(await Ep(r)).exists()||await Ro(r,{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,createdAt:new Date,role:"user"}),n}catch(e){throw console.error("Google Login Error:",e),e}},nm="https://script.google.com/macros/s/AKfycbwXyfE5aiGFaLh9MfX_4oxHLS9J_I6K8pyoHgUmJQZDmbqECS19Q8lGsOUxBFADWthh_Q/exec";function t4(){const[s,e]=te.useState(null),[n,r]=te.useState(!0),l=typeof window<"u"&&!!window.Android,[u,d]=te.useState([]),[p,y]=te.useState([]),[g,T]=te.useState("root"),[w,D]=te.useState(!0),[k,B]=te.useState(!1),[q,F]=te.useState(""),[ie,fe]=te.useState(""),[pe,Me]=te.useState(""),[Se,we]=te.useState(!1),[R,A]=te.useState(!1),[x,V]=te.useState(""),[O,j]=te.useState(!1),C=async Y=>{Y.preventDefault(),V(""),j(!0);try{const{createUserWithEmailAndPassword:se,signInWithEmailAndPassword:ce,updateProfile:Re}=await W0(async()=>{const{createUserWithEmailAndPassword:I,signInWithEmailAndPassword:X,updateProfile:re}=await Promise.resolve().then(()=>I_);return{createUserWithEmailAndPassword:I,signInWithEmailAndPassword:X,updateProfile:re}},void 0,import.meta.url);if(Se){if(!pe.trim())throw new Error("First Name is required.");const I=await se(Tr,q,ie);await Re(I.user,{displayName:pe});const X=Po(vh,"users",I.user.uid);await Ro(X,{displayName:pe,email:q,uid:I.user.uid,provider:"password",deviceType:"android",createdAt:Ul(),lastLoginAt:Ul()},{merge:!0})}else await ce(Tr,q,ie)}catch(se){console.error(se),V(se.message.replace("Firebase: ",""))}finally{j(!1)}},Xe=async Y=>{const se=Po(vh,"users",Y.uid),ce=await Ep(se),Re=!!window.Android,I={uid:Y.uid,email:Y.email,displayName:Y.displayName,photoURL:Y.photoURL,provider:"google",lastLoginAt:Ul(),deviceType:Re?"android":"web",appVersion:"90.90.721"};if(ce.exists())try{await Ro(se,I,{merge:!0}),console.log("User profile updated for",Y.uid)}catch(X){console.error("Error updating user profile:",X)}else try{await Ro(se,{...I,firstLoginAt:Ul(),createdAt:Ul()}),console.log("User profile created for",Y.uid)}catch(X){console.error("Error creating user profile:",X)}};te.useEffect(()=>{const Y=S1(Tr,async se=>{se?(e(se),await Xe(se),K(!1)):(e(null),d([])),r(!1)});return()=>Y()},[]);const et={sendAdd:async Y=>{const se={action:"add",items:Y.map(ce=>({hiragana:ce.japanese,kanji:ce.kanji,bangla:ce.bangla,lesson:ce.lesson,cando:ce.cando,is_problem:ce.isMarked,mistake_count:ce.mistakes,confidence:ce.confidence,last_practiced:ce.lastPracticed}))};await fetch(nm,{method:"POST",body:JSON.stringify(se)})},sendUpdate:async Y=>{await fetch(nm,{method:"POST",body:JSON.stringify({action:"update",updates:Y})})}},K=async(Y=!1)=>{!Y&&u.length===0&&D(!0);try{const se=await fetch(nm);if(!se.ok)throw new Error("Network response was not ok");const ce=await se.json();let Re=[];if(typeof ce=="object"&&!Array.isArray(ce)&&!ce.data?Object.keys(ce).forEach(I=>{Array.isArray(ce[I])&&ce[I].forEach(X=>{Re.push({...X,book:I})})}):Re=Array.isArray(ce)?ce:ce.data||[],Re.length>0){const I=Re.map((he,_e)=>IN(he,_e)),re=[...new Set(I.map(he=>he.book))].filter(he=>he).map(he=>({id:he,name:he,parentId:"root"}));y(re);const le=localStorage.getItem("vocabList");if(le)try{const he=new Map(JSON.parse(le).map(_e=>[_e.localId,_e]));I.forEach(_e=>{const ve=he.get(_e.localId);ve&&(_e.isMarked=ve.isMarked)})}catch(he){console.error("Merge error",he)}try{const he=await YN();he&&Object.keys(he).length>0&&(I.forEach(_e=>{if(_e.id&&he[_e.id]){const ve=he[_e.id];ve.isMarked!==void 0&&(_e.isMarked=ve.isMarked)}}),console.log("[App] Merged Firestore progress into vocabList"))}catch(he){console.error("[App] Failed to merge Firestore progress",he)}d(I)}else console.error("Unexpected data format:",ce)}catch(se){console.error("Fetch error:",se)}finally{Y||D(!1)}};return te.useEffect(()=>{u.length>0&&localStorage.setItem("vocabList",JSON.stringify(u))},[u]),te.useEffect(()=>{const Y=()=>{if(window.AudioContext||window.webkitAudioContext){const se=window.AudioContext||window.webkitAudioContext,ce=new se;ce.state==="suspended"&&ce.resume().then(()=>console.log("AudioContext resumed"));const Re=ce.createBuffer(1,1,22050),I=ce.createBufferSource();I.buffer=Re,I.connect(ce.destination),I.start(0)}window.speechSynthesis&&window.speechSynthesis.cancel(),console.log("Audio subsystem unlocked via user interaction"),document.removeEventListener("click",Y),document.removeEventListener("touchstart",Y),document.removeEventListener("keydown",Y)};return document.addEventListener("click",Y),document.addEventListener("touchstart",Y),document.addEventListener("keydown",Y),()=>{document.removeEventListener("click",Y),document.removeEventListener("keydown",Y)}},[]),te.useEffect(()=>(window.Android&&window.Android.onWebReady&&(console.log("Sending onWebReady signal to Native..."),window.Android.onWebReady()),window.onNativeLoginSuccess=async Y=>{console.log("Native Token Received. Length:",Y?Y.length:0);try{const{GoogleAuthProvider:se,signInWithCredential:ce}=await W0(async()=>{const{GoogleAuthProvider:X,signInWithCredential:re}=await Promise.resolve().then(()=>I_);return{GoogleAuthProvider:X,signInWithCredential:re}},void 0,import.meta.url),Re=se.credential(Y);console.log("Signing in with Credential...");const I=await ce(Tr,Re);console.log("Firebase Auth SUCCESS. User:",I.user.uid)}catch(se){console.error("Firebase Auth FAILED:",se),alert("Auth Error: "+se.code+" - "+se.message)}},window.onNativeLoginError=Y=>{console.error("Native Login Error from Java:",Y),alert("Login Failed: "+Y)},()=>{}),[]),E.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-[#1e1e1e]",children:[E.jsx(WN,{}),n?E.jsx("div",{className:"flex h-screen w-screen items-center justify-center text-white",children:"Loading IrodoriAI..."}):s?E.jsx($N,{vocabList:u,setVocabList:d,folders:p,setFolders:y,currentFolderId:g,setCurrentFolderId:T,isLoading:w,setIsLoading:D,isSyncing:k,setIsSyncing:B,apiService:et,fetchSheetData:K,user:s}):E.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-gray-900 flex-col gap-4",children:[E.jsx("h1",{className:"text-2xl text-white font-bold",children:"Welcome to IrodoriAI"}),!l&&E.jsx("button",{onClick:async()=>{try{await e4()}catch(Y){console.error(Y),alert("Login Error: "+Y.message)}},className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded",children:"Sign in with Google"}),l&&E.jsxs("form",{onSubmit:C,className:"w-full max-w-sm bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col gap-4 border-2 border-green-500",children:[E.jsx("div",{className:"bg-green-900 text-green-100 text-xs font-bold p-2 text-center uppercase tracking-widest mb-2 rounded",children:"ANDROID EMAIL LOGIN ACTIVE"}),E.jsx("h2",{className:"text-xl text-white font-semibold text-center",children:Se?"Create Account":"Sign In"}),x&&E.jsx("div",{className:"bg-red-500/20 text-red-200 p-2 rounded text-sm text-center border border-red-500/50",children:x}),Se&&E.jsx("input",{type:"text",placeholder:"First Name",value:pe,onChange:Y=>Me(Y.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsx("input",{type:"email",placeholder:"Email Address",value:q,onChange:Y=>F(Y.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:R?"text":"password",placeholder:"Password",value:ie,onChange:Y=>fe(Y.target.value),className:"bg-gray-700 text-white p-3 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0}),E.jsx("button",{type:"button",onClick:()=>A(!R),className:"absolute right-3 top-3 text-gray-400 hover:text-white",children:R?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),E.jsx("button",{type:"submit",disabled:O,className:`font-bold py-3 px-4 rounded transition-colors ${O?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:O?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Se?"Creating account...":"Signing in..."]}):Se?"Sign Up":"Login"}),E.jsx("div",{className:"text-center mt-2",children:E.jsx("button",{type:"button",onClick:()=>{we(!Se),V("")},className:"text-blue-400 hover:text-blue-300 text-sm underline",children:Se?"Already have an account? Login":"Need an account? Sign Up"})})]})]})]})}dS.createRoot(document.getElementById("root")).render(E.jsx(te.StrictMode,{children:E.jsx(t4,{})}));
